<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<html manifest="./manifest.php">
<head>
<script id="versionArea" type="text/javascript">
//<![CDATA[
var version = {title: "TiddlyWiki", major: 2, minor: 8, revision: 1, date: new Date("June 23, 2013"), extensions: {}};

//]]>
</script>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="description" content="">
<meta name="copyright" content="
TiddlyWiki created by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Copyright (c) Jeremy Ruston 2004-2007
Copyright (c) UnaMesa Association 2007-2012

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the UnaMesa Association nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
" />

<!--PRE-HEAD-START-->
<!--{{{-->
<link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml' />
<link rel="shortcut icon" href="http://fotw.fivestarflags.com/images/q/qy-eo_jb.gif" type="image/x-icon">
<!--}}}-->

<!--tiu cxi kodo zorgas pri tio ke cxapeligo funkcias-->
<script type="text/javascript"> 
javascript:(function(){ var d=document,s=String.fromCharCode,u={C:s(264),c:s(265),G:s(284),g:s(285),H:s(292),h:s(293),J:s(308),j:s(309),S:s(348),s:s(349),U:s(364),u:s(365)}; d.onkeypress=function(e){ if(e.charCode===88||e.charCode===120){ var a=d.activeElement,t=a.type; if(t==='text'||t==='textarea'||t==='search'){ var v=a.value,p=a.selectionStart,c=v.charAt(p-1); if(c.search(/[cghjsuCGHJSU]/)!==-1){ a.value=v.substring(0,p-1)+u[c]+v.substring(p); a.setSelectionRange(p,p); e.preventDefault(); } } } } })(); 
</script>

<!--PRE-HEAD-END-->
<title>vortareto.tk</title>
<style id="styleArea" type="text/css">
.twtable {font-size: 1.5em;}
#saveTest {display:none;}
#messageArea {display:none;}
#copyright {display:none;}
#storeArea {display:none;}
#storeArea div {padding:0.5em; margin:1em 0em 0em 0em; border-color:#fff #666 #444 #ddd; border-style:solid; border-width:2px; overflow:auto;}
#shadowArea {display:none;}
#javascriptWarning {width:50%; text-align:center; font-weight:bold; background-color:#dd1100; color:#fff; padding:1em 0em;}

#nomesearch {font-size:1.0em;}
#formulariopesquisa {width:auto;font-size:1.4em;}
#botaook {width:auto;font-size:1.0em;}
	
@media screen and (max-width: 800px)
{
	#nomesearch {font-size:1.0em;}
	#formulariopesquisa {width:auto;font-size:1.0em;}
	#botaook {width:auto;font-size:1.0em;}
}
	
@media screen and (max-width: 600px)
{
	#nomesearch {display: block; font-size:0.7em;}
	#formulariopesquisa {display: block; width:90%;font-size:1.3em; margin: auto;}
	#botaook {display: block; width:auto; font-size:1.0em; margin: 10px auto auto auto;}
}

</style>
<!--POST-HEAD-START-->

<!--POST-HEAD-END-->
</head>
<body onload="main();" onunload="if(window.unload) unload();">
<!--PRE-BODY-START-->

<!--PRE-BODY-END-->
<div id="copyright">
Welcome to TiddlyWiki created by Jeremy Ruston; Copyright &copy; 2004-2007 Jeremy Ruston, Copyright &copy; 2007-2011 UnaMesa Association
</div>
<noscript>
<div id="javascriptWarning">
This page requires JavaScript to function properly.<br /><br />If you are using Microsoft Internet Explorer you may need to click on the yellow bar above and select 'Allow Blocked Content'. You must then click 'Yes' on the following security warning.
</div>

</noscript>
<div id="saveTest"></div>
<div id="backstageCloak"></div>
<div id="backstageButton"></div>
<div id="backstageArea"><div id="backstageToolbar"></div></div>
<div id="backstage">
	<div id="backstagePanel"></div>
</div>
<div id="contentWrapper"></div>
<div id="contentStash"></div>
<div id="shadowArea">
<div title="ColorPalette">
<pre>Background: #fff
Foreground: #000
PrimaryPale: #8cf
PrimaryLight: #18f
PrimaryMid: #04b
PrimaryDark: #014
SecondaryPale: #ffc
SecondaryLight: #fe8
SecondaryMid: #db4
SecondaryDark: #841
TertiaryPale: #eee
TertiaryLight: #ccc
TertiaryMid: #999
TertiaryDark: #666
Error: #f88
</pre>
</div>
<div title="EditTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::EditToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit title'&gt;&lt;/div&gt;
&lt;div macro='annotations'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit text'&gt;&lt;/div&gt;
&lt;div class='editor' macro='edit tags'&gt;&lt;/div&gt;&lt;div class='editorFooter'&gt;&lt;span macro='message views.editor.tagPrompt'&gt;&lt;/span&gt;&lt;span macro='tagChooser excludeLists'&gt;&lt;/span&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="GettingStarted">
<pre>
พจนานุกรมเอสเปรันโต-ไทย รุ่นทดลอง
</pre>
</div>
<div title="ImportTiddlers">
<pre>&lt;&lt;importTiddlers&gt;&gt;
</pre>
</div>
<div title="MarkupPreHead">
<pre>&lt;!--{{{--&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml' /&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="OptionsPanel">
<pre>These [[InterfaceOptions]] for customising [[TiddlyWiki]] are saved in your browser

Your username for signing your edits. Write it as a [[WikiWord]] (eg [[JoeBloggs]])

&lt;&lt;option txtUserName&gt;&gt;
&lt;&lt;option chkSaveBackups&gt;&gt; [[SaveBackups]]
&lt;&lt;option chkAutoSave&gt;&gt; [[AutoSave]]
&lt;&lt;option chkRegExpSearch&gt;&gt; [[RegExpSearch]]
&lt;&lt;option chkCaseSensitiveSearch&gt;&gt; [[CaseSensitiveSearch]]
&lt;&lt;option chkAnimate&gt;&gt; [[EnableAnimations]]

----
Also see [[AdvancedOptions]]
</pre>
</div>
<div title="PageTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='header' role='banner' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
&lt;div class='headerShadow'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='headerForeground'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id='mainMenu' role='navigation' refresh='content' tiddler='MainMenu'&gt;&lt;/div&gt;
&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' role='navigation' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' role='complementary' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea' role='main'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="StyleSheetColors">
<pre>/*{{{*/
body {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}

a {color:[[ColorPalette::PrimaryMid]];}
a:hover {background-color:[[ColorPalette::PrimaryMid]]; color:[[ColorPalette::Background]];}
a img {border:0;}

h1,h2,h3,h4,h5,h6 {color:[[ColorPalette::SecondaryDark]]; background:transparent;}
h1 {border-bottom:2px solid [[ColorPalette::TertiaryLight]];}
h2,h3 {border-bottom:1px solid [[ColorPalette::TertiaryLight]];}

.button {color:[[ColorPalette::PrimaryDark]]; border:1px solid [[ColorPalette::Background]];}
.button:hover {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::SecondaryLight]]; border-color:[[ColorPalette::SecondaryMid]];}
.button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::SecondaryDark]];}

.header {background:[[ColorPalette::PrimaryMid]];}
.headerShadow {color:[[ColorPalette::Foreground]];}
.headerShadow a {font-weight:normal; color:[[ColorPalette::Foreground]];}
.headerForeground {color:[[ColorPalette::Background]];}
.headerForeground a {font-weight:normal; color:[[ColorPalette::PrimaryPale]];}

.tabSelected {color:[[ColorPalette::PrimaryDark]];
	background:[[ColorPalette::TertiaryPale]];
	border-left:1px solid [[ColorPalette::TertiaryLight]];
	border-top:1px solid [[ColorPalette::TertiaryLight]];
	border-right:1px solid [[ColorPalette::TertiaryLight]];
}
.tabUnselected {color:[[ColorPalette::Background]]; background:[[ColorPalette::TertiaryMid]];}
.tabContents {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::TertiaryPale]]; border:1px solid [[ColorPalette::TertiaryLight]];}
.tabContents .button {border:0;}

#sidebar {}
#sidebarOptions input {border:1px solid [[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel {background:[[ColorPalette::PrimaryPale]];}
#sidebarOptions .sliderPanel a {border:none;color:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:hover {color:[[ColorPalette::Background]]; background:[[ColorPalette::PrimaryMid]];}
#sidebarOptions .sliderPanel a:active {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::Background]];}

.wizard {background:[[ColorPalette::PrimaryPale]]; border:1px solid [[ColorPalette::PrimaryMid]];}
.wizard h1 {color:[[ColorPalette::PrimaryDark]]; border:none;}
.wizard h2 {color:[[ColorPalette::Foreground]]; border:none;}
.wizardStep {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];
	border:1px solid [[ColorPalette::PrimaryMid]];}
.wizardStep.wizardStepDone {background:[[ColorPalette::TertiaryLight]];}
.wizardFooter {background:[[ColorPalette::PrimaryPale]];}
.wizardFooter .status {background:[[ColorPalette::PrimaryDark]]; color:[[ColorPalette::Background]];}
.wizard .button {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryLight]]; border: 1px solid;
	border-color:[[ColorPalette::SecondaryPale]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryDark]] [[ColorPalette::SecondaryPale]];}
.wizard .button:hover {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Background]];}
.wizard .button:active {color:[[ColorPalette::Background]]; background:[[ColorPalette::Foreground]]; border: 1px solid;
	border-color:[[ColorPalette::PrimaryDark]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryPale]] [[ColorPalette::PrimaryDark]];}

.wizard .notChanged {background:transparent;}
.wizard .changedLocally {background:#80ff80;}
.wizard .changedServer {background:#8080ff;}
.wizard .changedBoth {background:#ff8080;}
.wizard .notFound {background:#ffff80;}
.wizard .putToServer {background:#ff80ff;}
.wizard .gotFromServer {background:#80ffff;}

#messageArea {border:1px solid [[ColorPalette::SecondaryMid]]; background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]];}
#messageArea .button {color:[[ColorPalette::PrimaryMid]]; background:[[ColorPalette::SecondaryPale]]; border:none;}

.popupTiddler {background:[[ColorPalette::TertiaryPale]]; border:2px solid [[ColorPalette::TertiaryMid]];}

.popup {background:[[ColorPalette::TertiaryPale]]; color:[[ColorPalette::TertiaryDark]]; border-left:1px solid [[ColorPalette::TertiaryMid]]; border-top:1px solid [[ColorPalette::TertiaryMid]]; border-right:2px solid [[ColorPalette::TertiaryDark]]; border-bottom:2px solid [[ColorPalette::TertiaryDark]];}
.popup hr {color:[[ColorPalette::PrimaryDark]]; background:[[ColorPalette::PrimaryDark]]; border-bottom:1px;}
.popup li.disabled {color:[[ColorPalette::TertiaryMid]];}
.popup li a, .popup li a:visited {color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border: none;}
.popup li a:active {background:[[ColorPalette::SecondaryPale]]; color:[[ColorPalette::Foreground]]; border: none;}
.popupHighlight {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
.listBreak div {border-bottom:1px solid [[ColorPalette::TertiaryDark]];}

.tiddler .defaultCommand {font-weight:bold;}

.shadow .title {color:[[ColorPalette::TertiaryDark]];}

.title {color:[[ColorPalette::SecondaryDark]];}
.subtitle {color:[[ColorPalette::TertiaryDark]];}

.toolbar {color:[[ColorPalette::PrimaryMid]];}
.toolbar a {color:[[ColorPalette::TertiaryLight]];}
.selected .toolbar a {color:[[ColorPalette::TertiaryMid]];}
.selected .toolbar a:hover {color:[[ColorPalette::Foreground]];}

.tagging, .tagged {border:1px solid [[ColorPalette::TertiaryPale]]; background-color:[[ColorPalette::TertiaryPale]];}
.selected .tagging, .selected .tagged {background-color:[[ColorPalette::TertiaryLight]]; border:1px solid [[ColorPalette::TertiaryMid]];}
.tagging .listTitle, .tagged .listTitle {color:[[ColorPalette::PrimaryDark]];}
.tagging .button, .tagged .button {border:none;}

.footer {color:[[ColorPalette::TertiaryLight]];}
.selected .footer {color:[[ColorPalette::TertiaryMid]];}

.error, .errorButton {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::Error]];}
.warning {color:[[ColorPalette::Foreground]]; background:[[ColorPalette::SecondaryPale]];}
.lowlight {background:[[ColorPalette::TertiaryLight]];}

.zoomer {background:none; color:[[ColorPalette::TertiaryMid]]; border:3px solid [[ColorPalette::TertiaryMid]];}

.imageLink, #displayArea .imageLink {background:transparent;}

.annotation {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; border:2px solid [[ColorPalette::SecondaryMid]];}

.viewer .listTitle {list-style-type:none; margin-left:-2em;}
.viewer .button {border:1px solid [[ColorPalette::SecondaryMid]];}
.viewer blockquote {border-left:3px solid [[ColorPalette::TertiaryDark]];}

.viewer table, table.twtable {border:2px solid [[ColorPalette::TertiaryDark]];}
.viewer th, .viewer thead td, .twtable th, .twtable thead td {background:[[ColorPalette::SecondaryMid]]; border:1px solid [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::Background]];}
.viewer td, .viewer tr, .twtable td, .twtable tr {border:1px solid [[ColorPalette::TertiaryDark]];}

.viewer pre {border:1px solid [[ColorPalette::SecondaryLight]]; background:[[ColorPalette::SecondaryPale]];}
.viewer code {color:[[ColorPalette::SecondaryDark]];}
.viewer hr {border:0; border-top:dashed 1px [[ColorPalette::TertiaryDark]]; color:[[ColorPalette::TertiaryDark]];}

.highlight, .marked {background:[[ColorPalette::SecondaryLight]];}

.editor input {border:1px solid [[ColorPalette::PrimaryMid]];}
.editor textarea {border:1px solid [[ColorPalette::PrimaryMid]]; width:100%;}
.editorFooter {color:[[ColorPalette::TertiaryMid]];}
.readOnly {background:[[ColorPalette::TertiaryPale]];}

#backstageArea {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::TertiaryMid]];}
#backstageArea a {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstageArea a:hover {background:[[ColorPalette::SecondaryLight]]; color:[[ColorPalette::Foreground]]; }
#backstageArea a.backstageSelTab {background:[[ColorPalette::Background]]; color:[[ColorPalette::Foreground]];}
#backstageButton a {background:none; color:[[ColorPalette::Background]]; border:none;}
#backstageButton a:hover {background:[[ColorPalette::Foreground]]; color:[[ColorPalette::Background]]; border:none;}
#backstagePanel {background:[[ColorPalette::Background]]; border-color: [[ColorPalette::Background]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]] [[ColorPalette::TertiaryDark]];}
.backstagePanelFooter .button {border:none; color:[[ColorPalette::Background]];}
.backstagePanelFooter .button:hover {color:[[ColorPalette::Foreground]];}
#backstageCloak {background:[[ColorPalette::Foreground]]; opacity:0.6; filter:alpha(opacity=60);}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLayout">
<pre>/*{{{*/
* html .tiddler {height:1%;}

body {font-size:.200em; font-family: sans-serif; THSarabunNewRegular; margin:0; padding:0;}

h1,h2,h3,h4,h5,h6 {font-weight:bold; text-decoration:none;}
h1,h2,h3 {padding-bottom:1px; margin-top:1.2em;margin-bottom:0.3em;}
h4,h5,h6 {margin-top:1em;}
h1 {font-size:1.35em;}
h2 {font-size:1.25em;}
h3 {font-size:1.1em;}
h4 {font-size:1em;}
h5 {font-size:.9em;}

hr {height:1px;}

a {text-decoration:none;}

dt {font-weight:bold;}

ol {list-style-type:decimal;}
ol ol {list-style-type:lower-alpha;}
ol ol ol {list-style-type:lower-roman;}
ol ol ol ol {list-style-type:decimal;}
ol ol ol ol ol {list-style-type:lower-alpha;}
ol ol ol ol ol ol {list-style-type:lower-roman;}
ol ol ol ol ol ol ol {list-style-type:decimal;}

.txtOptionInput {width:11em;}

#contentWrapper .chkOptionInput {border:0;}

.externalLink {text-decoration:underline;}

.indent {margin-left:3em;}
.outdent {margin-left:3em; text-indent:-3em;}
code.escaped {white-space:nowrap;}

.tiddlyLinkExisting {font-weight:bold;}
.tiddlyLinkNonExisting {font-style:italic;}

/* the 'a' is required for IE, otherwise it renders the whole tiddler in bold */
a.tiddlyLinkNonExisting.shadow {font-weight:bold;}

#mainMenu .tiddlyLinkExisting,
	#mainMenu .tiddlyLinkNonExisting,
	#sidebarTabs .tiddlyLinkNonExisting {font-weight:normal; font-style:normal;}
#sidebarTabs .tiddlyLinkExisting {font-weight:bold; font-style:normal;}

.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:4.5em 0 1em 1em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:4.5em 0 1em 1em; left:0; top:0;}

.siteTitle {font-size:2em;}
.siteSubtitle {font-size:1.5em;}

#mainMenu {position:absolute; left:0; width:10em; text-align:right; line-height:1.6em; padding:1.5em 0.5em 0.5em 0.5em; font-size:1.1em;}

#sidebar {position:absolute; right:3px; width:16em; font-size:.9em;}
#sidebarOptions {padding-top:0.3em;}
#sidebarOptions a {margin:0 0.2em; padding:0.2em 0.3em; display:block;}
#sidebarOptions input {margin:0.4em 0.5em;}
#sidebarOptions .sliderPanel {margin-left:1em; padding:0.5em; font-size:.85em;}
#sidebarOptions .sliderPanel a {font-weight:bold; display:inline; padding:0;}
#sidebarOptions .sliderPanel input {margin:0 0 0.3em 0;}
#sidebarTabs .tabContents {width:15em; overflow:hidden;}

.wizard {padding:0.1em 1em 0 2em;}
.wizard h1 {font-size:2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizard h2 {font-size:1.2em; font-weight:bold; background:none; padding:0; margin:0.4em 0 0.2em;}
.wizardStep {padding:1em 1em 1em 1em;}
.wizard .button {margin:0.5em 0 0; font-size:1.2em;}
.wizardFooter {padding:0.8em 0.4em 0.8em 0;}
.wizardFooter .status {padding:0 0.4em; margin-left:1em;}
.wizard .button {padding:0.1em 0.2em;}

#messageArea {position:fixed; top:2em; right:0; margin:0.5em; padding:0.5em; z-index:2000; _position:absolute;}
.messageToolbar {display:block; text-align:right; padding:0.2em;}
#messageArea a {text-decoration:underline;}

.tiddlerPopupButton {padding:0.2em;}
.popupTiddler {position: absolute; z-index:300; padding:1em; margin:0;}

.popup {position:absolute; z-index:300; font-size:.9em; padding:0; list-style:none; margin:0;}
.popup .popupMessage {padding:0.4em;}
.popup hr {display:block; height:1px; width:auto; padding:0; margin:0.2em 0;}
.popup li.disabled {padding:0.4em;}
.popup li a {display:block; padding:0.4em; font-weight:normal; cursor:pointer;}
.listBreak {font-size:1px; line-height:1px;}
.listBreak div {margin:2px 0;}

.tabset {padding:1em 0 0 0.5em;}
.tab {margin:0 0 0 0.25em; padding:2px;}
.tabContents {padding:0.5em;}
.tabContents ul, .tabContents ol {margin:0; padding:0;}
.txtMainTab .tabContents li {list-style:none;}
.tabContents li.listLink { margin-left:.75em;}

#contentWrapper {display:block;}
#splashScreen {display:none;}

#displayArea {margin:1em 17em 0 14em;}

.toolbar {text-align:right; font-size:.9em;}

.tiddler {padding:1em 1em 0;}

.missing .viewer,.missing .title {font-style:italic;}

.title {font-size:1.6em; font-weight:;}

.missing .subtitle {display:none;}
.subtitle {font-size:1.1em;}

.tiddler .button {padding:0.2em 0.4em;}

.tagging {margin:0.5em 0.5em 0.5em 0; float:left; display:none;}
.isTag .tagging {display:block;}
.tagged {margin:0.5em; float:right;}
.tagging, .tagged {font-size:0.9em; padding:0.25em;}
.tagging ul, .tagged ul {list-style:none; margin:0.25em; padding:0;}
.tagClear {clear:both;}

.footer {font-size:.9em;}
.footer li {display:inline;}

.annotation {padding:0.5em; margin:0.5em;}

* html .viewer pre {width:99%; padding:0 0 1em 0;}
.viewer {line-height:1.4em; padding-top:0.5em;}
.viewer .button {margin:0 0.25em; padding:0 0.25em;}
.viewer blockquote {line-height:1.5em; padding-left:0.8em;margin-left:2.5em;}
.viewer ul, .viewer ol {margin-left:0.5em; padding-left:1.5em;}

.viewer table, table.twtable {border-collapse:collapse; margin:0.8em 1.0em;}
.viewer th, .viewer td, .viewer tr,.viewer caption,.twtable th, .twtable td, .twtable tr,.twtable caption {padding:3px;}
table.listView {font-size:0.85em; margin:0.8em 1.0em;}
table.listView th, table.listView td, table.listView tr {padding:0 3px 0 3px;}

.viewer pre {padding:0.5em; margin-left:0.5em; font-size:1.2em; line-height:1.4em; overflow:auto;}
.viewer code {font-size:1.2em; line-height:1.4em;}

.editor {font-size:1.1em;}
.editor input, .editor textarea {display:block; width:100%; font:inherit;}
.editorFooter {padding:0.25em 0; font-size:.9em;}
.editorFooter .button {padding-top:0; padding-bottom:0;}

.fieldsetFix {border:0; padding:0; margin:1px 0px;}

.zoomer {font-size:1.1em; position:absolute; overflow:hidden;}
.zoomer div {padding:1em;}

* html #backstage {width:99%;}
* html #backstageArea {width:99%;}
#backstageArea {display:none; position:relative; overflow: hidden; z-index:150; padding:0.3em 0.5em;}
#backstageToolbar {position:relative;}
#backstageArea a {font-weight:bold; margin-left:0.5em; padding:0.3em 0.5em;}
#backstageButton {display:none; position:absolute; z-index:175; top:0; right:0;}
#backstageButton a {padding:0.1em 0.4em; margin:0.1em;}
#backstage {position:relative; width:100%; z-index:50;}
#backstagePanel {display:none; z-index:100; position:absolute; width:90%; margin-left:3em; padding:1em;}
.backstagePanelFooter {padding-top:0.2em; float:right;}
.backstagePanelFooter a {padding:0.2em 0.4em;}
#backstageCloak {display:none; z-index:20; position:absolute; width:100%; height:100px;}

.whenBackstage {display:none;}
.backstageVisible .whenBackstage {display:block;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetLocale">
<pre>/***
StyleSheet for use when a translation requires any css style changes.
This StyleSheet can be used directly by languages such as Chinese, Japanese and Korean which need larger font sizes.
***/
/*{{{*/
body {font-size:0.8em;}
#sidebarOptions {font-size:1.05em;}
#sidebarOptions a {font-style:normal;}
#sidebarOptions .sliderPanel {font-size:0.95em;}
.subtitle {font-size:0.8em;}
.viewer table.listView {font-size:0.95em;}
/*}}}*/
</pre>
</div>
<div title="StyleSheetPrint">
<pre>/*{{{*/
@media print {
#mainMenu, #sidebar, #messageArea, .toolbar, #backstageButton, #backstageArea {display: none !important;}
#displayArea {margin: 1em 1em 0em;}
noscript {display:none;} /* Fixes a feature in Firefox 1.5.0.2 where print preview displays the noscript content */
}
/*}}}*/
</pre>
</div>
<div title="ViewTemplate">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' role='navigation' macro='toolbar [[ToolbarCommands::ViewToolbar]]'&gt;&lt;/div&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='subtitle'&gt;&lt;span macro='view modifier link'&gt;&lt;/span&gt;, &lt;span macro='view modified date'&gt;&lt;/span&gt; (&lt;span macro='message views.wikified.createdPrompt'&gt;&lt;/span&gt; &lt;span macro='view created date'&gt;&lt;/span&gt;)&lt;/div&gt;
&lt;div class='tagging' macro='tagging'&gt;&lt;/div&gt;
&lt;div class='tagged' macro='tags'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;div class='tagClear'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;
</pre>
</div>

</div>
<!--POST-SHADOWAREA-->
<div id="storeArea">
<div title="BackstageSidebarPlugin" creator="YourName" modifier="YourName" created="201306061158" tags="systemConfig" changecount="1">
<pre>/***
|''Name:''|BackstageSidebarPlugin|
|''Description:''|Moves the sidebar to the backstage, as suggested at http://www.tiddlywiki.org/wiki/Dev:Backstage#Customization|
|''Author''|JonathanLister|
|''CodeRepository:''|n/a |
|''Version:''|0.1|
|''Comments:''|Please make comments at http://groups.google.co.uk/group/TiddlyWikiDev |
|''License''|[[BSD License|http://www.opensource.org/licenses/bsd-license.php]] |
|''~CoreVersion:''|2.4|

***/

//{{{
if(!version.extensions.BackstageSidebarPlugin) {
version.extensions.BackstageSidebarPlugin = {installed:true};

config.tasks.sidebar = {
	text: &quot;sidebar&quot;,
	tooltip: &quot;sidebar options&quot;,
	content: &quot;&lt;&lt;tiddler SideBarOptions&gt;&gt;&lt;&lt;tiddler SideBarTabs&gt;&gt;&quot;
};
config.backstageTasks.push(&quot;sidebar&quot;);

config.macros.BackstageSidebarPlugin = {
	tiddler:tiddler
};

config.macros.BackstageSidebarPlugin.init = function() {
	var tiddler = this.tiddler;
	setStylesheet(store.getTiddlerText(tiddler.title+'##Stylesheet'),'BackstageSidebarPlugin');
};

} //# end of 'install only once'
//}}}

/***
!Stylesheet

#sidebar {
	display:none;
}

!(end of Stylesheet)
***/</pre>
</div>
<div title="DefaultTiddlers" creator="YourName" modifier="YourName" created="201306061157" changecount="1">
<pre>serĉu</pre>
</div>
<div title="La bona lingvo" creator="YourName" modifier="YourName" created="20170715" modified="20170715" tags="dic" changecount="2">
<pre>{{{

----------------------------------------------------
-ab- -ab- → -instal·aĵ-, -uj-

abandoni abandon·i → ced·i (al la asekur·kompani·o la difekt·it·a·n aĵ·o·n)

abaĵuro abaĵur·o → lamp·o·ŝirm·il·o

abato abat·o [fun] ~ (krist·an·a) monaĥ·ej·estr·o

abatiso abatis·o → arb·o·bar·aĵ·o, trunk·o·bar·aĵ·o, baraĵ·o el de·hak·it·a·j arb·o·j (ĉefe por militaj celoj)

aberacio aberaci·o [zam] (en nefaka signifo) ~ de·voj·iĝ·o de la norm·o

abdiki abdik·i [3oa] ~ eks·iĝ·i, rezign·i pri, for·las·i, de·posten·iĝ·i

abdomeno abdomen·o → ventr·o

abismo abism·o [1oa] ~ profund·eg·o

abituro abitur·o ~ lern·ej·fin·a diplom·o, gimnazi·a diplom·o (kiu ebligas eniri universitaton)

abituriento abiturient·o [4oa] → lern·ej·fin·int·o, (en la senco de lernanto de la lasta lerneja jaro) last·jar·a lern·ant·o, lern·ej·fin·ont·o

abĵuri abĵur·i → ĵur·e mal·agnosk·i, for·ĵur·i, for·proklam·i

ablacio ablaci·o → for·ig·o, for·tranĉ·o

abnegacio abnegaci·o [2oa] ~ for·ofer·o

abnorma abnorm·a → ne·norm·a

aboli abol·i → nulig·i, forig·i (oficial·e)

abolicii abolici·i → nulig·i, forig·i (oficial·e)

aborigeno aborigen·o → pra·loĝ·ant·o

aborti abort·i (en la senco 'la plano abortis') → fiask·i, mal·sukces·i, ruin·iĝ·i

abrogi abrog·i → eks·valid·ig·i, for·ig·i, nul·ig·i (parolante pri leĝo) abrogo
abrog·o → eks·valid·ig·o, for·ig·o, nul·ig·o (parolante pri leĝo) abrogacii
abrogaci·i → eks·valid·ig·i, for·ig·i, nul·ig·i (parolante pri leĝo) abrogacio
abrogaci·o → eks·valid·ig·o, for·ig·o, nul·ig·o (parolante pri leĝo)

absolvi absolv·i [zam] ~ pek·liber·ig·i, mal·kondamn·i

acerba acerb·a → (pri gusto de fruktoj kaj similaj) acid·(eg·)a; (pri sinteno al aliaj homoj) akr·a, mal·mild·a

acidometro acidometr·o → acid·ec·mezur·il·o

adaĝo adaĝ·o [teĥnika vorto, muziko] ~ mal·rapid·a muzik·pec·o adaĝe
adaĝ·e ~ mal·rapid·e

adekvata adekvata → (laŭ la kunteksto) taŭg·a, ĝust·a, konven·a, sufiĉ·a

adheri adher·i → al·glu·iĝ·i adhera
adher·a → al·glu·iĝ·a, glu·a

adip· adip· (en sciencaj vortoj) → gras·o

adjekto adjekt·o ~ adverb·aĵ·o

adjektivo adjektiv·o [fun] ~ a·vort·o, ec·o·vort·o

adjudiki adjudik·i → anonc·i konkurs·o·n (laŭ la signifo de malfemado de konkurso pri farota laboro/liverado); kontrakt·e komisi·i (transdoni laboron aŭ kontrakton pri liverado de varoj/servoj); al·juĝ·i (decidi pri la transdono de kontrakto pri laboro/liverado)

adjunkto adjunkt·o [zam] ~ help·ofic·ist·o

administracio administraci·o → administr·ad·o, administr·ej·o, administr·ant·ar·o, administr·a sistem·o; (en la senco de usona registaro) reg·ist·ar·o

administratoro administrator·o [zam] → administr·ant·o, administr·ist·o

adoleskanto adolesk·ant·o ~ kresk·ant·o, dek·kelk·jar·ul·o, matur·iĝ·ant·o, plen·kresk·ant·o, jun·ul·o

adoleski adolesk·i ~ plen·kresk(-ad)-i, (seks·e) matur·iĝ·i, jun·i

adolesko adolesk·o ~ kresk·aĝ·o, plen·kresk·ad·o, (seks·a) matur·iĝ·o, matur·iĝ·aĝ·o, jun·ec·o

adoleskulo adolesk·ul·o ~ kresk·ant·o, dek·kelk·jar·ul·o, matur·iĝ·ant·o, plen·kresk·ant·o, jun·ul·o

adolto adolt·o → plen·kresk·ul·o, plen·kresk·int·o

adversa advers·a → kontraŭ·a, kontraŭ·ag·a
adversulo
advers·ul·o → kontraŭ·ul·o

aerobia aerobi·a → oksigen·bezon·a, oksigen·uz·a

aerodino aerodin·o → flug·maŝin·o (pli pez·a ol aer·o)

aerodromo aerodrom·o → flug·haven·a kur·ej·o, aviad·il·a kur·ej·o

aerolito aerolit·o [1oa] → meteor·ŝton·o

aeronaŭto aeronaŭt·o → flug·balon·ist·o

aeronaŭtiko aeronaŭtik·o → aer·vetur·scienc·o; aer·vetur·ad·o

aeroplano aeroplan·o [3oa] → aviad·il·o

aerostato aerostat·o [zam] ~ (flug·)balon·o

afekcio afekci·o [zam] → mal·san·o afekcii
afekci·i (en pluraj sencoj) → efik·i je/al

afero afer·o [fun] (en la senco de konkreta aĵo) → aĵ·o

afidavito afidavit·o → ĵur·deklar·o, ĵur·atest·o

Afganistano Afganistan·o → Afgan·uj·o

aforismo aforism·o [1oa] ~ dir·aĵ·o, sentenc·o [fun]

afranko afrank·o [1oa] ~ send·o·kost·o, poŝt·mark·o

afrikato afrikat·o → ek·frot·a son·o, ek·frot·a konsonant·o, eksplod·frot·a konsonant·o

afro- afro- (kiel mallongigita vorto por Afriko) → afrik-

afusto afust·o [1oa] ~ paf·il·port·il·o, paf·il·sub·ten·il·o

agariko agarik·o → (en la ĝenerala senco de fungo) fung·o

agendo agend·o [zam] → (se temas pri listo de diskutendaĵoj) tag·ord·o

agento agent·o (en gramatiko) → ag·ant·o

agnostikismo agnostikism·o → sen·sci·ism·o

agorafobio agorafobi·o ~ tim·eg·o pri mal·ferm·it·ec·o

agresiva agresiv·a → agres·a, agres·em·a

agrikulturo agrikultur·o [zam] ~ ter·kultiv·ad·o (inkluzive de bestbredado) agrikulturisto
agrikultur·ist·o [zam] ~ ter·kultiv·ist·o

agro agr·o → (kultiv·at·a aŭ kultiv·ebl·a) kamp·o

agronomo agronom·o [7oa] → ter·kultiv·o·scienc·ist·o, agronomi·ist·o

agronomio agronomi·o [1oa] ~ ter·kultiv·o·scienc·o

aideso aides·o → aidos·o

ajuto ajut·o → el·flu·regul·il·o

akceli akcel·i [fun] ~ (pli·)rapid·ig·i

akcizo akciz·o [1oa] ~ (ĉiutaga lingvo) impost·o

akĉento akĉent·o → " (speciala, (sia)landa, fremda, ...) el·parol·manier·o"

aklimatizi aklimatiz·i [zam] → al·klimat·ig·i, al·kutim·ig·i

akneo akne·o → akno·mal·san·o

aknozo akn·oz·o → akno·mal·san·o

akolito akolit·o → pastr·o·help·ant·o, mes ·help·ant·o

akomodi akomod·i [zam] → al·ĝust·ig·i, adapt·i

akomodiĝi akomod·iĝ·i → alĝust·iĝ·i, adapt·iĝ·i

akredit-i akredit·i (en la senco de 'agnoski', 'akcepti') → agnosk·i, (oficial·e) akcept·i

akronimo akronim·o → (komenc·liter·a, precipe parolebla) mal·long·ig·o

aktinidio aktinidi·o ~ kivi·frukt·uj·o

akumulatoro akumulatoro → (ĉiutaga lingvo) elektr·uj·o, elektr·o·konserv·uj·o

akustiko akustik·o → (laŭ la kunteksto) son·scienc·o; son·kvalit·o; son·trans·don·o

akuta akut·a [2oa] ~ (pri ideoj, diroj) sagac·a, (pri anguloj) akr·a, (pri malsanoj) subit·a

-al -al → -ost·o (aŭ aliaj vortoj laŭ la signifo)

alelo alel·o → gen·vari·aĵ·o

alo al·o → flug·il·o, flug·il·um·o, flank·o, flank·ul·o, flank·lud·ant·o (pied·pilk·lud·ant·o en unu flank·o), padel·o (ĉiu el la lamenoj de helico), foli·o (en la kazo de floroj kaj fruktoj)

aldo ald·o [2oa] (en la senco de 'alda violono') ~ ald·a violon·o

aleatora aleatora → hazard·a; hazard·ec·a

alelopatio alelopati·o → veget·aĵ·a mis·akord·o

alero aler·o → (super·pord·a) tegment·et·o, vent·o·tegment·o, kontraŭ·pluv·a tegment·o

alfa alfa (greka litero) ~ grek·a a; (kiel vicmontrilo ofte) unu·a, (en la okazo de bestoj) ĉef·a, reg·ant·a

alglui al·glu·i (en komputilaj laboroj) ~ en·met·i, en·ig·i, en·glu·i

alial alial → ali·kial·e Ssv plio 3

aliam aliam → ali·temp·e, ali·foj·e, ali·okaz·e Ssv plio 3

alianco alianc·o → (inter·)lig·o

alie alie (en la senco de 'aliloke') → ali·lok·e Ssv plio 3

aliel aliel → alie, ali·manier·e Ssv plio 3

alies alies → de iu ali·a, de ali·a (hom·o), ali·ul·a Ssv plio 3

alimento aliment·o (en la okazo de eksgeedziĝo) → sub·ten·pag·o, viv·ten·dev·o

aliom aliom → ali·kvant·e Ssv plio 3

aliu aliu → ali·ul·o Ssv plio 3

alklimatizi aklimatiz·i [zam] → al·klimat·ig·i, al·kutim·ig·i

alofono alofon·o ~ (lingv·o·son-)vari·aĵ·o, ali·son·o

aloktono alokton·o → ekster·nask·it·o, ekster·ul·o

alopato alopat·o → mal·homeopati·ist·o, mal·homeopati·a kurac·ist·o (vidu la linion pri "aleopatio" por detaloj)

alopatio alopati·o → (por la nuntempa uzo fare de homeopatiemuloj) mal·homeopati·o (temas pri tiu medicina sistemo, kiun oni kutime nomas "scienca medicino" au "moderna medicino"); (por la origina uzo fare de Hahnemann) ali·efik·a medicin·o

alt alt → je la potenc·o de, mem·obl·e, je la ...·a mem·obl·o

alterglobalismo alterglobalism·o → ali·mond·ism·o, alternativ·a tut·mond·iĝ·o

alternatoro alternator·o → altern·ig·il·o, altern·elektr·ig·il·o

altimetro altimetr·o → alt·mezur·il·o altometro
alt·o·metr·o → alt·mezur·il·o

alveolaro alveolar·o → dent·o·karn·a son·o

amara amar·a [4oa] ~ mal·dolĉ·a, mal·ĝoj·a

ambasadoro ambasador·o [1oa] ~ ambasad·estr·o

ambasadorejo ambasador·ej·o [1oa] ~ ambasad·ej·o, ambasad·o

ambigua ambigu·a → du·senc·a, plur·senc·a, dub·senc·a

amen! amen! [zam] ~ ver·e, cert·e, tiel est·u! (kiel ekkrio)

ameno amen·o [zam] → aprob·o, konsent·o

amendo amend-o [9oa] ~ ŝang-o-propron-o

amnio amni·o → ĉirkaŭ·fet·a membran·o

amoko amok·o → murd·em·o, mort·ig·em·frenez·o

amori amor·i ~ (am-)seks·um·i

amortizi amortiz·i (en la senco 'malfortigi vibrojn') → vibr·o·sorb·i
amortizilo
amortiz·il·o → vibr·o·sorb·il·o

amplifi amplif·i → fort·ig·i, pli·fort·ig·i, (se temas pri sono) laŭt·ig·i
amplifikatoro
amplifikator·o → fort·ig·il·o, pli·fort·ig·il·o, (se temas pri sono) laŭt·ig·il·o
amplifiki
amplifik·i → fort·ig·i, pli·fort·ig·i, (se temas pri sono) laŭt·ig·i

ampolo ampol·o ~ ard·lamp·o

anaeroba anaerob·a → ne·oksigen·bezon·a, sen·oksigen·a

anaerobia anaerobi·a → ne·oksigen·bezon·a, sen·oksigen·a

anafilaksio anafilaksi·o → alergi·eg·o, alergi·a super·reag·o anafilakta
anafilakt·a → alergi·eg·a (ŝok·o)

anakronismo anakronism·o [2oa] ~ epok·erar·o, temp·erar·o

analfabeta analfabet·a [zam] → ne·leg·o·sci·a, sen·alfabet·a, skrib·mal·kler·a analfabeto
analfabet·o [zam] → ne·lego·sci·ul·o, sen·alfabet·ul·o, skrib·mal·kler·ul·o

analoj anal·o·j → laŭ·jar·a historio, laŭ·jar·a kronik·o

analekto analekt·o → resum·o, kolekt·o

analgetiko analgetik·o → kontraŭ·dolor·ilo, dolor·mild·ig·il·o, kontraŭ·dolor·a pilol·o

analgeziko analgezik·o → kontraŭ·dolor·ilo, dolor·mild·ig·il·o, kontraŭ·dolor·a pilol·o

analgezio analgez·io → dolor·ne·sent·ec·o

analitiko analitik·o [zam] → analiz·o, (matematik·a) analiz·o, (geometri·a) analiz·o. Vidu krome ssv plio 1

anarĥio anarĥi·o [3oa] ~ sen·reg·ec·o

anatomio anatomi·o [1oa] ~ korp·o·struktur·o, korp·a struktur·o; (en ĝenerala senco) struktur·o

anemio anemi·o [zam] ~ mank·o de ruĝ·a·j ĉel·o·j

anestez-i anestez·i ~ sen·sent·ig·i

angio angi·o ~ korp·a tub·et·o

anglicismo anglicism·o [zam] → angl·aĵ·o, angl·a vort·o, angl·a dir·manier·o

anihilo anihil·o → neni·iĝ·o, mal·aper·o anihilacio
anihil·o → neni·iĝ·o, mal·aper·o

animacio animaci·o → mov·bild·ar·o; (kiam temas pri desegnofilmo) desegn·o·film·o

animalo animal·o [8oa] → best·o

animeo anime·o → (japan·stil·a) desegn·o·film·o

ankro ankr·o (en la senco de turnebla kerno de dinamomaŝino aŭ elektromotoro) → rotaci·kern·o, turn·iĝ·kern·o

anonima anonim·a [1oa] ~ sen·nom·a, sen·person·ec·a (parolante pri, ekzemple, stilo). (Vidu ankaŭ 1oa: anonim-a).

anormala anormal·a [zam] → ne·normal·a

anso ans·o [zam] → ten·il·o, pren·il·o

ante ante (uzata kiel prepozicio anstataŭ 'de') → de

anti- anti- → kontraŭ-, mal-, ne- (laŭ la signifo)

antibiotiko antibiotik·o [9oa] ~ kontraŭ·bakteri·a substanc·o

antibiozo antibioz·o → antibiotik·a efik·o, antibiotik·a ag·ad·o, kontraŭ·bakteri·a ag·ad·o

antidoto antidot·o → kontraŭ·venen·o, (en figura senco) kontraŭ·rimed·o, kurac·il·o

antimaterio antimateri·o → kontraŭ·materi·o, mal·materi·o, invers·a materi·o

antipatio antipati·o [1oa] → mal·simpati·o

antisemita antisemit·a [zam] → kontraŭ·jud·a, kontraŭ·ŝem·id·a

antisemito antisemit·o [zam] → kontraŭ·jud·ul·o, kontraŭ·ŝem·id·ul·o

antisepsa antiseps·a → kontraŭ·infekt·a, sen·infekt·ig·a

antitokso antitoks·o → kontraŭ·venen·o

antitoksino antitoksin·o → kontraŭ·venen·o

antologio antologi·o [2oa] ~ (elekt·it·a) verk·ar·o

antro antr·o → kavern·o, grot·o

antropo antrop·o (en sciencaj vortoj) → hom·o, hom·simil·a

antropogena antropogen·a → hom·kaŭz·at·a, hom·kaŭz·it·a

antropogenezo antropogenez·o → hom·ek·est·o

antropoida antropoid·a → hom·simil·a

antropologo antropolog·o [7oa] ~ antropologi·ist·o, hom·sciencisto, hom·stud·ant·o

antropologio antropologi·o [1oa] ~ hom·scienc·o, hom·esplor·o

antroponimo antroponim·o → hom·nom·o antroponimio
antroponimi·o → hom·nom·o·scienc·o

anunciacio anunciaci·o (kristana religio) [fun] ~ anonc·o (al Maria)

apelo apel·o → nom·vok·o

apendicito apendicit·o → apendic·inflam·o

aperta apert·a → mal·ferm·it·a, sub·ĉiel·a, publik·a

aperti apert·i → mal·ferm·i, est·i mal·ferm·it·a

aperturo apertur·o [6oa] ~ → tru·o

aplikaĵo aplikaĵ·o (en la senco de "malgranda programo intalebla sur lerta poŝtelefono") ~ program·et·o

apostato apostat·o [zam]→ for·las·int·o de religi·o, de·fal·int·o (de religi·o aŭ politik·a parti·o)

apoteozo apoteoz·o [2oa] ~ di·ig·o, glor·ig·o, triumf·o

apozicio apozici·o [2oa] → apud·met·o

apreci aprec·i → ŝat·i, aprez·i. Vidu Ssv plio 8.

apreti apret·i → fin·pret·ig·i, fin·pri·labor·i, fin·bon·ig·i, fin·trakt·i, fin·polur·i
apreturo
apretur·o → fin·pret·ig·il·o

aprezi aprez·i ~ ŝat·i, admir·i. Vidu Ssv plio 8.

aprilo april·o [fun] ~ la 4·a monat·o

Aprutio Apruti·o → Abruc·o

aptenodito aptenodit·o → grand·a pingven·o, grand·pingven·o

apterigo apterig·o ~ kivi·o (la birdo)

apunto apunt·o → mank·ant·a·j mon·er·o·j (por finpagi la precizan prezon), mon·er·proviz·o (ekzemple: la pasaĝeroj devas mem havigi la apunton, aĉetante sian bileton).

arakido arakid·o → ter·nuks·o

arasao arasa·o → gujav·et·o

arbedo arbed·o → trunk·arbust·o, tuf·arbust·o

arealo are·al·o → viv·are·o, loĝ·lok·o

arĥi- arĥi- → ĉef-

arĥipelago arĥipelag·o [3oa] ~ insul·ar·o

ariero arier·o → mal·antaŭ·o. Vidu ankaŭ Ssv plio 17 ariergardo
arier·gard·o (en la armea signifo) → mal·antaŭ·a taĉment·o, mal·antaŭ·ir·ant·o·j arierulo
arier·ul·o (en piedpilkado) → defend·ant·o

arieso aries·o → vir·ŝaf·o

ario ari·o [1oa] ~ melodi·o

arĥaika arĥaik·a [3oa] ~ mal·nov·iĝ·int·a

arĥaismo arĥaism·o [8oa] ~ mal·nov·aĵ·o

arĥeologio arĥeologi·o [3oa] ~ antikv·scienc·o

arkaika arkaik·a [3oa] ~ arĥaik·a

arkaismo arkaism·o [8oa] ~ arĥaism·o, arĥaik·aĵ·o

arkano arkan·o → mister·o

arkanĝelo arkanĝel·o → ĉef·anĝel·o

arkeologio arkeologi·o [3oa] ~ arĥeologi·o [3oa]

arketipo arketip·o → pra·tip·o, ĉef·tip·o

arki- arki- → ĉef-

arkipelago arkipelag·o [3oa] ~ insul·ar·o

arkitekto arkitekt·o [3oa] ~ arĥitektur·ist·o, konstru·projekt·ist·o

arkitekturo arkitektur·o [8oa] → arĥitektur·o [fun], konstru·projekt·ad·o

armistico armistic·o ~ milit·halt·ig·o, milit·halt·ig·a kontrakt-o

arondisemento arondisement·o → sub·distrikt·o

arsenalo arsenal·o → arm·il·ej·o; arm·il·ar·o; (en la senco de la itala vorto arsenale) ŝip·far·ej·o

artefarita art·e·far·it·a [fun] ~ hom·far·it·a

artiklo artikl·o → var·o, komerc·aĵ·o

ascendi ascend·i → supr·e·n·ir·i, al·supr·i

ASEAN ASEAN ~ Asean-o ~ Asoan-o (Mallongigo por Asocio de Sud-Orient-Aziaj Nacioj, angle Association of Southeast Asian Nations, ASEAN )

asidua asidu·a → diligent·a, daŭr·e ag·ant·a

asimili asimil·i [2oa]~ en·sorb·i, en·pren·i, al·propr·ig·i, mal·fremd·ig·i, igi laŭa, intern·ig·i, unu·ec·ig·i, simil·ig·i

asistanto asist·ant·o [8oa] ~ hel·pant·o

asonanco asonanc·o → son·simil·ec·o, kvazaŭ·rim·o, son·ripet·ad·o

aspekti aspekt·i ~ el·rigard·i

aspergi asperg·i [2oa] ~ akv·um·i, sur·verŝ·i, akvo·verŝ·i, akvo·don·i

aspra aspr·a → mal·glat·a, rasp·a

asteroido asteroid·o → planed·et·o

astro astr·o [1oa] ~ (en komuna lingvo plej ofte) stel·o, (en scienca lingvo) kosm·a objekt·o

astrologo astrolog·o ~ stel·diven·ist·o, stel·aŭgur·ist·o, astr·o·diven·ist·o

astrologio astrologi·o ~ stel·diven·o, stel·aŭgur·ad·o, astr·o·diven·ad·o

astronaŭto astronaŭt·o ~ kosm·o·vojaĝ·ist·o astronaŭtiko
astronaŭt·ik·o → kosm·o·vojaĝ·ad·o; kosm·o·vojaĝ·scienc·o

astronomo astronom·o [1oa] → astr·o·scienc·ist·o

astronomio astronomi·o [1oa] → astr·o·scienc·o

ate ate (prepozicio) → fare de

ateismo ateism·o [2oa] ~ sen·di·ism·o, di·ne·ism·o ateisto
ateist·o [3oa] ~ ne·kred·ant·o, ne·kred·ul·o, di·ne·ant·o, sen·di·ul·o

ateliero atelier·o → (laŭ la situacio) verk·ej·o, art·verk·ej·o, labor·grup·o, man·labor·ej·o

ateljero ateljer·o → labor·grup·o, man·labor·ej·o

atenui atenu·i → mal·fort·ig·i

atlaso atlas·o (en la signifo de maparo) [8oa] ~ map·ar·o
atlas·o (kiel ŝtofo) [2oa] → saten·o

-atoro -ator·o → -ant·o, -ist·o, -il·o, maŝin·o (laŭ la signifo en la unuopa okazo)

atrakcio atrakci·o → (turism·a) al·log·aĵ·o, amuz·park·a lud·o, program·er·o en variete·a spektakl·o

atraktiva atraktiv·a → al·log·a

aŭbado aŭbad·o → maten·ruĝ·a/maten·a serenad·o

aŭdi- aŭdi- → aŭd-

aŭdicio aŭdici·o → prov·o, prov·o·prezent·ad·o

· aŭdio- aŭdio- → aŭd-


aŭdito aŭdit·o → revizi·ad·o, kontrol·ad·o (de kont·o·j), ekster·a kontrol·ad·o

aŭguro aŭgur·o ~ antaŭ·diven·o, antaŭ·sign·o

aŭgusto aŭgust·o [fun] ~ la 8·a monato

aŭkcii aŭkci·i [1oa] ~ konkur·e vend·i

aŭriklo aŭrikl·o → orel·konk·o

aŭspicio aŭspici·o [zam] → sub·ten·o

aŭstera aŭster·a → sever·mor·a

aŭstrala aŭstral·a (en la senco de 'suda') → sud·a

aŭtarcio aŭtarci·o → ekonomi·a mem·sufiĉ·o/sen·depend·ec·o, mem·produkt·ad·o, ferm·it·a ekonomi·o

aŭtarkio aŭtarki·o → politik·a sen·depend·ec·o, mem·reg·ad·o

aŭtentika aŭtentik·a [1oa]~ ver·a, ver·ec·a, ver·aĵ·a

aŭtisto aŭtist·o (en la senco de persono aŭtisma) → aŭtism·ul·o, mem·centr·ul·o, en·ferm·ul·o

aŭto- aŭto- (en sciencaj vortoj) → mem, mem·funkci·a

aŭtodidakte aŭtodidakt·e [zam]→ mem·lern·e, mem·instru·e

aŭtodidakto aŭtodidakt·o [zam] → mem·instru·it·o, mem·lern·ant·o

aŭtodidaktismo aŭtodidaktism·o [zam]→ mem·lern·ad·o

aŭtokrato aŭtokrat·o [2oa] ~ sol·reg·ist·o, sol·reg·ant·o

aŭtokratio aŭtokrati·o [3oa] ~ sol·reg·o, sol·reg·ad·o, sol·reg·ec·o

aŭtoktono aŭtokton·o → pra·loĝ·ant·o, indiĝen·o

aŭtonoma aŭtonom·a [4oa] ~ mem·star·a, mem·reg·a

aŭtostrado aŭto·strad·o → aŭto·voj·o

aŭtoŝoseo aŭto·ŝose·o [8oa - 3oa] ~ aŭto·voj·o

avalo aval·o → garanti·o

avanci avanc·i → (en la senco 'moviĝi antaŭen') antaŭ·e·n·ir·i: (en la senco 'ricevi pli altan rangon') rang·alt·iĝ·i

avangardo avan·gard·o → (en la armea signifo) antaŭ·taĉment·o, antaŭ·ir·ant·o·j; (en la artisma signifo) pionir·o

avano avan·o → antaŭ·o

avanulo avan·ul·o (en piedpilkado) → atak·ant·o

avataro avatar·o → rol·figur·o

averaĝo averaĝ·o → mez·nombr·o, mez·um·o

averio averi·o [en asekuroj] → difekt·o

averso avers·o → antaŭ·flank·o

avio avi·o → aviad·il·o

babordo babord·o ~ mal·dekstr·a flank·o (de ŝip·o)

bagaĝo bagaĝ·o → pak·aĵ·o, pak·aĵ·ar·o

bagno bagn·o → pun·labor·ej·o

bagro bagr·o → fos·maŝin·o, skrap·maŝin·o

bajadero bajader·o ~ hind·a danc·ist·in·o

bajto bajt·o → bit·ok·o

bakalaŭro bakalaŭr·o (en la senco de lernej-fininto) → lern·ej·fin·int·o, abiturient·o

bakŝiŝo bakŝiŝ·o ~ ŝmir·mon·o, dank·mon·o, trink·mon·o

baktericido baktericid·o → bakteri·mort·ig·aĵ·o, bakteri·mort·ig·il·o

balanco balanc·o (en la senco de 'ekvilibro') → ekvilibr·o

balancilo balanc·il·o (en la senco de stango sur kies ekstremaĵoj sidas infanoj por ludi) → baskul·o

balancumi balanc·um·i (en la signifo de marŝado sur kablo restante en ekvilibro) → ekvilibr·um·i

balancelo balancel·o ~ vel·ŝip·et·o

baled-o baled·o ~ balet·o [6oa]

balistiko balistik·o → paf(-aĵ·o)-scienc·o

baloti balot·i [2oa] ~ voĉ·don·i (per voĉ·don·il·o)

balotilo balot·il·o [2oa] ~ voĉ·don·il·o

baltika baltik·a → balt·a

balustro balustr·o ~ (balustrad·a) kolon·et·o

bando band·o (en la senco de muzikistaro) → muzik·ist·ar·o

banero baner·o (en komputado) → banderol·o, reklam·bend·o

bangalo bangal·o → (unu·etaĝ·a) (feri·)dom·(et·)o

bankedo banked·o ~ festen·o

bankiero bankier·o → bank·estr·o, bank·posed·ant·o

bankizo bankiz·o → glaci·tavol·eg·o

banuso banus·o → (orient·eŭrop·a) vic·reĝ·o

baraterio barateri·o → fraŭd·o (de ŝip·estr·o / de ŝip·an·ar·o)

Barato Barat·o ~ Hind·uj·o

barbio barbi·o → barb·fiŝ·o

barbiro barbir·o [fun] ~ friz·ist·o por viroj, barb·ist·o

barĉo barĉ·o → (slav·a) ruĝ·bet·a sup·o

bareliefo barelief·o [3oa] ~ mal·alt·relief·o

baremo barem·o → kalkul·tabel·o

bariero barier·o [3oa] ~ bar·il·o

barkano barkan·o ~ lun·ark·form·a sabl·o·mont·et·o

barometro barometr·o ~ (aer·)prem·mezur·il·o

barto bart·o → balen·lamen·o, balen·ost·o [fun]

basa bas·a → mal·alt·a, mal·fru·a (en la okazo de 'Basa Imperio')

basbalo basbal·o → baz·o·pilk·ad·o, staci·a pilk·lud·o

basebalo basebal·o → baz·pilk·ad·o

baseno basen·o (en la senco de naĝejo) ~ naĝ·ej·o

basiero basier·o → kurz·o·fal·a spekul·ant·o

basketbalo basketbal·o → korb·o·pilk·ad·o

baterio bateri·o [1oa] (en la elektra senco) ~ pil·o [5oa]; pil·ar·o
baterio [1oa] (en la senco de tamburaro) → tambur·ar·o

batrako batrak·o → sen·vost·ul·o; amfibi·o

batuo batu·o → pel·ĉas·ad·o

baŭmi baŭm·i → star·iĝ·i (parolante pri ĉevalo)

bavi bav·i → saliv·um·i

bavo bav·o → saliv·um·o, ŝaŭm·o, muk·o (en difinitaj bestaj kuntekstoj); saliv·aĉ·o (se oni volas prezenti malŝatan nuancon)

bavuro bavur·o → el·star·aĵ·o, ne·glat·aĵ·o

bazbalo bazbal·o → baz·pilk·o

bei be·i → (ŝaf·e) blek·i

bebo beb·o [8oa] ~ infan·et·o, suĉ·infan·o

beletro beletr·o [9oa] ~ bel·literatur·o, literatur·a art·o

beletristiko beletristik·o [1oa] → beletr·o [9oa]

belfrido belfrid·o → urb·o·tur·o, gard·o·tur·o, gvat·o·tur·o, alarm·a tur·o/alarm·o·tur·o

Belgrado Belgrad·o → Beograd·o

bendo bend·o [8oa] ~ (en la geografiaj esprimoj: ekzemple bendo de Gazao) stri·o [fun]; (se temas pri ŝtofo) ruband-o [fun]

benefico benefico → (En la senco de subtena pago pro senlaboreco aŭ alia kialo) sub·ten·a pag·o/help·o; (Eklezia posteno provizita per rento) eklezi·a posten·o; (Avantaĝo konsentita de la leĝo en certaj okazoj: absolvita pro benefico de dubo, se pruvoj ne estas sufiĉe fortaj) mank·o de pruv·o·j: (Prezentado (spektaklo, sportludo, koncerto ktp), kies profitoj venas al unu aktoro, aŭ al filantropia entrepreno) bon·far·a prezent·ad·o

benigna benign·a → ne·grav·a, ne·danĝer·a

benko benk·o [fun] (en esprimoj kiel 'Okcidenta benko') → bord·o, river·bord·o

berbero berber·o ~ amaziĥ·o

berserko berserk·o → (skandinav·a) furioz·a batal·ant·o

bestia besti·a → best·ec·a

bestio besti·o → best·o, best·ul·o, best·a hom·o, sovaĝa besto

bestselero bestseler·o → plej vend·at·a libr·o

beta beta (greka litero) ~ greka bo

Bharato Bharat·o → Barat·o

bi- bi- → du-, ambaŭ

bibliofila bibliofil·a → libr·o·ŝat·ant·a, libr·em·a

bibliofilio bibliofili·o → libr·o·am·em·o, linr·o·kolekt·ad·o

bibliofilo bibliofil·o → libr·o·kolekt·ant·o, libr·o·ŝat·ant·o, libr·o·am·ant·o

bibliografo bibliograf·o [7oa] ~ fak·ul·o pri libr·o·j

bibliografio bibliografi·o [2oa] ~ referenc·o·j, font·ar·o, font·o·list·o

bibliomanio bibliomani·o → libr·o·mani·o

biblioteko bibliotek·o [1oa] ~ libr·ej·o, libr·o·ten·ej·o, libr·ar·ej·o

bido bid·o → pilk·et·o, glob·et·o

bideo bide·o → sid·kuv·o, sid·pelv·o

bienalo bienal·o → du·jar·a prezent·ad·o

bifsteko bifstek·o ~ bov·tranĉ·aĵ·o

bijekcio bijekci·o ~ dis·sur·ĵet·o, ĉio·n·cel·ant·a unu·al·unu·funkci·o, funkci·o unu·al·unu kaj sur·a

bilabialo bilabial·o → du·lip·a konsonant·o

bilaterala bilateral·a → du·flank·a

bildstrio bild·stri·o [1oa+fun] ~ bild·rakont·o

biliono bilion·o (en la senco de 1.000.000.000.000) ~ mil miliard·o·j. Vidu Ssv plio 20
bilion·o [zam] (en la senco de 1.000.000.000) → miliard·o. Vidu Ssv plio 20

bio- bio- → viv-, vivaĵ-

biodegradado biodegradado → dis⋅iĝ⋅o, dis⋅er⋅iĝ⋅o

biodiverseco biodivers·ec·o → biologi·a divers·ec·o, viv-(aĵ-)divers·ec·o

biografo biograf·o [7oa] ~ viv·pri·skrib·verk·ist·o

biografio biografi·o [2oa] ~ viv·pri·skrib·o

biogramo biogram·o → viv·pri·skrib·o

biologio biologi·o [1oa] ~ viv(·aĵ)·scienco

biontologio biontologi·o → viv·scienc·o, biologi·o

biorubo biorub·o → viv·aĵ·o·rub·o, hum·ig·ebl·a rub·o

biri bir·i → lok·determin·i, navigaci·i birilo
bir·il·o → lok·determin·il·o; (por ilo kiu kombinas lokdeterminadon kaj vojplanadon) navigaci·il·o

bis bis! ~ re·e!, de·nov·e!

bisako bisak·o → du·sak·o, du·poŝ·a sak·o

bisekci bisekc·i → du·sekc·i, du·on·sekc·i, tranĉ·i je du partoj

biseksa bi·seks·a → du·seks·a, ambaŭ·seks·a

bislamo bislam·o → la bislam·a lingv·o

bizara bizar·a ~ strang·a, ekster·ordinar·a

bizneso biznes·o → komerc·o, negoc·o

blagi blag·i ~ ŝerc·e mensog·i:

blami blam·i → kulp·ig·i, riproĉ·i

blazo blaz·o → (haŭta) vezik(et)o

blinda blind·a (en la senco de "senfenestra") → sen·fenestr·a

blino blin·o → rus·a pat·kuk·o

blinko blink·o → intermit·a lum·o
blinkilo
blink-il-o (de aŭtomobilo k.s.) → direkt·o·montr·il·o

blogo blog·o ~ ret·a tag·libr·o, ret·tag·libr·o, ret·o·tag·libr·o

blokhaŭso blokhaŭs·o → (mal·grand·a) fortik·aĵ·o; kiras·it·a paf·ej·o

blufi bluf·i [9oa] ~ ŝajn·ig·i (en kartoludo), mensog·e tromp·i

bluĝino bluĝin·o → (blu·a) ĝinz·o; ĝinz·o·ŝtof·o

boaco boac·o [9oa] ~ nord·a cerv·o [fun]

bobo bob·o → sport·glit·vetur·il·o, sport·sled·o

bobelo bobel·o → vezik·o [fun], aer·vezik·o

bobo- bo·bo- ~ uzebla duobligo de la prefikso "bo-", sed, se ekzistas ebleco miskompreni, oni prefere priskribu la celatan rilaton, ekzemple por bobofrato: edzo de bofratino aŭ edzo de fratino de bofrato, ktp.

boji boj·i [fun] ~ (hund·e) blek·i

bokalo bokal·o --> vitr·a uj·o, konfit·uj·o, konserv·o·vaz·o

boksi boks·i [1oa], [zam] ~ pugn·o·batal·i, pugn·ad·i

bolilo bol·il·o (ujo por boligi akvon) ~ bol·ig·il·o, bol·uj·o.

boluso bolus·o → (grand·a) pilol·o, pilol·eg·o

bonifiko bonifik·o → al·don·a/krom·a avantaĝ·o, prez·o·redukt·o (laŭ Krause), donac·o, kompens·o, krom·salajr·o

bonzo bonz·o [sla] (en figura senco: "neestiminda altrangulo") → moŝt·ul·o

boreala boreal·a [zam] → nord·a

borno born·o → klem·o

bosko bosk·o [2oa] ~ (bel·e aranĝ·it·a) arb·ar·et·o

boso bos·o → ĝib·o

botaniko botanik·o [1oa] ~ kresk·aĵ·o·scienc·o

braceleto bracelet·o [2oa] ~ ornam·a brak·ring·o/pied·ring·o, ĉirkaŭ·man·o

brakicefal-o brakicefal·o → mal·long·kap·ul·o, larĝ·kap·ul·o

brava brav·a (en la senco de obeema, trankvila) → obe·em·a, trankvil·a, bon·kondut·a; (al artistoj) bril·e, lert·e bravisime
bravisim·e [zam] → bon·eg·e, lert·eg·e bravuro
bravuro ~ (en muzika senco) lert·ec·o; (en la senco de fanfaronaĵo) fanfaron·aĵ·o

Brazilio Brazili·o (ĉef-urbo de Brazilo) → Braziljo

aĵo brevo brev·o [zam] → pap·a leter·o

breviero brevier·o [zam] → (katolik·a) pastr·a preĝ·o·libr·o, preĝ·libr·o

brezi brez·i → ek·rost·e stuf·i

brioĉo brioĉ·o → (franc·stil·a, dolĉ·a) lakt·o·bulk·o; lun·ark·a bulk·o, lun·ark·a kuk·o (por la matenmanĝa kuko/bulko nomata "croissant" en pluraj etnaj lingvoj)

brizo briz·o → vent·et·o

brodkasti brodkast·i → dis·send·i (per radi·o, televid·o)

bruna brun·a [fun] (en 'brunaj haroj') ~ nigr·a

brunĉo brunĉ·o → fru·tag·manĝ·o, maten·tag·manĝ·o, mez·maten·manĝ·o

bruska brusk·a → mal·mild·a, sen·pacienc·a, akr·a, mal·ĝentil·a

brutto brutt·o [zam] → mal·net·a pez·o

BuenosAjreso Buenos·Ajres·o ~ Bon·aer·o

budeno buden·o → sang·o·kolbas·o

budĝeto budĝet·o [3oa] → buĝet·o [8oa]

Budho Budh·o ~ Buda·o

budhismo budh·ism·o ~ buda·ism·o

bufono bufon·o → amuz·ist·o

bugri bugr·i → anus·fik·i, pug·seks·um·i

bujabeso bujabes·o → (provenc·a) fiŝ·sup·o

bukceno bukcen·o → (en la senco de antikva trumpeto) (rom·a) trumpet·o; (en la senco de mara molusko kun spirala konko) mar·helik·o

bukmekro bukmekr·o → vet·perist·o

buldozo buldoz·o ~ ŝov·traktor·o, fos·vetur·il·o

buleo bule·o ~ pap·a/reĝ·a dekret·o

bulio buli·o → amik·a renkont·iĝ·o, (en sporto) en·lud·ig·o

bullo bull·o → pap·a/reĝ·a dekreto

bunta bunt·a → mult·kolor·a, plur·kolor·a, divers·kolor·a, vari·kolor·a

burgo burg·o → (fortik·ig·it·a) kastel·o, fortik·aĵ·o

burgrafo burgraf·o → kastel·graf·o

buroo buro·o → ofic·ej·o, estr·ar·o

burso burs·o → mon·uj·o

busolo busol·o → kompas·o

buti but·i → ter·um·i, kovr·i per ter·o (kreskaĵon)

buteo bute·o (en la meĥanika senco) --> halt·ig·il·o, gvid·rel·o

C C (por indiki numeron laŭ la latina metodo) → 100, 100·a

campo camp·o → (besto-)pied·o, man·aĉ·o

Cejlono Cejlon·o → Srilank·o

celiakio celiaki·o → gluten·mal·san·o, gluten·ne·toler·o

celebri celebr·i [zam], (ekster la kampo de religiaj ritoj) ~ fest·i, solen·ig·i

celibato celibat·o → sen·edz·ec·o, ne·edz·iĝ·o

celulo celul·o → ĉel·o

cendo cend·o ~ cent·on·o de dolar·o, eŭr·o, gulden·o

centenario centenari·o → cent·jar·iĝ·o, jar·cent·o

centi- centi- → centono [rimarko: en la vorto 'centimetro' kaj similaj 'centi' estas parto de unu tuta radiko 'centimetr-' kaj similaj]

centimo centim·o ~ cent·on·o de frank·o

centralo central·o [8oa] ~ (en la senco de energi-produktejo) energi·ej·o, (en la senco de elektroproduktejo aŭ distribuejo) elektr·o·produkt·ej·o, centr-a elektr-ej-o, (en la senco de centra telefonejo) centr-a telefon-ej-o

centralizi centraliz·i [3oa] ~ centr·igi

centrifuga centrifug·a → de·centr·a

centripeta centripet·a → al·centr·a

cerealo cereal·o → gren·o, maten·gren·aĵ·o (en la senco de grenoj manĝataj en la mateno ofte kun lakto)

cerebelo cerebel·o → et·cerb·o, cerb·et·o

cerebro cerebr·o → grand·cerb·o, eg·cerb·o

certa cert·a (tuj antaŭ substantivo, kiam ne temas pri certeco, sendubeco) → iu, forlaso de "certa"

cerumeno cerumen·o → orel·vaks·o

ci ci [fun] (uzata kiel ordinara pronomo en amikaj rilatoj) → vi

cianoforo cianofor·o → blu·pigment·ĉel·o, blu·pigment·o·ĉel·o, blu·pigment·a ĉel·o

ciber· ciber· → ret·a

cibernetiko cibernetik·o → kibernetik·o

cicero cicer·o → ciceron·a liter·spec·o

cico cic·o [9oa] ~ mam·pint·o

cicumo cic·um·o ~ suĉ·il·o

ciklo cikl·o (kiam temas pri veturilo) → velociped·o, (en kunmetaĵoj) -bicikl·o, -rad·il·o (vidu la liniojn pri "motorciklo", "unuciklo" kaj "triciklo")

ciklono ciklon·o → kirl·o·ŝtorm·o

cimo cim·o (komputile) → (program-)erar·o

cirkonspekta cirkonspekt·a → sin·gard·em·a

cirkuli cirkul·i [3oa] ~ trafik·i

(kurta) cirkvito (kurt·a) cirkvit·o → fuŝ·kontakt·o, tuŝ·kontakt·o

cis cis → mal·trans, ĉi·flank·e de

citologio citologi·o → ĉel·biologi·o

civila civil·a [1oa] ~ (rilata al civitanoj) civit·an·a; (interna al komunumo) (inter·)civit·an·a, intern·a; (nearmea) ne·arme·a; (nereligia) ne·religi·a

civilizacio civilizaci·o [3oa] ~ civiliz·o

cunamo cunam·o ~ (mar·a) ond·eg·o cunamio
cunami·o → (mar·a) ond·eg·o
Ĉadio Ĉad·i·o → Ĉad·o

ĉaledo ĉaled·o → mont·a lign·o·dom·(et·)o

ĉampano ĉampan·o [fun] ~ (ĉampanj·a/franc·a) ŝaum·vin·o

ĉampinjono ĉampinjon·o (en la ĝenerala senco de 'fungo') → fung·o

ĉampionado ĉampion·ad·o → (en la senco de serio de ludoj por akiri la titolon de ĉampiono) turnir·o, ĉampion·um·o

ĉanto ĉant·o → parol·kant·o, mez·epok·a preĝ·ej·a kant·o

ĉarelo ĉarel·o → lev·ĉar·o

ĉardo ĉard·o → hungar·a gast·ej·o

ĉarlatani ĉarlatan·i [fun] ~ (mensog·e) tromp·i

ĉeftero ĉef·ter·o ~ kontinent·a ter·o, firm·a ter·o

ĉefurbo ĉef·urb·o ~ reg·urb·o

ĉenilo ĉenil·o → raŭp·form·a ornam·aĵ·o

(amata) ĉevaleto (am·at·a) ĉeval·et·o [zam] [sla] ~ prefer·at·a tem·o, am·at·a ŝat·okup·o. Vidu ssv plio 10.

ĉi ĉi (sola kaj ne kunligita kun la posta vorto, kiel ekzemple en 'ĉi libro', do, esence je la loko de 'ĉi tiu') → ĉi tiu

ĉibuko ĉibuk·o → turk·a pip·o

ĉiĉerono ĉiĉeron·o ~ urbo·gvid·ant·o/-ist·o

ĉipa ĉip·a → mal·multe·kost·a, et·kost·a

ĉipo ĉip·o → integr·a cirkvit·o, ic·o mikroĉipo
mikroĉip·o → integr·a cirkvit·o, ic·o

ĉipso ĉips·o (pri manĝaĵetoj) → flok·o, (se temas pri terpomoj) ter·pom·flok·o, (se temas pri maizo) (sal·a) maiz·flok·o, (se temas pri tiuj chips, kiuj angle nomiĝas tortilla chips) maiz·pan·a flok·o. ; (laŭ la signifo, kiun "chips" havas en kelkaj landoj) ter·pom·fingr·o

ĉirpi ĉirp·i [zam] ~ (insekt·e) bru·i

ĉuro ĉur·o [sla] ~ (hom·a) sperm·o

dabingo dabing·o → ĉin·a pat·kuk·o

daĉo daĉ·o → (rus·a) feri·dom·o

daltonismo daltonism·o [zam] → kolor·blind·ec·o; ruĝ·verd·blind·ec·o (kiel plej ofte priparolata formo de kolorblindeco en la komuna lingvo)

damo dam·o (sinjorino, nobela sinjorino, karto en kart-ludoj) → sinjor·in·o, reĝ·in·o (en kart-ludoj)

damaĝi damaĝ·i → mal·util·i, difekt·i

damaskeni damasken·i → ornam·i per or·o aŭ juvel·o·j, damask·um·i

damni damn·i ~ mal·ben·i

dampi damp·i (muziko) → mild·ig·i, sufok·ig·i, laŭt·mal·pli·ig·i dampilo
dampil·o → (aŭtomobilo) fum·tub·o; (ĝenerale) bru·/son·sorb·il·o

dank' al dank' al → dank·e al

darfi darf·i → rajt·i, pov·i, est·i permes·it·a, hav·i ebl·o·n

dariolo dariol·o → frit·it·a pasto·poŝ·o kun intern·a dolĉ·aĵ·o

datao data·o → inform·o/-er·o, don·it·aĵ·o

dateno daten·o ~ inform·o/-er·o, don·it·aĵ·o

datumo datum·o ~ inform·o/-ero, don·it·aĵ·o

daŭbo daŭbo → barel·a tabul·o

daŭfeno daŭfen·o → hered·ont·a reĝ·id·o, kron·princ·o

dazibaŭo dazibaŭ·o ~ afiŝ·o, ĉin·a mur·afiŝ·o

debila debil·a → mal·fort·a, sen·fort·a

debuti debut·i [zam] → si·n prezent·i, komenc·i, unu·e aper·i (uzata por aktoroj kaj spektakloj)

decembro decembr·o [fun] ~ la 12·a monat·o

deci- deci- → dekono [rimarko: en la vorto 'decimetro' kaj similaj 'deci' estas parto de unu tuta radiko 'decimetr-' kaj similaj]

decimo decim·o ~ dek·a interval·o, dekt·o. Vidu ssv plio 9.

decimala decimal·a [2oa] ~ dek·um·a

defaŭlta defaŭlt·a → implic·it·a, norm·a, antaŭ·fiks·it·a/agord·it·a, ĉef·a (kiam temas pri elekto inter pluraj eblecoj)

defetisto defetist·o → mal·venk·ist·o, mal·venk·ul·o

definitiva definitiv·a [1oa] ~ fin·a, mal·provizor·a, ne·ŝanĝ·ebl·a, firm·e decid·it·a

deflori deflor·i → mal·virg·ig·i

degni degn·i → (komplez·e/toler·e) bon·vol·i, komplez·i, bon·vol·e konsent·i

deismo deism·o [zam] → di·ism·o, di·kred·o, kred·o je la ekzist·o de ne·inter·ag·ant·a di·o

dekado dekad·o [zam] → (laŭ la kunteksto) tag·dek·o; jar·dek·o; (en matematiko) dek·obl·o-interval·o.

dekalogo dekalog·o [zam] → dek ordon·o·j (religi·a·j)

deklami deklam·i [1oa] ~ laŭt·leg·i

deklaracio deklaraci·o [3oa] ~ deklar·o

dekokti dekokt·i [zam] → bol·kuir·i, bol·solv·i

dekoracio dekoraci·o [3oa] (en la senco teatra scenaranĝo) ~ scen·fon·o, scen·aranĝ·o dekoracio
dekoraci·o [3oa] (se ne temas pri teatra dekoracio) → ornam·o [fun] dekoracio
dekoraci·o [3oa] (en la senco de honorinsigno) → honor·insign·o dekori
dekor·i → dekoraci·i (en la teatra senco); ornam·i (en ĝenerala senco).

delegacio delegaci·o [3oa] ~ deleg·it·ar·o [1oa]

delico delic·o → plezur·o, intens·a plezur·o

demagogo demagog·o [2oa] ~ popol·ist·o

demagogio demagogi·o [3oa] ~ popol·ism·o, demagog·ec·o, demagog·em·o

demarkacio demarkaci·o → lim·fiks·ad·o

demarŝo demarŝ·o → esplor·o, inter·ven·o, solv·prov·o, oficial·a ag·o

demenco demenc·o → (mal·jun·ul·a) mis·rezon· ad·o

dementi dement·i → mal·konfirm·i, mal·prav·ig·i

demisii demisi·i ~ eks·iĝ·i, rezign·i, eks·ofic·iĝi; deklar·i eks·iĝ·o·n

demokrato demokrat·o [2oa] ~ demokrati·(ism·)an·o, demokrati·ul·o [demokrati·o estas en la 8oa]

demonstri demonstr·i → montr·i, klar·ig·i, pruv·i (laŭ la signifo en la unuopaj okazoj)

demonstracio demonstraci·o [3oa] ~ montr·ad·o, pruv·ad·o, manifestaci·o (laŭ la signifo en la unuopaj okazoj)

denco denc·o (muziko) → danc·o

dendrologio dendrologi·o → arb·o·scienc·o

dendrokronologo dendrokronolog·o → arb·o·ring·o·fak·ul·o

dendrokronologio dendrokronologi·o → arb·o·ring·o·stud·ad·o

denove de·nov·e [fun] ~ re·e, nov·e, re·foj·e

dentalo dental·o → dent·a konsonant·o

departemento departement·o [2oa] → (laŭ la administra signifo en Francujo) distrikt·o, distrikt·ar·o

depeŝo depeŝ·o [1oa] ~ mesaĝ·o, rapida mesaĝ·o

depost de·post → de antaŭ

deprimi deprim·i ~ sen·energi·ig·i, sen·kuraĝ·ig·i, mal·vigl·ig·i

deputito deputit·o [fun] ~ parlament·an·o

dermatologo dermatolog·o ~ haŭt·kurac·ist·o, haŭt·ist·o

desaponti desapont·i → sen·iluzi·ig·i

desapontiĝi desapont·iĝ·i → sen·iluzi·iĝ·i, el·rev·iĝ·i, dis·rev·iĝ·i

descendi descend·i → mal·supr·e·n·ir·i, de·supr·i

desinfekti desinfekt·i → mal·infekt·i, sen·infekt·ig·i. desinfektado
desinfekt·ad·o → mal·infekt·ad·o, sen·infet·ig·o desinfektaĵo
desinfekt·aĵ·o → mal·infekt·aĵ·o, sen·infet·ig·aĵ·o desinfektilo
desinfekt·il·o → mal·infekt·il·o, sen·infekt·ig·il·o

desperi desper·i → mal·esper·i, sen·esper·i, sen·esper·iĝ·i

despoto despot·o [1oa] → tiran·o

detergi detergi → lav·pur·ig·i deterganto
deterg·ant·o → lav·pur·ig·il·o, lav·pulvor·o, lesiv·o detergento
detergent·o → lav·pur·ig·il·o, lav·pulvor·o, lesiv·o

detekti detekt·i → trov·i, mal·kovr·i, (en elektroniko) mal·modul·i detektor-o
detektor·o → mal·kovr·il·o (ofte en 'metal-malkovrilo')

devanci devanc·i → preter·pas·i, post·las·i

devii devi·i [zam] → de·voj·iĝ·i; devi·o (en statistiko) → diferenc·o, dis·ec·o

devizo deviz·o (en senco financa pri fremda mono) → fremd·a mon·o, fremd·a ĉek·o, fremd·a valut·o

dezajni dezajn·i → fason·i, projekt·i, aspekt·ig·i. Vidu Ssv plio 21 dezajno
dezajn·o → fason·o, aspekt·o; fason·ad·o, projekt·ad·o, aspekt·ig·ad·o, form·kre·ad·o. Vidu Ssv plio 21

dharmo dharm·o → darm·o

diabeto diabet·o [2oa] ~ suker·mal·san·o

diagramo diagram·o ~ grafik·aĵ·o

diakrita diakrit·a → disting·a, util·a por disting·i

diakrita signo diakrit·a sign·o → krom·sign·o, al·sign·o, super·sign·o (en Esperanto, kaj en aliaj lingvoj), sub·sign·o, apud·sign·o, tra·sign·o (en aliaj lingvoj)

diakrona diakron·a → tra·temp·a

diapozitivo diapozitiv·o → lum·bild·o

diatopa diatop·a → tra·lok·a

dieto diet·o (parlamento aŭ politika kunveno en kelkaj epokoj kaj landoj) → parlament·o

didaskalio didaskali·o → klar·ig·o, klar·ig·a tekst·o, pri·skrib·o (en foto)

dificila dificil·a → mal·facil·a

diglosio diglosi·o ~ lingv·a du·obl·ec·o, lingv·a du·norm·ec·o

diĝesto diĝest·o → re·sum·o

diĝita diĝit·a → cifer·ec·a

diĥotoma diĥotom·a: vidu ĉe: dikotom·a

dikotoma dikotom·a → du·branĉ·a
dikotomia
dikotomi·a → du·branĉ·a
dikotomio
dikotomi·o → dis·du·ec·o, dis·du·iĝ·o

diktato diktat·o [zam] → trud·ordon·o

dilui dilu·i → mal·koncentr·i

diluvo diluv·o [4oa] ~ super·akv·o, inund·o

dinamiko dinamik·o [2oa] ~ fort·o·mov·o·scienc·o

dioksido dioksid·o ~ du·okasid·o

diplomato diplomat·o [fun] ~ diplomati·ist·o

dipsomaniulo dipsomani·ul·o → drink·ul·o, drink·o·mani·ul·o

direkcio direkci·o [zam] → direkt·ist·ar·o, estr·ar·o, direktor·ar·o, direkt·a ar·o

direktoro direktor·o ~ direkt·ist·o

dirigento dirigent·o ~ orkestr·estr·o, ĥor·estr·o, muzik·estr·o, orkestr·o·direkt·ist·o

dirko dirk·o ~ ŝtel·mal·ŝlos·il·o, hok·mal·ŝlos·il·o

dirlididi dirlididi! → ba! [zam], bagatele!

dirta dirt·a → mal·pur·eg·a

disdegni disdegn·i → mal·ŝat·i

disertacio disertaci·o [zam]~ disertaĵ·o disertacii
disertaci·i [zam] ~ disert·i

disidento disident·o → ali·pens·ul·o

disipi disip·i → mal·ŝpar·i, for·neni·ig·i

disleksio disleksi·o → vort·blind·ec·o

diskedo disked·o → disk·et·o

diskoo disko·o (muziko) → disk·ej·a muzik·o

diskografio diskografi·o → disk·o·j, disk·ar·o, disk·o·list·o, el·don·it·a·j disk·o·j

diskordo diskord·o → mal·konkord·o, mal·harmoni·o

diskoteko diskotek·o → danc·ej·o, disk·ej·o, disk·o·danc·ej·o; disk·o·kolekt·o (analoge al 'biblioteko')

diskrecio diskreci·o → bon·trov·o

diskrediti diskredit·i [zam] → mis·fam·ig·i, mal·bon·fam·ig·i

diskurso diskurs·o --> parol·ad·o, tekst·o, rezon·ad·o

diskursiva diskursiv·a → mal·intuici·a

dismo dism·o → dek·on·impost·o, dek·on·aĵ·o

disocii disoci·i → mal·kombin·i, dis·ig·i

disonanco disonanc·o → mis·harmoni·o, mis·akord·o, (muzike) dis·son·ec·o, dis·son·aĵ·o.

dispensi dispens·i → liber·ig·i, sen·dev·ig·i, sen·ŝarĝ·ig·i

dispensario dispensari·o → sen·pag·a kurac·ej·o

dispozicio dispozici·o → (maniero laŭ kiu io estas dismetita) dis·met·o; (juraj preskriboj aŭ reguloj) norm·o; (natura emo) em·o

dista dist·a → mal·proksim·a

disteismo disteism·o → mal·bon·di·ism·o, malic·di·ism·o

distiko distik·o → vers·du·o

diurno diurn·o → tag·nokt·o, tag·o, 24 hor·o·j

diverĝi diverĝ·i [zam] → (laŭ la signifo en la konkretaj okazoj) dis·ir·i, dis·iĝ·i, streb·i dis·iĝ·i, mal·sam·i, mal·akord·i; (matematike) mal-konverĝ-i

divizoro divizor·o ~ divid·il·o, divid·ant·o, divid·ant·a nombro

divorco divorc·o → eks·ge·edz·iĝ·o, divid·iĝ·o

dizajni dizajn·i → fason·i, projekt·i, aspekt·ig·i. Vidu Ssv plio 21 dizajno
dizajn·o → fason·o, aspekt·o; fason·ad·o, projekt·ad·o, aspekt·ig·ad·o, form·kre·ad·o. Vidu Ssv plio 21

djablo djabl·o → mal·alt·a ĉar·et·o

docento docent·o ~ universitat·a instru·ist·o

dojeno dojen·o → plej·aĝ·ul·o

doko dok·o [4oa] ~ ŝip·ripar·a basen·o, have·a basen·o

dokumentario dokumentari·o → ne·fikci·a film·o, dokument·a film·o, raport·a film·o

dokta dokt·a → kler·a, kler·eg·a, sci·plen·a

doktoro doktor·o (de la eklezio) → kler·ul·o, majstr-o de la kred-o

dolo dol·o → krim·intenc·o, tromp·intenc·o

domajno domajn·o → ret·nom·o

domeno domen·o → ret·nom·o

domicilo domicil·o → loĝ·lok·o

dorika dorik·a → dor·a

dragono dragon·o (mita besto) → drak·o

draĝeo draĝe·o → suker·migdal·o

drajvo drajv·o (en komputiloj) → pel·il·o

dramaturgio dramaturgi·o [zam] → dram·verk·ad·o, dram·art·o

dramaturgo dramaturg·o → dram·ist·o, dram·verk·ist·o

dresi dres·i [fun] ~ mal·sovaĝ·ig·i

drezino drezin·o ~ rel·ĉar·o

driado driad·o → arb·a nimf·o

drilo dril·o ~ bor·il·o

drivi driv·i [9oa] ~ liber·e flos·i, de·voj·e flos·i

drogmano drogman·o → interpret·ist·o, buŝ·traduk·ist·o

drola drol·a → strang·a, amuz·e strang·a, amuz·a, rid·ind·a, ŝerc·em·a

drono dron·o → sen·pilot·a aviad·il·o, flug·robot·o

droŝko droŝk·o → (lu·)kaleŝ·(et·)o

drumo drum·o → frap·il·ar·o, tambur·ar·o

dualismo dualism·o [2oa] → du·ism·o

dubelo dubel·o ~ ŝraŭb·baz·o, ŝraŭb·ten·il·o, ŝraŭb·firm·ig·il·o, en·ŝraŭb·material·o

dubli dubl·i → voĉ·traduk·i, son·traduk·i, duobl·um·i

dukto dukt·o → konduk·tub·o; (en kelkaj okazoj, ĉefe en medicino) tub·et·o

dueto duet·o [1oa] ~ (en la senco de du kun-ludantoj aŭ kun-kantantoj) du·op·o, du·o; (en la senco de verko por du) du·op·aĵ·o

dumpingo dumping·o → sub·kost·a vend·ad·o, ŝut·vend·ad·o sociala dumpingo
social·a dumping·o → mal·alt·kost·a dung·ad·o

duno dun·o ~ sabl·o·mont·(et·)o

duonpatrino du·on·patr·in·o ~ vic·patr·in·o

dupo dup·o → tromp·ebl·ul·o

dura dur·a → mal·mol·a

durdisko dur·disk·o → mal·mol·a disk·o, fiks·it·a disk·o

duzo duz·o ~ flu·aĵ·akcel·a tub·o

DVD DVD ~ lum·disk·eg·o

easto east·o → orient·o

ebleco ebl·ec·o [fun] → ebl·aĵ·o, ebl·o (en la okazo de io, kio estas elektebla: vi havas du eblojn, iri tuj aŭ iri morgaŭ)

editoro editor·o → redakt·ant/int/ont·o

editorialo editorial·o → ĉef·artikol·o

edro edr·o (en geometrio) → fac·o [8oa]

eferveski efervesk·i → ek·bol·ant·a, vigl·a, gaj·e vigl·a (laŭ la kunteksto).


egoismo egoism·o [1oa] ~ mem·ism·o, mi·ec·o, mi·ism·o, mem·centr·ec·o

egoisto egoist·o [1oa] → mem·ist·o, mi·ist·o, mem·centr·ist·o, egoism·ul·o

egotismo egotism·o → mem·centr·ec·o, egoism·o

egzameno egzamen·o → ekzamen·o

eĝo eĝ·o (en la komuna lingvo) → rand·o, angul·rand·o

eĥografio eĥografi·o ~ eĥo·bild·ig·o, eĥo·bild·o (la rezulto)

eĥokardiografio eĥokardiografi·o ~ eĥo·kor·bild·ig·o

eĥokardiogramo eĥokardiogram·o ~ eĥo·kor·bildoj

eĥokardiografo eĥokardiograf·o ~ eĥo·kor·bild·ig·il·o

ejektivo ejektiv·o → (aer·)el·ĵet·a konsonant·o

ekliptiko ekliptik·o [zam] → ter·orbit·o

eko- eko- → ekologia

ekonomio ekonomi·o [1oa] (en la senco de ŝparado) ~ ŝpar·o, ŝpar·ad·o. ŝpar·em·o

ekonomiko ekonomik·o → ekonomi·scienc·o

ekscesi ekscesi [2oa] ~ tro·e far·i, tro far·i

ekscizi eksciz·i → for·tranĉ·i

ekskludi eksklud·i → ekskluziv·i

ekskuzi ekskuz·i → sen·kulp·ig·i, pardon·i
ekskuzo
ekskuz·o → sen·kulp·ig·o, pretekst·o
senekskuza
sen·ekskuz·a → ne·pardon·ind·a, ne·prav·ig·ebl·a

ekslibriso ekslibris·o → libr·o·mark·o, posed·ant·o·mark·o, posed·ant·o·slip·o

eksoskeleto eksoskelet·o → ekster·a skelet·o

eksonimo eksonim·o → ekster·a lok·nom·o

ekspansio ekspansi·o [zam] → pli·vast·iĝ·o, pli·etend·iĝ·o

ekspekti ekspekt·i → atend·i, antaŭ·vid·i

ekspektori ekspektor·i → kraĉ·i

eksperimenti eksperiment·i [1oa] (en la senco de 'sperti') → spert·i

eksperto ekspert·o → fak·ul·o, spert·ul·o

ekspertizo ekspertiz·o → raport·o, (valor-)taks·o

eksplici eksplic·i → mal·implic·i, klar·e esprim·i
eksplicita
eksplic·it·a → mal·implic·it·a, klar·a, klar·esprim·a

ekspliki eksplik·i → klar·ig·i

eksponi ekspon·i → ekspozici·i

ekspozi ekspoz·i → ekspozici·i

ekspresa ekspres·a [1oa] ~ rapid·a, rekt·a

ekspresionismo ekspresionism·o → esprim·ism·o

ekstradicio ekstradici·o → trans·don·o (de krim·int·o)

ekstrakto ekstrakt·o [1oa] ~ el·tir·aĵ·o

ekstraktadi ekstrakt·ad·i [1oa] ~ el·ig·i, el·tir·i

ekstravaganco ekstravaganc·o [zam] ~ ne·komun·a strang·aĵ·o, kondut·strang·ec·o

ekumena ekumen·a → Evitinda pro tro multaj signifoj! Jen kelkaj el ili, laŭ la kunteksto: tut·mond·a, tut·katolik·a, tut·ortodoks·a, tut·krist·an·a, tut·religi·a, ĉiu·religi·a, inter·religi·a, religi·unu·iĝ·a, universal·a, ĝeneral·a

ekumenismo ekumen·ism·o → Vidu indikon ĉe "ekumen·a". Lau la kunteksto: tut·krist·an·ism·o, inter·religi·ism·o, religi·unu·iĝ·ism·o

ekumeno ekumen·o → Vidu indikon ĉe "ekumen·a". Lau la kunteksto: tut·a mond·o, mond·o

ekvalizi ekvaliz·i (muziko) ~ egaligi

ekvilibro ekvilibr·o [2oa] ~ egal·pez·o, sam·pez·o

ekvinokso ekvinoks·o → tag··nokt·egal·ec·o, nokt·egal·ec·o

ekvivalenta ekvivalent·a [zam] ~ sam·valor·a, egal·valor·a

ekzakta ekzakt·a (en la senco de "preciza") → preciz·a
ekzakt·a (en faka uzo en la senco de "absolute preciza") [4oa] ~ absolut·e preciz·a

ekzegezo ekzegez·o [zam] → klar·ig·o, interpret·o

ekzalti ekzalt·i [zam] → entuziasm·ig·i, tro·vigl·ig·i


ekzekuta ekzekut·a (por direktoro, komitato) → plen·um·a

ekzekutivo ekzekutiv·o → plen·um·a pov·o
ekzekutiva
ekzekutiv·a → plen·um·a

ekzotera ekzoter·a → publik·a, publik·e instru·at·a

elano elan·o → impuls·o, impet·o 

elo el·o [zam] → angl·a bier·o

elektrokardiografo elektro·kardiograf·o ~ elektro·kor·bat·aparat·o, elektro·kor·stri·aparat·o, elektro·kor·spur·il·o, elektro·kor·registr·il·o

elektrokardiogramo elektro·kardiogram·o ~ elektro·kor·bat·linio, elekto·kor·stri·o, elektro·kor·spur·o, elektro·kor·registr·aĵ·o

elektronika elektronik·a [8oa] (krom en okazoj kiam ĝi signifas: funkcianta per elektraj signaloj aŭ iel rilata al elektroniko) → (laŭ la kunteksto) elektron·a, elektron·scienc·a, komput·il·a

elimini elimin·i → for·ig·i

elipso elips·o [1oa] (en literaturo) → (vort·o·)el·las·o ; (pri geometria formo en la komunuza lingvo) ~ oval·o.

elvokiva el·vok·iv·a → el·vok·a, el·vok·pov·a

emajlo emajl·o (en komputil-retaj aferoj) → ret·mesaĝ·o

emancipi emancip·i [1oa] ~ liber·ig·i

embargi embarg·i → mal·permes·i (foriri, komerci, ktp.)

embrazuro embrazur·o [zam] → fenestr·et·o, paf·fenestr·et·o

emerituro emeritur·o [zam] → pensi·o

emigri emigr·i [zam] → el·migr·i

emigracio emigraci·o [zam] → en·migr·int·ar·o, en·migr·int·a komunumo, en·migrado

emisii emisi·i → (en la senco eldoni monon, bank-biletojn) el·don·i; (en la senco de ellasado de radioj kaj similaj en fiziko) el·las·i, el·send·i, el·ig·i

emoĝio emoĝi·o → bild·sign·o

empatio empati·o → kun·sent·(ad·)o, sent·o·kompren·o

empiro empir·o → imperi·a stil·o

empireŭmo empireŭm·o → brul·odor·o

encefalo encefal·o → cerb·o

encikliko enciklik·o → pap·a rond·leter·o

endemio endemio [zam] → lok·a mal·san·o, lok·a ripet·a mal·san·o endemia
endemi·a → lok·a, region·a

endokrina endokrin·a → hormon·a, hormon·el·las·a endokrinologo
endokrinolog·o → hormon·scienc·ist·o; hormon·kurac·ist·o endokrinologio
endokrinologi·o → hormon·scienc·o

endonimo endonim·o → intern·a lok·nom·o

endoskeleto endoskelet·o → intern·a skelet·o, en·a skelet·o

engaĝi engaĝ·i (en la senco de dungi) → dung·i
engaĝ·iĝ·i (en la senso de dediĉi sin al io) → si·n dediĉ·i, dediĉ·iĝ·i

englo engl·o (en la senco de ano de ĝermana tribo) → angl·o

engraŭlo engraŭl·o [zam] → sardel·o

enjekcio enjekci·o ~ dis·ĵet·o, unu·al·unu·funkci·o

enologo enolog·o → vin·fak·ul·o, vin·scienc·ist·o

enorma enorm·a ~ grand·eg·a, ne·norm·e grand·a

ensemblo ensembl·o → muzik·grup·o

entalpio entalpi·o ~ varm·o·en·hav·o, energi·en·havo

entjero entjer·o → plen·a nombro

ento ent·o → ekzist·aĵ·o

entomologio entomologi·o [2oa] ~ insekto·scienc·o

entreo entre·o → antaŭ·manĝ·o

enumeracio enumeraci·o → list·ig·o

eosto eost·o → orient·o

epicentro epicentr·o (de tertremoj) → surfac·a centr·o

epidemio epidemi·o (1oa) ~ amas·infekt·a mal·san·o

epigrafo epigraf·o ~ sur·skrib·aĵ·o

epika epik·a → epope·a

epistakso epistaks·o → naz·o·sang·ad·o

epistemologio epistemologi·o → sci·teori·o, fiolozofi·o de scienc·o

epitafo epitaf·o → tomb·o·skrib·o, sur·tomb·a fraz·o

epitalamo epitalam·o → ge·edz·iĝ·a kant·o

epiteto epitet·o [1oa] ~ adjektiv·aĵ·o, ec·o·vort·aĵ·o

epitomo epitom·o [zam] → resum·o, resum·a lerno·libr·o, eltiraĵ·o

eposo epos·o [zam] → epope·o

erco erc·o → mineral·o, min·aĵ·o

erekcio erekci·o (de la peniso) → erekt·iĝ·o

eritrocito eritrocit·o ~ ruĝ·a sang·o·ĉel·o

eritroforo eritrofor·o → ruĝ·pigment·ĉel·o, ruĝ·pigment·o·ĉel·o, ruĝ·pigment·a ĉel·o

erota erot·a → erotik·a

erudi erud·i → kler·ig·i

erudicio erudici·o [3oa] ~ (profund·a kaj divers·fak·a) kler·ec·o

erudiciulo erudici·ul·o ~ kler·ul·o

esameno esamen·o → abel·svarm·o, abel·ar·o

-esk- -esk- → -ec-

eskalo eskal·o → ŝtup·et·ar·o; (ŝiraĵo kun formo de ŝtupetaro en maŝŝtofo) dis·maŝ·iĝ·o, maŝ·o·fal·o eskaladi
eskal·ad·i → grimp·i eskalatoro
eskalator·o → rul·ŝtup·ar·o

eskarpeno eskarpen·o → danco·ŝu·o

eskulo eskul·o → ĉeval·kaŝtan·uj·o

eskvizita eskvizit·a → rafin·it·a, eg·e bon·kvalit·a, bon·gust·eg·a, rav·a [fun]

esoterika esoterik·a → esoter·a

Esperantio Esperanti·o → Esperant·uj·o

esperantofono esperanto·fon·o → esperanto·parol·ant·o

esperantologo esperantolog·o → Esperant·o-fak·ul·o, Esperant·o-scienc·ist·o, esperantologi·ist·o

esperantologio esperantologi·o ~ Esperant·o-scienc·o

establo establ·o [4oa] (en la signifo de 'organizaĵo) ~ organiz·aĵ·o

estiel estiel → kiel

estetiko estetiko ~ bel·ec·stud·o, bel·ec·scienc·o

estrado estrad·o [1oa] → podi-o [4oa]

eŝafodo eŝafod·o [fun] ~ mort·ig·pod·i·o

etalono etalon·o → norm·aĵ·o, kompar·a indik·o

etato etat·o [fun] ~ list·o, tabel·o

etimo etim·o→ font·vort·o, pra·vort·o, origin·vort·o, vort·font·o

etimologo etimolog·o [7oa] ~ vort·de·ven·scienc·ist·o, vort·de·ven·fak·ul·o, vort·histori·ist·o

etimologio etimologi·o [2oa] ~ vort·de·ven·scienc·o, vort·histori·o, vort·de·ven·o, deven·o (de vort·o), vort·font·o

etiologio etiologi·o [1oa] ~ kaŭzo·scienc·o, kaŭzo·stud·o (precipe pri malsanoj)

etnografo etnograf·o [7oa] ~ etn·o·grafi·ist·o, etn·o·scienc·ist·o, gent·o·ersplor·ant·o etnografio
etnografi·o [2oa] ~ etno·scienc·o, popol·pri·skrib·o, gent·o·esplor·o etnologio
etnologi·o [9oa] ~ etn·o·scienc·o etnologo
etnolog·o → etn·o·scienc·ist·o

etnonimo etnonim·o → etn·o·nom·o, gent·a nom·o

etologio etologi·o [zam] ~ kondut·o·scienc·o

eŭfemismo eŭfemism·o [zam] ~ pli·bel·ig·a ĉirkaŭ·dir·o, evit·esprim·o, ĉirkaŭ·parolo, ĉirkaŭ·skrib·o, bon·vort·o, pur·a lingv·aĵ·o,

eŭfonie eŭfoni·e → bel·son·e

eŭforio eŭfori·o → ĝoj·o·sent·o, bon·fart·o·sent·o

eŭkaristio eŭkaristi·o ~ eŭĥaristi·o

eŭritmio eŭritmi·o ~ bel·ritm·a danc·o, sent-esprim-a danco

eŭro- eŭro- (kiel mallongigita vorto por Eŭropo) → eŭrop-

eŭteismo eŭteism·o → bon·di·ism·o

evento event·o [8oa] ~ okaz·aĵ·o

evolucio evoluci·o [3oa] ~ evolu-o

-eza -ez·a (por lingvoj, ekzemple: angleza) → -a

fado fad·o → fadu·o

facio faci·o → vizaĝ·o, (ĉe bestoj) muzel·o; (en medicino ankaŭ) aspekt·o

fajlo fajl·o (en komputiloj) → dosier·o, dokument·o

fajna fajn·a → subtil·a, delikat·a

fajnajta fajnajt·a → lim·hav·a, lim·ig·it·a, fin·hava

faksimilo faksimil·o ~ kopio

fakultato fakultat·o [1oa] ~ fak·ar·o (en universitato)

fakultativa fakultativ·a → liber·vol·a, ne·dev·ig·a

falafelo falafel·o ~ kiker·bul·o. Vidu ssv plio 12.

falsa fals·a → (en la senco 'falsita') fals·it·a, (en la senco 'malvera') mal·ver·a, ne·aŭtent·a
fals·a (rilate al kantado) → mis·agord·a, mis·a

falto falt·o [zam] → (en komunuza senco, parolante pri haŭto) sulk·o, sulk·et·o, haŭt·sulk·o

falva falv·a → hel·flav·fel·a

familiara familiar·a [2oa] ~ → ne·formal·a, mal·formal·a, sen·ceremoni·a, sen·ĝen·a

fano fan·o → sub·ten·ant·o, favor·ant·o, fanatik·ul·o, fervor·ul·o, entuziasm·ul·o, zelot·o, adept·o Vidu Ssv plio 23 - fano; (en la signifo de rizaĵo laŭ la uzo de ĉinaj esperantistoj) riz·aĵ·o

fanagalo fanagal·o → la fanagal·a (lingv·o)

fanfaroni fanfaron·i ~ (mensoge) tro igi

fandi fand·i (en la senso de "fari objekton per verŝado de fandita substanco en muldilon") → gis·i, fand·muld·i

fanto fant·o (en kartludo) → paĝi·o, knab·o, bub·o, soldat·o

fantasmo fantasm·o → imag·at·a scen·ar·o, fantazi·aĵ·o

far far → far·e de

farmacio farmaci·o ~ apotek·o, apotek·o·fako/scienco

farmakologio farmakologi·o [zam] → kurac·il·o·scienc·o

farniento farnient·o → neni·far·ad·o

fasado fasad·o [1oa] ~ front·o, antaŭ·a part·o, vizaĝ·o

fascini fascin·i → rav·i, sorĉ·i, ĉarm·eg·i, interes·eg·i, al·log·eg·i. Vidu Ssv plio fascini.

fatamorgano fatamorgan·o [zam] → miraĝ·o

fatraso fatras·o ~ aĉ·aĵ·ar·o, for·ĵet·ind·aĵ·o, ne·util·aĵ·o

faŭlto fault·o → ter·ŝov·iĝ·o; {fake: tavol·ŝov·iĝ·o}

faŭno faŭn·o → best·ar·o

favelo favel·o → (mizer·a) lad·kvartal·o, (mizer·a) kvartal·aĉ·o

febla febl·a → mal·fort·a

februaro februaro ~ la 2·a monat·o

federacio federaci·o [1oa] ~ feder·aĵ·o

federala federal·a → feder·a

femala femal·a → in(seks)-a

femalo femal·o → in·o, vir·in·o

femina femin·a → in·a, vir·in·a

feminismo feminism·o [2oa] ~ in·ism·o, vir·in·ism·o

feministo feminist·o [2oa] ~ in·ist·o, vir·in·ist·o

femuralo femural·o → femur·ost·o

feroca feroc·a → kruel·eg·a, sovaĝ·e kruel·a

fetoro fetor·o → fi·odor·o, odor·aĉ·o, mal·bon·odor·o

fiakro fiakr·o [2oa] ~ lu·kaleŝ·o, lu·vetur·il·o

fiasko fiask·o [1oa] ~ mal·sukces·o

fibrilacio
fibrilaci·o ~ sen·ord·a kor·vibr·ad·o

fiĉo fiĉ·o → lud·mark·o

fiki fiki [sla] ~ seks·um·i

fiksa fiks·a (en la senco de 'fiksita') → sen·mov·a

fiktiva fiktiv·a [1oa] → fikci·a [4oa]

filandr o filandr·o → arane·a faden·o

filantropio filantropi·a → hom·am·a

filatelo filatel·o ~ filatel·io ~ poŝt·mark·kolekt·ad·o

filatelio filateli·o ~ filatel·o ~ poŝt·mark·kolekt·ad·o

filio fili·o [3oa] ~ branĉ·ofic·ej·o/kompani·o

filmoteko filmotek·o → film·arĥiv·ej·o

filologo filolog·o [1oa] ~ filologi·ist·o, lingv·o·scienc·ist·o

filologio filologi·o [1oa] ~ tekst·o·scienc·o, lingv·o·scienc·o, scienc·o pri lingv·o·j, histori·o de lingv·o·j (la senco varias laŭ la landoj)

filozofo filozof·o [1oa] ~ filozofi·ist·o

financo financ·o ~ mon/spez situacio/regado

finia fini·a → fin·hav·a finio
fini·o → fin·hav·a nombr·o / punkt·o / kvant·o

finiŝo finiŝ·o → fin·streĉ·o, fin·a pen·o, fin·a impet·o

Finnlando Finn·land·o → Finland·o, Suom·uj·o finno
finn·o → finland·an·o, suom·o Aparta noto pri ĉi tiuj du radikoj: "Pri ĉi tiu punkto diskutantoj pri simplaj samsignifaj vortoj esprimis fortajn, kontraŭajn opiniojn". 

finsemajno fin·semajn·o → semajn·fin·o

-fila -fil·a -em·a (ekzemplo: ruso-fil-a -> rus-em-a)

filamento filament·o → metal·faden·o​

firmo firm·o [fun] (en la senco de komerca entrepreno) → firma·o. Vidu fun: firm-o.

firmamento firmament·o → ĉiel·a volb·o, ĉiel·o

firsto first·o → pint·o

fisio fisi·o → kern·fend·iĝ·o, (kiam oni volas esprimi ke ĝin kaŭzis homa agado) kern·fend·o

fitneso fitnes·o → (korp·a) bon·fart·o, trejniteco; (korp·o·)trejn·ad·o, gimnastik·o fitnesejo
fitnes·ej·o → (korp·o·)trejn·ej·o, gimnastik·ej·o

fitoterapio fitoterapi·o → veget·aĵ·kurac·ad·o

fizika fizik·a [zam] ~ (en la senco 'materia' aŭ 'korpa') materi·a, korp·a

fizioterapio fizioterapi·o → korp·kurac·ad·o, per·gimnastik·kurac·ad·o

flagrilo flagr·il·o ~ spark·o·baston·et·o

flar-tabako flar·taba·ko ~ naz·tabak·o

flaŭro flaŭr·o → veget·aĵ·ar·o, plant·ar·o; (en la senco de mikroboj en la korpo) mikrob·ar·o

fleŝo fleŝ·o → karn·o

floto flot·o → ŝip·ar·o

fluida fluid·a (en la senco de "nesolida", do "fluida ('likva'), gasa aŭ plasma") → flu·aĵ·a

fluidaĵo fluid·aĵ·o (en la senco de "nesolidaĵo", do "fluidaĵo ('likvaĵo'), gaso aŭ plasmo") → flu·aĵ·o

fluido fluid·o (en la senco de "nesolidaĵo", do "fluidaĵo ('likvaĵo'), gaso aŭ plasmo") → flu·aĵ·o

fluso flus·o ~ al·flu·o

flutero fluter·o ~ (kor·a) tro·puls·ad·o

fokolaro fokolar·o → fajr·uj·o (en ĉiuj sencoj)

fola fol·a → frenez-(et)-a

fonduso fondus·o → fond·aĵ·o

-fono -fon·o → -parol·ant·o (ekzemplo: esperanto-fon-o → esperanto-parol-ant-o)

fonemo fonem·o ~ (disting·o·pov·a aŭ signif·a) parol·son·o, son·tip·o, son·unu·o

fonemiko fonem(·)ik·o ~ scienc·o pri parol·son·o·j, fonem·scienc·o

fonetiko fonetik·o [1oa] ~ parol·son·scienc·o, el·parol·a scienc·o, prononc·o·scienc·o

fonio foni·o → son·a komunik·(ad·)o

fonografo fonograf·o [2oa] ~ cilindr·o·turn·il·o

fonologio fonologi·o ~ fonem·scienc·o, scienc·o pri parol·son·o·j, fonem·scienc·o, parol·son·a sistem·o (de lingv·o)

forci forc·i → kultiv·i en kultiv·dom·o forcejo
forc·ej·o → kultiv·dom·o forceja efiko
forc·ej·a efik·o → kultiv·dom·a efik·o

formato format·o (en uzo rilate al komputilaj dosieroj) → form·o, inform·aranĝ·o

formiato formiato ~ sal·o de formik·a acid·o

formikao formika·o → glim·past·o

fornelo fornelo → kuir·il·o, kuir·aparat·o, kuir·forn·o

forsto forst·o → (kultiv·)arb·ar·o forstista
forst·ist·a → (kultiv·)arb·ar·ist·a

fortreso fortres·o → fortik·aĵ·o

foruo foru·o → tradici·a leĝ·o, lok·a leĝ·ar·o (ĉefe en Hispanujo)

forvardi forvard·i → plu·send·i

fotelo fotel·o ~ brak·seĝ·o

fotogena fotogen·a → bel·e fot·ebl·a, fot·oplaĉ·a, fot·o·taŭg·a, fot·ind·a

fotopletismografio fotopletismografi·o ~ per·lum·a sang·o·kvant·o·mezur·ad·o

fotovoltaika fotovoltaik·a → sun·elektr·a
fotovoltaika panelo
fotovoltaik·a panel·o → sun·panel·o, sun·energi·a kolekt·il·o

fotri fotr·i → seks·um·i; (en aliaj kuntekstoj) tedaĉ·i; difekt·i.

fragila fragil·a → romp·iĝ·em·a, malforta, facil·e rompebla

framo fram·o [9oa] ~→ kadr·o, kadr·ec·a trab·ar·o

franĉizo franĉiz·o → (en asekuroj) propr·a risk·o, ne·asekur·it·a part·o, mem·pag·end·a part·o; (en komerco) lu·don·ad·o/pren·ad·o de komerc·a nom·o

frankofono frankofon·o → franc·lingv·an·o

fratrio fratri·o (en la ĝenerala lingvo) ~ (grek·a) famili·ar·o, klan·o

fraŭdi fraŭd·i → tromp·ŝtel·i, fals·i

frazeologio frazeologi·o [zam] → fraz·ar·o, fraz·aranĝ·o, (en la senco de "proverbaro") proverb·ar·o (Ni ne malrekomendas la uzon de la vorto en la senco de "scienco de kutimaj vort·aranĝoj")

frekvenco frekvenc·o ~ vibr·o·nombr·o (en fiziko), oft·ec·o, oft·o (en la ĝenerala lingvo kaj en statistika lingvo)

frekventi frekvent·i → vizit·ad·i

frida frid·a → mal·varm·a, (metafore:) sen·emoci·a

fri fri → afrank·e al, inkluziv·e (kost·o·j·n por/ĝis)

fridkamiono frid·kamion·o → frost·kamion·o, frost·uj·kamion·o, glaci·kamion·o, mal·varm·kamion·o

fridujo frid·uj·o → mal·varm·ujo, mal·varm·ŝrank·o

frikativo frikativ·o → frot·a son·o, frot·a konsonant·o

frikulo frik·ul·o → escept·ul·o, de·voj·iĝ·ul·o, mal·dand·o

fripono fripon·o ~ tromp·ist·o, tromp·ant·o

frisbio frisbi·o → ŝveb·disk·o

friska frisk·a → mal·varm·et·a, agrabl·e mal·varm·a

fristiko fristik·o → maten·manĝ·o

fritoj frit·o·j → ter·pom·fingr·o·j, frit·it·a·j ter·pom·o·j

froko frok·o → monaĥ·a rob·o

frondo frondo → branĉ·et·o

frontala frontal·a → frunt·a, antaŭ·a

ftiro ftir·o → pub·o·pedik·o

ftizo ftiz·o [fun] ~ tuberkuloz·o

ftiziatrio ftiziatri·o → ftiz·o·kurac·ad·o, ftiz·o·esplor·ad·o

fuelo fuel·o → brul·aĵ·o (por motor·o·j), brul·material·o, energi·font·o

fuero fuer·o → tradici·a leĝ·o, lok·a leĝ·ar·o (ĉefe en Hispanujo)

funelo funelo ~ en·verŝ·il·o

furgono furgon·o → ŝarĝ·vetur·il·o, kamion·et·o

futbalo futbal·o → pied·pilk·ad·o, asoci·a pied·pilk·ad·o; (por la pilko) pied·pilk·o; (kiel verbo oni rajtas uzi) pied·pilk·(ad)·i

futsalo futsal·o → hal·o·pied·pilk·ad·o, salon·pied·pilk·o

futuro futur·o ~ os·temp·o, est·ont·a temp·o

futo fut·o ~ pied·long·o

fuzelaĝo fuzelaĝ·o → korp·o (de aviad·il·o)

fuzio fuzi·o → kern·fand·iĝ·o, (kiam oni volas esprimi, ke ĝin kaŭzis homa agado) kern·fand·o

gaĝo gaĝ·o → garanti·aĵ·o

gaki gak·i → anser·e blek·i, anser·e kant·i

galimatio galimati·o → mis·parol·o, konfuz·aĵ·o

gallo gall·o → gaŭl·o

gamo gam·o ~ ton·ar·o

gambo gamb·o → krur·o

gapi gap·i ~ mir·e rigard·i, rigard·i kun mal·ferm·it·a buŝ·o, sen·kompren·e rigard·i

garni garn·i [3oa]→ (laŭ la kunteksto) ornam·i, ornam·i, proviz·-i per

gasakvo gas·akv·o → gas·trink·aĵ·o, trink·aĵ·o kun gas·o

gasojlo gasojl·o → dizel·ole·o, dizel·petrol·o, (NE uzu en la senco de 'benzino')

gasolino gasolin·o → benzin·o

gasometro gasometr·o [zam] → gas·o·rezerv·uj·o; (en la senco de gas-mezurilo) gas·mezur·il·o

gastro gastr·o → stomak·o

gastropodo gastropod·o ~ ventr·o·pied·ul·o

gatjo gatj·o → vir·kalson·et·o aŭ tip·a vilaĝ·an·a gamb·ing·o

gaŭĉo gaŭĉ·o → (sud··amerika) rajd·paŝt·ist·o, (sud·amerik·a rajd·ant·a) bov·ist·o/bov·gard·ist·o

gaŭĝo gaŭĝ·o → sond·il·o, mezur·il·o

gazolino gazolin·o → benzin·o

gazono gazon·o → herb·o·tapiŝ·o, herb·et·ej·o, herb·o·bed·o, bel·herb·ej·o, razen·o. Vidu Ssv plio 6.

gejo gej·o ~ sam·seks·em·ul·o

gelo gel·o → frost·o

gemuta gemut·a → agrabl·a, hejm·ec·a

generalisimo generalisim·o → ĉef·general·o

generatoro generator·o → (elektr·o·)gener·il·o
vent·generator·o → vent·a gener·il·o

genetika genetik·a → gen·a

genocido genocid·o → popol·murd·o, gent·o·murd·ad·o

genomo genom·o → gen·ar·o

genro genr·o [9oa] (en gramatiko) ~ (seks·baz·it·a / anim·ec·baz·it·a) (substantiv·/vort·)klas·o, (gramatik·a) seks·o. Vidu ssv plio 13.
genr·o [9oa] (pri bestoj kaj kreskaĵoj) ~ spec·ar·o
genr·o (en la senco de 'socia sekso') → (soci·a) seks·o, (soci·a) seks·rol·o, seks·an· ec·o

gento gent·o [fun] (en antikva Romo) ~ famili·ar·o, famili·grup·o

geo- geo- (en sciencaj kaj teĥnikaj vortoj) → ter·o, mond·o, tut·mond·a

geocentra geocentr·a → ter·centr·a

geodezio geodezi·o → ter·mezurado, mond·o·mezur·ad·o

geografo geograf·o [7oa] → geografi·ist·o

geokaŝado geokaŝ·ad·o → tut·mond·a kaŝ·ad·o

geokaŝanto geokaŝ·ant·o → tut·mond·a kaŝ·ant·o

geologo geolog·o [3oa] ~ ter·scienc·ist·o, geologi·ist·o geologio
geologi·o ~ ter·scienco, grund·scienc·o, grund·stud·o, scienc·o pri ter·natur·o/kvalit·o

geometro geometr·o [7oa] → geometri·ist·o, ter·mezur·ist·o, kamp·o·mezur·ist·o, konstru·teĥnik·ist·o

geometrio geometri·o [1oa] ~ form·o·scienc·o, mezur·scienc·o

geriatrio geriatri·o → mal·jun·ul·medicin·o, mal·jun·kurac·art·o geriatro
geriatr·o → mal·jun·ul·kurac·ist·o, mal·jun·kurac·ist·o

gerontologio gerontologi·o → mal·jun·ec·o·scienc·o

getto gett·o → get·o, jud·a kvartal·o, apart·a kvartal·o

ghetto ghett·o → get·o, jud·a kvartal·o, apart·a kvartal·o

giga- giga- (en la ĝeneral lingvo) ~ miliard·o

giganto gigant·o ~ grand·eg·ul·o, eg·ul·o

Gigeso Giges·o ~ Gig·o (reĝo en la greka mitologio, kiu havis ringon, kiu igis la posedanton nevidebla)

giko gik·o → stud·em·ul·o, (komput·/teĥnik·)fantatik·ul·o/mani·ul·o/obsed·at·o, kod·um·ul·o

gimnazio gimnazi·o ~ mez·a lern·ej·o, mez·lern·ej·o, super·a mez·lern·ej·o

ginekologo ginekolog·o ~ vir·in·kurac·ist·o, por·vir·ina·a kurac·ist·o, por·in·a kurac·ist·o, kurac·ist·o de vir·in·o·j

gingivalo gingival·o → gingiv·a konsonant·o

gingivo gingiv-o ~ dent·o·karn·o

giri gir·i → turn·iĝ·i

giso gis·o (en la senco de "fera alojo kun relative multe da karbono") → gis·fer·o

gjako gjak·o → grunt·bov·o, tibet·a bov·o (vidu ankaŭ ĉe "poefago")

glaco glac·o → spegul·vitr·o

glacoviŝilo glac·o·viŝ·il·o → vitr·o·viŝ·il·o

glacea glace·a → bril·polur·it·a, bril·a (papero)

glaĉero glaĉer·o → glaci·river·o, (en la ĝenerala lingvo) glaci·ej·o

glatiso glatis·o → glaci·o, glaci·tavol·o

glebo gleb·o → ter·bul·o

glisi glis·i ~ flug·ŝveb·i

globala global·a → tut·mond·a, glob·a

globaliĝo global·iĝ·o → tut·mond·iĝ·o, tut·mond·ig·o

globalizo globaliz·o → tut·mond·iĝ·o, tut·mond·ig·o

globulo globul·o ~ sang·o·ĉel·o

globuso globus·o [zam] → ter·glob·o, ter·glob·et·o

glupo glup·o → stult·ul·o

gluteo glute·o → sid·vang·o

gofri gofr·i → brul·stamp·i

goldeno golden·o (kiel nomo de pomspeco) --> or·a, bon·gust·a/flav·a, bon·gust·a pom·o (se oni nepre volas asimili tiun nomon per tradukado)

goŝisto goŝ·ist·o → mal·dekstr·ul·o

graco grac·o (faka vorto, religia) ~ di·favor·o (montras la korfavoron de Dio); di·help·o (montras la laŭpetan dian intervenon)

gracila gracil·a → mal·fort·a, mal·dik·eg·a

graf- graf- → skrib-, pri·skrib-

grafitio grafiti·o ~ mur·skrib·aĵ·o, mur·pentr·aĵ·o, pentr·o·skrib·aĵ·o

grafologo grafolog·o ~ skrib·esploranto

grafologio grafologi·o ~ skrib·esplor·o

grafomano grafoman·o → skrib·mani·ul·o, skrib·em·ul·o

grafomanio grafomani·o → skrib·mani·o, skrib·em·o

graki grak·i ~ (korve) blek·i/kant·i

gramofono gramofono ~ disk·o·turn·il·o

granolo granol·o → (mal·grand·a) pilol·o, grajn·et·o

granulo granul·o → (mal·grand·a) pilol·o, grajn·et·o

grateni graten·i ~ krust·bak·i, krust·ig·e bak·i, krust·um·i gratenita
graten·it·a ~ kun (fromaĝ·a / pan·er·a) krust·o, krust·bak·it·a gratenaĵo
graten·aĵ·o ~ krust·bak·aĵ·o

gratifiko gratifik·o → (dank·a) aŭ (instig·a) rekompenc·o, krom·salajr·o, krom·rekompenc·o

graŭ graŭ → dank·e al

grefo gref·o → ung·eg·o

grejso grejs·o (en la signifo de 'sabloŝtono) → sabl·o·ŝton·o, sabl·o·ŝton·aĵ·o

greso gres·o → herb·o, paŝt·herb·o

grimpoframo grimp·o·fram·o → grimp·o·stang·o·j

grioto griot·o → acid·a ĉeriz·o

grivo griv·o → lardo·pec·et·o, lardo·rost·aĵ·o

groba grob·a → ne·rafinit·a, grand·a

groco groc·o → dek·du·o da dek·du·o·j, 144

grondi grond·i → grund·i (pri ŝipo, kiu restas implikita en la malalta fundo de maro aŭ rivero)

gropo grop·o → (best·a) dors·o

grumo grum·o → serv·ist·(et·)o

grumbli grumbl·i ~ murmur·(eg·)i

grundologio grund·ologi·o → grund·o·scienc·o, grund·o·stud·o

grundologo grund·olog·o → grund·o·scienc·ist·o, grund·o·stud·ant·o

grunti grunt·i ~ (porke-)bleki

gubernatoro gubernator·o → provinc·estr·o, reg·ist·o

gubernio guberni·o [2oa] ~ provinc·o

guberniestro guberni·estr·o (parolante pri Usono) → sub·ŝtat·estr·o

gufujo guf·uj·o [esp] ~ (nokt·a) te·trink·ej·o (en junularaj renkontiĝoj). Vidu esp: gufujo.

gugli gugl·i ~ ret·serĉ·i

gulaŝo gulaŝ·o ~ hungar·a bov·viand·aĵ·o

guno gun·o → jun·bov·in·o

guruo guru·o ~ (en religia senco) spirit·a majstr·o, spirit·a gvid·ant·o; (en ĝenerala senco) majstr·o, gvid·ant·o; (en la financa kampo) spert·ul·o.

gurdo gurd·o ~ turn·orgen·et·o

gvardio gvardi·o ~ gard·ist·ar·o

gvardiano gvardi·an·o → gard·ist·o

gvati gvat·i ~ kaŝ·e observ·i

gvidoro gvidor·o → gvid·ant·o, gvid·ist·o

ĝaino ĝain·o (religio) → ĝajn·o

ĝelo ĝel·o → gelaten·o

ĝemelo ĝemel·o [4oa] ~ du·nask·it·o

ĝemela urbo ĝemel·a urb·o ~ amik·a urb·o, partner·a urb·o

ĝemina ĝemin·a → du·op·a

ĝenio ĝeni·o → fe·o, kobold·o

ĝentlemano ĝentleman·o → nobl·ul·o, kavalir·o, ĝentil·ul·o

ĝermo ĝerm·o (en la senco de malsaniga mikrobo) → mal·san·ig·a mikrob·o

ĝino ĝin·o (koboldo en arabaj landoj) → fe·o, kobold·o

ĝinso ĝins·o → ĝinz·o

ĝisosta ĝis·ost·a [sla] ~ fort·e konvink·it·a; (pri Esperanto) obstin·a esper·ant·ist·o

ĝisostulo ĝis·ost·ul·o. Vidu ĝisosta.

habiliti habilit·i → rajt·ig·i, kapabl·ig·i

habitato habitat·o → viv·ej·o, viv·are·o, kresk·ej·o, loĝ·lok·o

haĉi haĉ·i → strek·et·um·i

halanĝo halanĝ·o→ ŝerc·galimati·o, sen·senc·a parol·ad·o

haleluja haleluja ~ goj·u, jubil·u!, viv·u!, Glor·u la Sinjor·o·n! (laŭ la katolika tradicio), Glor·u la etern·ul·o·n! (laŭ la zamenhofa traduko de la Biblio), Glor·u Jave·o·n!, glor·u/laŭd·u Di·o·n.

halfo half·o (sporto) → centr·ul·o, ŝirm·ant·o, defend·ant·o

ha lo! ha lo! → saluton!, hola!

halo! halo! → salut·o·n!, hola!

haloo halo·o → lum·ring·o

halukso halukso → pied·a dik·fingr·o

hamburgero hamburger·o ~ hamburg·aĵ·o

handbalo handbal·o → man·pilk·ad·o

handikapo handikap·o (en sportaj konkursoj) → egal·ig·a (mal·)avantaĝ·o; (ĝenerale) mal·avantaĝ·o, ne·kapabl·o, difekt·o, invalid·ec·o

handikapulo handikap·ul·o (pri homo kun malavantaĝoj) → mal·avantaĝ·ul·o, ne·kapabl·ul·o, difekt·it·o, invalid·o

hanti hant·i → tim·eg·i. fantom·i, vizit·ad·i (fare de fantomoj), obsed·i

hardi hard·i ~ mal·mol·ig·i

hardvaro hardvar·o → aparat·ar·o

harmonizi harmoniz·i → harmoni·ig·i, al·don·i harmoni·a·j·n voĉ·o·j·n

hasti hast·i → rapid·i

hati hat·i → mal·am·i

haŭli haŭl·i → ŝnur·tir·i

haŭsiero haŭsier·o → kurz·alt·iĝ·a spekul·ant·o

haŭzo haŭz·o (muziko) ~ dom·muzik·o

heĝo heĝ·o ~ arbust·a bar·il·o, (ĉirkaŭ·)bar·il·o, (plekt·o·)bar·il·o

hej hej → salut·o·n!

hejmpaĝo hejm·paĝ·o → (en la senco de 'kolekto de retpaĝoj ĉe unu TTT-adreso/servilo') ret·paĝ·ar·o, ret·ej·o (en la senco de 'ĉefa/komenca paĝo de retpaĝaro') ĉef·paĝ·o, en·ir·paĝ·o

hekatombo hekatomb·o [1oa] ~ buĉ·ofer·o; amas·mort·ig·o, amas·buĉ·ad·o

hekt- hekt- (en scienc-teĥnikaj vortoj) → cento da

hekto- hekto- (en scienc-teĥnikaj vortoj) → cento da

hektika hektik·a → febr·a, febr·e vari·ant·a

hektografo hektograf·o [zam] ~ (mal·nov·a) mult·obl·ig·il·o

helianto heliant·o → sun·flor·o

heliocentrismo helio·centr·ism·o → sun·o·centr·ism·o

hemat- hemat- (en scienc-teĥnikaj vortoj) → sang-

hematemezo hematemez·o → sang·o·vom·ad·o

hemi- hemi- → du·on-

hemisfero hemisfer·o → duon·sfer·o, du·on·glob·o

hematio hemati·o ~ ruĝ·a sang·o·ĉel·o

hemoragio hemoragi·o → sang·ad·o

heni hen·i → (ĉeval·e) blek·i

heno hen·o (en la senco de 'malamo') → mal-am-o

henoteismo henoteism·o → unu·di·ism·o kun ali·a·j di·o·j, unu·di·ador·o kun akcept·o de la ekzist·o de ali·a·j di·oj

hepatiko hepatik·o → hepat·a herb·o

hepatito hepatit·o ~ hepat·inflam·o

heraldiko heraldik·o → blazon·fak·o

herdo herd·o → greg·o, cerv·ar·o, ktp...

hermeta hermet·a [zam] → ne·tra·las·a, perfekt·e ferm·it·a

hermetika hermetik·a [zam] → ne·tra·las·a, perfekt·e ferm·it·a

heterogena heterogen·a [zam] → mal·sam-(natur-)a

hiato hiat·o → (en gramatiko) vokal·dis·ec·o; (en aliaj fakoj laŭ la kunteksto) fend·o, breĉ·o, paŭz·o, inter·romp·o, interval·o, mal·ferm·aĵ·o

hibrida hibrid·a ~ miks·it·a

hibrido hibrid·o [zam] ~ du·ras·ul·o, miks·ras·ul·o

hibriso hibris·o → tro·a mem·fid·o

hieroglifo hieroglif·o ~ egipt·a skrib·sign·o

hida hid·a → mal·bel·eg·a

hidranto hidrant·o → prem·akvo·tub·o

hidro- hidro- → akvo-

hidrodinamiko hidrodinamik·o ~ flu·scienc·o

hidrogeologio hidrogeologi·o → grund·akv·a scienc·o

hidrologo hidrolog·o → akv·o·scienc·ist·o

hidrologio hidrologi·o → akv·o·scienc·o, akv·o·stud·o

hidroplano hidroplan·o ~ mar·aviad·il·o

hidrostatiko hidrostatik·o ~ scienc·o pri ne·mov·iĝ·ant·a·j flu·aĵ·o·j

hidroterapio hidroterapi·o → akv·o·kurac·ad·o

higrometro higrometr·o ~ mal·sek·ec·o·mezur·il·o

hiko hik·o → mal·facil·aĵ·o

Hindujo Hind·uj·o [zam] ~ Barat·o

hinĝo hinĝ·o → pord·hok·o

hiper- hiper- → super-

hiperbolo hiperbol·o (en nefaka uzo) → tro·ig·o

hipertensio hipertensi·o → alt·a sang·o·prem·o

hipertermio hipertermi·o → super·a (korp·o-)temperatur·o, alt·a (korp·o-)varm·o

hipo- hipo- → sub

hipocentro hipocentr·o (de tertremo) → sub·ter·a centr·o

hipokastano hipokastan·o ~ (por la arbo) (komun·a) ĉeval·kaŝtan·uj·o; (por la frukto) (komun·a) ĉeval·kaŝtan·o

hipokaŝtano hipokaŝtan·o ~ (por la arbo) (komun·a) ĉeval·kaŝtan·uj·o; (por la frukto) (komun·a) ĉeval·kaŝtan·o

hipokondrio hipokondri·o → imag·at·a mal·san·o, ŝajn·mal·san·o

hipotensio hipotensi·o → mal·alt·a sang·o·prem·o

hipotermio hipotermi·o → mal·super·a (korp·o-)temperatur·o, mal·alt·a (korp·o-)varm·o

hipotenuzo hipotenuz·o → long·a later·o, kontraŭ·ort·a later·o

hisi his·i → lev·i, supr·e·n·tir·i

hobalo hobal·o → mirho

hoakso hoaks·o → blag·o, mistifik·o

hobio hobi·o → ŝat·okup·o

hodogo hodog·o → kolbas·bulk·o

hodometro hodometr·o → paŝ·mezur·il·o, distanc·mezur·il·o

hola hola → salut·o·n!

holdo hold·o → (fund·a) ŝip·intern·o

holdingo holding·o → tegment·a firma·o

holmo holm·o → mont·et·o

holonimo holonim·o → vort·o por la tut·o, tut·o·vort·o

homeopato homeopat·o [7oa] ~ homeopati·a kurac·ist·o, homeopati·ist·o

homo- homo- → sam-

homofobio homofobi·o → kontraŭ·sam·seks·em·o, kontraŭ·gej·ec·o

homofono homofon·o → sam·son·vort·o

homogena homogen·a [zam] ~ sam·ec·a, egal·kvalit·a

homografo homograf·o → sam·skrib·vort·o

homologa homologa → sam·a

homonimo homonimo [1oa] → sam·form·a vort·o, plur·signif·a vort·o

hop! hop! [zam] ~ bon·e!, bel·e! (diritaj por substreki sukcese faratan aŭ faritan faron, kiel en la proverbo "ne diru hop! antaŭ la salto.")
hop! (ek-krio por instigi al saltado, kurado, ktp.) → ek!, nun!

hordo hord·o [zam] ~ nomad·a trib·o, invad·ant·ar·o, band·aĉ·o

hororo horor·o → (laŭ la kunteksto kaj la intencata signifo oni povas uzi unu el ĉi tiuj vortoj aŭ kombinon de ili) tim·eg·o, terur·o, abomen·o

horoskopo horoskopo ~ stel·aŭgur·il·o, stel·diven·o, astro·diven·o

hortikultur-o hortikultur·o → plant·kultiv·ad·o, plant·kultiv·a scienc·o, ĝarden(·kultiv)·ad·o

horto hort·o → frukto·ĝarden·o

horzonozo hor·zon·oz·o → hor·zon·a konfuz·o, hor·zon·a lac·o, hor·zon·sufer·o, sufer·o pro hor·diferenc·o, problem·o pro hor·diferenc·o, konfuz·o pro hor·zon·diferenc·o, temp·o·ŝanĝ·o, hor·o·ŝanĝ·o

hosana hosana ~ viv·u! glor·o·n!

hoso hoso → mol·a tub·o

hospitalo hospital·o [1oa] ~ mal·san·ul·ej·o

hotdogo hotdog·o → kolbas·bulk·o

huligano huligan·o ~ tumult·ist·o, sport·a tumult·ist·o

humana human·a [1oa] ~ hom·a, hom·ec·a, hom·am·a (laŭ la senco)
humaneco
human·ec·o [1oa] ~ hom·ec·o, hom·am·o

humanitara humanitar·a → hom·a, hom·am·a, hom·help·a, hom·cel·a (en esprimoj kiel 'homcela helpo'), hom·rilat·a (en esprimoj kiel 'homa/homrilata katastrofo')

humida humid·a [8oa] → mal·sek·et·a; (parolante pri aero) mal·sek·a

humoro humor·o ~ anim·stat·o

humuro humur·o ~ ŝerc·em·o, ŝerc·o, sprit·o

humuso humus·o ~ kiker·kaĉ·o

hupi hup·i → (avert·)son·i/ig·i

hurli hurli → (lup·e, laŭt·e) blek·i, kri·i

hurti hurt·i → al·bat·iĝ·eg·i

ĥiroptero ĥiropter·o → vespert·o

ĥirurgio ĥirurgi·o ~ kurac·ad·o per operaci·o

-i- -i- → -uj-, -land- (por land-nomoj), -scienc- (por sciencoj)

I I (por indiki numeron laŭ la latina metodo) ~ 1, 1·a

II II (por indiki numeron laŭ la latina metodo) ~ 2, 2·a

III III (por indiki numeron laŭ la latina metodo) ~ 3, 3·a

IV IV (por indiki numeron laŭ la latina metodo) ~ 4, 4·a

IX IX (por indiki numeron laŭ la latina metodo) ~ 9, 9·a

-icido -icid·o → -mort·ig·aĵ·o, mort·ig·il·o

-iĉ- -iĉ- (ne-oficiala sufikso) → vir-, vir·a

ideografio ideografi·o [3oa] ~ ide·sign·o·skrib·o, vort·(er·)sign·o·skrib·o

ideogramo ideogram·o → ide·o·sign·o; vort·(er·)o·sign·o

ideologio ideologi·o ~ ide·ar·o, ide·o·sistem·o, ism·o

idiolekto idiolekt·o → person·a lingv·o

idiosinkrazio idiosinkrazi·o → (laŭ PIV, en psiĥologio) individua sinteno, individua trajto; (en medicino) individua reago, nenormala reago; (en lingvoscienco) individua esprimmaniero, unuopula parolmaniero; (eraraj uzoj laŭ aliaj lingvoj) person·a strang·aĵ·o (anglece); tro·reag·em·o (italece)

idiomaĵo idiom·aĵ·o [2oa] ~ lingv·o·apart·aĵ·o

idiotismo idiotism·o [3oa] ~ lingv·o·apart·aĵ·o

iglo igl·o ~ neĝ·o·dom·o

iĥtiofagio iĥtiofagi·o → fiŝ·o·manĝ·ad·o

iĥtiologo iĥtiolog·o → fiŝ·o·scienc·ist·o

iĥtiologio iĥtiologi·o → fiŝ·o·scienc·o

iĥtiokolo iĥtiokol·o [fun] ~ fiŝ·glu·o

-ik- ·ik· (ne-oficiala sufikso) → ·scienc·, ·fak·, ·art·

ikono ikon·o → bild·o (laŭ la kunteksto 'religia bildo de la ortodoksa eklezio' aŭ 'bildeto uzata en la reto')

ikonoklasto ikonoklast·o → (religi·a) bild·o·romp·ant·o

iktero ikter·o → flav·iĝ·o, flav·mal·san·o, flav·iĝ·mal·san·o

ilegala ilegal·a → kontraŭ·leĝ·a, ekster·leĝ·a

ilio ilio ~ intest·ost·o iliumo
iliumo ~ intest·ost·o iljo
iljo ~ intest·ost·o

imagino imagin·o (en la kampo de insektoj) ~ fin·stadi·a insekt·o

imaginaro imaginar·o → imag·at·a nombr·o

imbecilo imbecil·o → (komunlingve) stult·ul·o

impakto impakt·o → kolizi·o, bat·o; efik·o (laŭ la kuntekstoj)

imperativo imperativ·o ~ ordon·a mod·o

imperialo imperial·o → supr·a·nivel·a·j sid·lok·o·j

imperialismo imperialism·o [3oa] → imperi·ism·o imperialisto
imperialist·o → imperi·ist·o

impertinenta impertinent·a ~ mal·respekt·a

implementi implement·i → efektiv·ig·i, plen·um·i

implici implic·i ~ en·hav·i, sub·kompren·ig·i, kun·tren·i

imploziva (konsonanto) imploziv·a (konsonanto) → mal·eksplod·a (konsonanto)

importi importi [1oa] ~ en·port·i

impresionismo impresionism·o → impres·ism·o impresionisto
impresionist·o → impres·ist·o

imprimaturo imprimatur·o → pres·permes·o

inamika inamik·a → mal·amik·a

inanicio inanici·o → (komunlingve) (mal·san·o pro) nutraĵo·mank·o

inaŭguracio imaŭguraci·o [3oa] ~ mal·ferm·i, komenc·i, inaŭgur·ad·o [4oa]

inaŭguri inaŭgur·i ~ mal·ferm·i, komenc·i

incendio incendi·o → brul·o, dom·brul·o, brul·eg·o

incesto incest·o ~ (en-)famili·a seks·um·ad·o, (en-)familia mal·ĉast·aĵ·o

incidento incident·o → okaz·aĵ·o

incizivo inciziv·o → tranĉ·o·dent·o

indikativo indikativ·o ~ ĝeneral·a mod·o, indik·a mod·o, montr·a mod·o

indiano indian·o (indiĝeno en Norda Ameriko) [zam] ~ indiĝen·a uson·an·o, indiĝen·a kanad·an·o, indiĝen·a meksik·an·o, indiĝen·a nord·amerik·an·o (laŭ la priparolata situacio)

indico indic·o ~ karakteriz·aĵ·o

indiĝeno indiĝen·o [4oa] ~ pra·loĝ·ant·o

individualismo individualism·o → individu·ism·o

indulgenco indulgenc·o (faka vorto, religia) ~ pek·liber·ig·o

inercio inerci·o [zam] → inert·o [4oa], inert·ec·o, ne·ŝanĝ·em·o, mal·vigl·ec·o

infarkto (kor·)infarkt·o ~ kor·atak·o

infinita infinit·a → sen·fin·a infinito
infinit·o → sen·fin·ec·o infinitezimo
infinitezim·o → sen·fin·ec·on·o

inflamo inflam·o [4oa] ~ brul·um·o

infloresko infloresk·o → flor·ar·o, flor·et·ar·o, sam·tig·a flor·ar·o

influenco influenc·o (medicino) → grip·o

informacio informaci·o → inform·o·kvant·o, inform·valor·o, inform·o

informadiko inform·ad·ik·o → komput·ad·o, komput·o·scienc·o

informatiko informatik·o → komput·ad·o, komput·o·scienc·o

infra· infra· → sub·
infre
infre → mal·supr·e

infraruĝa infraruĝ·a → trans·ruĝ·a

infrastrukturo infrastruktur·o → baz·a struktur·o, baz·a·j serv·o·j, baz·a·j instal·aĵ·o·j

infre infr·e → mal·supr·e

ingoto ingot·o → (metal·)brik·o

inĝenia inĝeni·a → el·trov·em·a

inĝenierio inĝenieri·o → inĝenier·art·o, inĝenier·ad·o

inhibi inhib·i → (komunuza lingvo) mal·helpi; (en ĥemio, biologio, medicino) sub·prem·i

inici inic·i → en·konduk·i (en sekton, misteron, kaj similajn)

inicialo inicial·o → komenc·liter·o

iniciativo iniciativ·o → (laŭ la kunteksto) iniciat·o, iniciat·em·o

iniciatoro iniciator·o → iniciat·int·o

inimika inimik·a → mal·amik·a

inkandeski inkandesk·i → (blank·)ard·i, lum·varm·eg·i
inkandeska lampo
inkandesk·a lamp·o --> ard·lamp·o

inklinacio inklinaci·o (en astronomio kaj ĝenerale) → klin·angul·o

inkludi inklud·i → inkluziv·i

inkludo inkud·o → ambos·ost·o

inkubo inkub·o → prem·sonĝ·o, (en praaj tekstoj) vir·form·a diabl·o dezir·ant·a amor·i kun vir·in·o

inkubatoro inkubator·o → kov·il·o

inkvizitoro inkvizitor·o [1oa] ~ inkvizici·ist·o

inocento inocent·o → sen·kulp·ul·o

inovacio inovaci·o → novi·go

inserti insert·i → greft·i

insolacio insolaci·o → sun·frap·o, sun·bat·o

instepo instep·o → pied·supr·o, pied·dors·o

instanco instanc·o [2oa] ~ (en la senco de unua, dua, lasta juĝ-grado) juĝ·grad·o

insurekcio insurekci·o → ek·ribel·o

insurgento insurgent·o → ek·ribel·ant·o

integra integr·a → tut·a, komplet·a, sen·difekt·a integri
integr·i (en la socia senco enpreni eksterulojn en la socion) → en·pren·i, kun·ig·i, en·sorb·i, en·soci·ig·i integriĝi
integr·iĝ·i (en la senco 'iĝi parto de tuto') → kun·iĝ·i

integrala integral·a (pri faruno, pano kaj similaj) → tut·grajn·a, plen·grajn·a

interezo interez·o [zam] ~ rent·um·o

interferi interfer·i → inter·i, inter·ad·i, inter·ag·i, mis·inter·ag·i

interfono interfon·o → pord·a telefon·o, intern·a telefon·o, inter·parol·il·o

interjekcio interjekci·o ~ ek·kri·o

interkomo interkom·o → pord·a telefon·o, intern·a telefon·o, inter·parol·il·o

internacia inter·naci·a (kiam ne temas pri rilatoj inter nacioj, sed pri pli ĝenerala uzo de la vorto) ~ tut·mond·a, inter·ŝtat·a, inter·land·a, inter·gent·a, plur·ŝtat·a, plur·land·a, plur·gent·a

interogativo interogativ·o → demand·a vort·o

interogacio interogaci·o → parlament·a demand·o

intra- intra- (en sciencaj kaj teĥnikaj vortoj) → en-, intern·a

inundi inund·i [4oa] ~ super-akv-i [fun], sub-akv-ig-i

inverti invert·i (en muziko kaj en ĥemio) → invers·ig·i

investi invest·i [zam] (en la signifo 'solene enoficigi') → (solen·e) en·ofic·ig·i

invoki invok·i (juro) → al·vok·i (kiel atest·ant·o)

-io -io (landonomoj) → -uj·o, land·o

iredenta iredent·a → ne liber·ig·it·a, ne·re·unu·ig·it·a iredentismo
iredent·ism·o → re·unu·iĝ·ism·o

iridoforo iridofor·o → iriz·pigment·ĉel·o, iriz·pigment·o·ĉel·o, iriz·pigment·a ĉel·o

iriti irit·i → ĝen·i, koler·ig·i

iskio iski·o ~ isĥi·o, sid·ost·o iskiato
iskiat·o → isĥi·a/sid·ost·a nerv·o iskiatalgio
iskiatalgi·o → isĥi·a/sid·ost·a nerv·o·dolor·o iskiatiko
iskiatik·o → isĥi·a/sid·ost·a nerv·o, isĥi·a/sid·ost·a nerv·o·dolor·o (laŭ la kunteskto)

-istan- -istan- (en la okazo de centr-aziaj landoj) → -land-, -uj-.

iŝi iŝi → ili

-istik- -istik- (ne-oficiala sufikso) → -scienc-, -fak-, -art-

-it- -it- (por inflamo de korpaj organoj) → inflam·o

itemo item·o (enketoj kaj similaj) → punkto

itinero itiner·o → voj·o, vojaĝ·o, voj·plan·o, vojaĝ·plan·o

-iv- -iv- → -pov-, -em-, aŭ nenio, se la radiko estas ag·karaktera. Vidu Ssv plio 19

ivi ivi → vi ĉiu·j

-iz- -iz- → -ig-, proviz·i per. Vidu Ssv plio 19

izo- izo- (en scienco kaj teĥniko) ~ sam·a, egal·a

jakto jakt·o ~ jaĥt·o ~ plezur·ŝip·o

januaro januar·o ~ la 1·a monat·o

jeno jen·o (japana mon-unuo) → en·o

jeto jet·o → re·ag·aviad·il·o

jetsocieto jet·societ·o → pint·ul·o·j, ŝajn·elit·o, last·mod·a/rapid·flug·a riĉ·ul·ar·o

jetularo jet·ul·ar·o → pint·ul·o·j, ŝajn·elit·o, last·mod·a/rapid·flug·a riĉ·ul·ar·o

jido jid·o (en la senco de lingvo) → la jid·a (lingv·o)

joviala jovial·a → gaj·em·a

jubili jubil·i → ĝoj·eg·i

judo jud·o [3oa] ~ hebre·o [fun]

judaismo judaism·o [3oa] ~ → jud·ism·o

judezmo judezm·o → la jud·hispan·a lingv·o

jufto juft·o → rus·a led·o

julio juli·o ~ la 7·a monat·o

junio juni·o ~ la 6·a monat·o

junto junt·o → kun·ig(·aĵ)·o, inter·fiks(·aĵ)·o junti
junt·i → kun·ig·i, inter·fiks·i

jupano jupan·o → bien·estr·o

jurisprudenco jurisprudenc·o → jur·o·scienc·o; jur·o (validaj leĝoj); juĝ·ist·a·j decid·kolekt·o

justico justic·o → (en la senco de justeco) just·ec·o, (en la senco de ŝtata juĝ-funkcio) juĝ·instanc·o, juĝ·ist·ar·o, juĝ·ministr·o

ĵaluzio ĵaluzi·o ~ fenestr·o·krad·o, fenestr·o·ŝirm·il·o, fenestr·o·kovr·il·o

ĵerzo ĵerz·o (kiel ŝtofo) ~ trik·it·a ŝtof·o, trik·ŝtof·o
ĵerz·o (kiel lana vesto) → pulover·o

ĵetono ĵeton·o → (en ludoj) lud·mark·o, en aliaj okazoj) mon·mark·o, disk·et·o

ĵigo ĵig·o → kun·met·enigm·o

ĵingoismo ĵingo·ism·o ~ (japan·a) milit·em·o, milit·neces·ism·o, milit·insist·ism·o

ĵinso ĵins·o → ĝinz·o

ĵurio ĵuri·o → ĵuĝ·ant·ar·o

ĵurnalo ĵurnal·o [1oa] → gazet·o; tag·gazet·o; revu·o; tag·libr·o

kabineto kabinet·o [5oa] ~ (kiel labor-ĉambro de profesiuloj) labor·ĉambr·o, stud·ĉambr·o; (kiel ekspoziciejo) ekspozici·ej·o; (kiel ministraro) ministr·ar·o, ministr·a konsil·ant·ar·o.

kaco kac·o [sla] ~ penis·o

kaĉaloto kaĉalot·o → ambr·o·balen·o

kadeto kadet·o ~ lern·ant·oficir·o

kadr-o kadr·o (en la senco de funkciulo, direktoro, gvidanto en firmao/oficejo) → funkci·ul·o, gvid·ant·o, direkt·ant·o

kafeterio kafeteri·o → (mem·serv·a) manĝ·ej·o

kaĥekta kaĥekta → mal·san·e mal·dik-(eg)-a, (mal·san·e) mal·fort·a, mal·dik·a kaj mal·fort·a

kaĥeksio kaĥeksi·o → mal·san·ec·a mal·dik·iĝ·o, (mal·san·ec·a) mal·fort·ec·o, mal·dik·ec·o kaj mal·fort·ec·o

kaĵoli kaĵol·i → el·flat·i, (pri·)dorlot·i, ĉirkaŭ·flat·i, flat·um·i

kakofonio kakofoni·o → mis·harmoni·o, mal·bel·son·aĵ/ec·o, son·aĉ·o

kakotrofio kakotrofi·o → mis·nutr·ad·o

kalcitri kalcitr·i → kontraŭ·star-(eg-)i

kalifo kalif·o ~ ĥalif·o

kalkeo kalke·o → traduk·prunt·o, paŭs·aĵ·o

kalkuluso kalkulus·o → (organik·deven·a) ŝton·et·o (en la korpo), korp·o·ŝton·o

kalmo kalm·o → mar·a trankvil·o

kalorimetr-o kalorimetr·o → varm·o·mezur·il·o kalorimetrio
kalorimetri·o → varm·o·mezur·ad·o

kalumeto kalumet·o ~ pac·pip·o

kamerao kamera·o → film·il·o, fot·il·o; (por la senluma kesteto en tia ilo) kamer·o

kampuso kampus·o → universitat·a teren·o

kamufli kamufl·i → kaŝ·mask·i

kando kand·o [fun] (en la senco de 'bombono') → bombon·o, dolĉ·aĵ·o

kanelo kanel·o [zam] (en muziko) ~ sulk·et·o de disk·o

kanistro kanistr·o → fer·skatol·o, lad·skatol·o, fer·a uj·o, benzin·uj·o

kanoniero kanonier·o → pafil·eg·ŝip·o

kanonigi kanon·ig·i → deklar·i sankt·a, sankt·ul·ig·i, sankt·ig·i

kanonizi kanoniz·i → deklar·i sankt·a, sankt·ul·ig·i, sankt·ig·i

kanono kanon·o [1oa] (armilo) ~ paf·il·eg·o
kanon·o [1oa] (en ekleziaj esprimoj) → leĝ·o, list·o, akcept·ita tekst·ar·o (laŭ la kunteksto)
kanon·o (kiel muzikaĵo) → ĉen·kant·o, rad·a kant·o

kanpo kanp·o ~ ĉin·a medicin·o

kantino kantin·o [zam] → (labor·ist·a) manĝ·ej·o

kantono kanton·o (ekster Svislando) → distrikto

kantrio kantri·o (muziko)→ kamp·ar·an·a muzik·o

kanzono kanzon·o (en la senco de 'kanto') → kant-o, kant-et-o, kant-aĵ-o
kanzon·o (se uzata kun nuanco malsama al 'kanto') → kant·vers·aĵ·o, vers·kant·o, melodi·a kant·o

kaperi kaper·i → (en ĝenerala senco) for·kapt·i, for·rab·i, for·port·i, for·konduk·i; (en malnova teĥnika senco) rajt·ig·it·e pirat·i

kapilaro kapilar·o ~ har·dik·a tub·et·o

kapodastro kapodastro → ~ ton·sanĝ·il·o, ton·alt·ig·il·o

kapsulo kapsul·o [fun] (kuracaĵoj) ~ pilol·o

(varm)kapulo vidu ĉe la kapvorto varmkapulo en la litero V.

kaputa kaput·a → romp·it·a, difekt·it·a

kara kar·a (en la senco de 'multekosta') → mult·e·kost·a

karakterizi karakteriz·i [1oa] ~ montr·i/don·i karakter·o·n

karaktraro karaktr·ar·o → sign·ar·o, liter·tip·o (komputado)

karaktro karaktr·o → sign·o, skrib·sign·o, pres·liter·o

kardi- kardi- → kor-

kardigano kardigan·o → trik·jak o

kardino kardin·o → pord·o·hok·o

kardinalo kardinal·o → (en matematiko) kvant·o·nombr·o; (en lingvoscienco) kvant·a nombr·o·vort·o, baz·a nombr·o·vort·o
kardinala
kardinal·a → (pri vokaloj/konsonantoj) baz·a; (ĝenerale pri ventoj, principoj, virtoj, ktp.) ĉef·a, baz·a, fundament·a

kardiografo kardiograf·o ~ kor·bat·aparat·o, kor·stri·aparat·o, kor·spur·il·o, kor·registr·il·o

kardiogramo kardiogram·o ~ kor·bat·linio, kor·stri·o, kor·spur·o, kor·registr·aĵ·o

kardiologio kardiologi·o ~ kor·medicin·o, kor·kurac·ad·o, kor·scienc·o, kor·stud·o, kor·fak·o

kardiologo kardiolog·o ~ kor·kurac·ist·o, kor·fak·ul·o, kor·ist·o

kardiopatio kardiopati·o ~ kor·mal·sano

karenco karenc·o → mank·o, mal·hav·o, mal·sufiĉ·o; for·permes·o (laŭ la signifo de la germana Karenz)

kargo karg·o → ŝarĝ·o (de var·o·j), transport·at·a·j var·o·j

karolo karol·o → (krist·nask·a) kant·o, religi·a fest·o·kant·o

karoo karo·o (kart-ludo) ~ romb·o, kvadrat·o

kartografo kartograf·o [7oa] ~ map·ist·o

kartografio kartografi·o [2oa] ~ map·scienc·o, map·far·ad·o

kartuno kartun·o → (se temas pri filmo) desegno·film·o, bild·filmo, desegn·it·a film·o, (se temas pri unuopa desegnaĵo) bild·ŝerc·o, ŝerc·bild·o

kasacii kasaci·i → leĝ·e nul·ig·i

kaseto kaset·o ~ kased·o

kastaneo kastane·o → kaŝtan·uj·o

kastrumo kastrum·o → rom·a tend·ar·o

kasuleto kasulet·o → franc·a fazeol·aĵ·o

kaŝmiro kaŝmir·o (kiam uzata por speco de lano) → kaŝmir·a lan·o

kataklismo kataklism·o → katastrof·o, katastrof·eg·o

katguto katguto ~ ĥirurgi·a faden·o

kateto katet·o → ort·a later·o, ĉe·ort·a later·o

kaŭ kaŭ → kaj aŭ

kaŭstika kaŭstik·a → hist·o·detru·a, mord·a, brul·vund·a

kazo kaz·o (en ĉiuj negramatikaj uzoj) ~ okaz·o (en la senco de okazaĵo), problem·o (en la senco de, ekzemple, konscienc-problemo), (juĝ-)afer·o (en jura senco), individu·a mal·san·o (en medicina senco); specimeno (en la senco de studo de specimeno, case study)

kazuo kazu·o → konscienc·okaz·o

KD KD ~ lum·disk·o

kekso keks·o → biskvit·o, kuk·et·o

kemio kemi·o [8oa] → ĥemi·o [fun]

kep kep → kiel eble plej

kepre kepr·e → kiel eble plej rapide

kero ker·o (kartludo) ~ koro

kestrelo kestrel·o → tur·falk·o

kiber- kiber- → ret·a, inter·ret·a, komputil·a

kidnapi kidnap·i → for·rab·i

kiki kik·i → pied·bat·i (pilkon aŭ simile en pilkaj k.s. ludoj)

kilo kil·o [fun] (en ŝipo) ~ fund·a ŝip·trab·o

kilo- kilo- (en scienc-teĥnikaj vortoj) → mil

kinematiko kinematik·o → mov·o·scienc·o

kineta energio kinet·a energi·o → mov·energi·o, mov·iĝ·ec·a energi·o

kirko kirk·o ~ (krist·an·a) preĝ·ej·o

kiroptero kiropter·o → vespert·o

kirurgio kirurgi·o ~ ĥirurgi·o ~ kurac·ad·o per operaci·o

kivo kiv·o ~ kivi·frukt·o

klaktivismo klaktivism·o → klak·akvtiv·ism·o

klami klam·i → kri·i, aklam·i

klandestina klandestin·a → kaŝ·a, ekster·leĝ·a

klaroskuro klaroskur·o → lum·kontrast·o

klasifiki klasifik·i [3oa] ~ klas·i, en·klas·ig·i

klaŭno klaŭn·o [zam] ~ amuz·ist·o, rid·ig·ist·o, pajac·o [zam]

klaŭzo klaŭz-o → (specif·kondiĉ·a) kontrakt·er·o, paragraf-o, norm-o, er-o de kontrakt-o, kondiĉ-o (laŭ la kunteksto)

kleo kle·o → muzik·a ŝlos·il·o

klefo klef·o → muzik·a ŝlos·il·o

kleptomano kleptoman·o → ŝtel·mani·ul·o

kleriko klerik·o → pastr·o, eklezi·ul·o

klifo klif·o → (mar·bord·a) rok·mur·o

kliki klik·i (en komputado) → al·klak·i, klak·i

kliko klik·o → grup·o, (en multaj okazoj) band·o, grup·aĉ·o, fi·grup·o; (en la senco de unudirekta meĥanika blokilo) klink·o

klimatizi klimatiz·i → aer·regul·ig·i, mal·hejt·i klimatizilo
klimatiz·il·o → aer·regul·ig·il·o, mal·hejt·il·o

klimatologio klimatologi·o → klimat·o·scienc·o

klipo klip·o → (parolante pri film-arto) (film·)pec·et·o, film·et·o, muzik·film-(et)-o; (parolante pri paperkuntenilo) paper·kun·ten·il·o, paper·fiks·il·o

klivi kliv·i → (laŭ·tavol·e) fend·i, split·i, dis·tavol·ig·i

klostrofobio klostrofobi·o → en·ferm·iĝ·angor·o, (ne·raci·a) tim·eg·o pri ferm·it·a·j spaco·j

klozeto klozet·o → neces·ej·o; neces·seĝ·o, neces·ej·a seĝ·o

kluki kluki ~ (kokine) bleki/kanti

knajpo knajp·o [esp] → (german·ec·a) trink·ej·o. Vidu esp: knajpo.

knali knal·i → eksplod·i, klak·i (en la okazo de vipobato), paf·bru·i

knedlo knedl·o ~ past·o·bul·o

knedliko knedlik·o ~ past·o·bul·o

knelo knel·o ~ fiŝ/viand·bul·et·o

koĉero koĉer·o → kaleŝ·ist·o, lu·vetur·ig·ist·o

KoDo KoDo ~ lum·disk·o

kofrujo kofr·uj·o ~ pak·aĵ·uj·o

kogna kogn·a → mens·a, kon·a
kogna scienco
kogn·a scienc·o → mens·o·scienc·o

koiti koiti → seks·um·i

kojlo kojlo ~ dik·a intest·o

kojono kojon·o → testik·o

kokeriki kokeriki ~ (kok·e) blek·i, kok·blek·i

kokri kokr·i → (am·rilat·e/seks·e) mal·fidel·i/tromp·i/perfid·i

koktajlo koktajl·o → koktel·o

kolaciono kolacion·o → maten·manĝ·o, post·tag·mez·a manĝ·et·o

kolaĝo kolaĝ·o → (bild·a/muzik·a) kun·glu·aĵ·o

kolaziono kolazion·o → maten·manĝ·o, post·tag·mez·a manĝ·et·o

kolecisto kolecist·o → gal·vezik·o, gal·uj·o

koledoko koledok·o → gal·dukt·o, gal·flu·ej·o

kolegio kolegi·o (en la franca lerneja sistemo) → (unu·a) mez·grad·a lern·ej·o

kolekcio kolekci·o → kolekt·o, kolekt·aĵ·o

kolerika kolerik·a → (se temas pri kolero) koler·em·a; (laŭ la ĝenerala konduto, en psika signifo) impuls·iĝ·em·a; (laŭ la antikva medicino) gal·humor·a

koliero kolier·o ~ kol·ring·o, kol·ĉen·o

kolokvo kolokv·o → kun·ven·o

koloro kolor·o (en kart-ludoj) → emblem·o

koltro koltr·o → plug·il·a vertikal·a tranĉo·pec·o, plug·il·steven·o

kolumno kolumn·o (en la senco de artikolo en ĵurnalo) ~ kolon·o, ese·o, kolon·ese·o, ese·kolon·o

koluzio koluzi·o → kontraŭ·leĝ·a inter·konsent·o

komasacio komasaci·o → ter·pec·kun·ig·o

komentarii komentari·i [fun] ~ koment·i [9oa]

komikso komiks·o → bild·rakont·o, bild·ŝerc·o

komisiono komision·o [4oa] ~ komisi·it·ar·o

komitativo komitativ·o → kun·ec·kaz·o

(cerba) komocio (cerb·a) komoci·o → (cerb·o·)sku·o/sku·iĝ·o/ŝok·(eg·)o

kompakta disko kompakt·a disk·o ~ lum·disk·o

kompano kompan·o → kamarad·o, kun·ul·o, kun·viv·ul·o, sam·labor·ul·o

komparacio komparaci·o (en gramatiko) ~ (lingv·a) kompar·ad·o [??]

komplementa komplement·a (en senco ne-gramatika) → komplet·ig·a

komplico komplic·o → kun·krim·ant·o

komplika komplik·a (en la senco de 'malsimpla') → mal·simpl·a, mal·facil·a, komplik·it·a (Normale 'komplika' signifas "rilata al 'komplikado'.) 1oa: komplik-i

komponisto kompon·ist·o ~ muzik·verk·ist·o

komponi komponi ~ muzik verki

kompoŝto kompoŝt·o → (maturiĝanta) hum·ig·at·aĵ·o, (maturiĝinta) hum·ig·it·aĵ·o

kompromiso kompromis·o (en la uzo de hispanlingvaj kaj portugallingvaj esperantistoj) → sin·dev·ig·o, dev·o

kompromiti kompromit·i (en la uzo de hispanlingvaj esperantistoj) → si·n dev·ig·i

kompunda kompund·a → kun·ig·it·a, du·part·a, plur·part·a

komputiko komput·ik·o → komput·ad·o, komput·scienc·o

komputatoro komputator·o → komput·il·o

komputero komputer·o → komput·il·o

komputoro komputor·o → komput·il·o

komunikacio komunikaci·o → komunik·ad·o, komunik·aĵ·o (laŭ la kunteksto)

koncedi konced·i [8oa] ~ al·las·i, konsent·i, prav·ig·i, deklar·i prav·a/e

koncentra koncentr·a → sam·centr·a

konĉerto konĉert·o → koncert·o

konfederacio konfederaci·o [2oa] → konfeder·o

konfesi konfes·i [fun] (en la signifo 'partopreni je religio') ~ part·o·pren·i (religion)
konfesio
konfesi·o → (krist·an·a) religi·o

konfirmacio konfirmaci·o (kristana religio) → (kred·o·)konfirm·o

konfronti konfront·i → (en jura senco) kontraŭ·met·i; (en aliaj kuntekstoj laŭ la senco) kompar·i, inter·al·front·i, front·i si·n

konjugi konjug·i (uzebla nur en senco gramatika)→ konjugaci·i

konjunkcio konjunkci·o ~ lig·vort·o

konkludi konklud·i (en la senco "fini") → fin·i

konkubino konkubin·o (aldona edzino en la antikveco) → krom·edz·in·o, krom·vir·in·o konkubo
konkub·o (needziĝinta kunloĝanto en la nuntempo) → kun·ul·o, viv·kun·ul·o, kvazaŭ·edz·o.

konkurenco konkurenc·o [3oa] ~ (komerc·a) konkur·ad·o

konosamento konosament·o → ŝarĝ·atest·o, kvitanc·o

konotacio konotaci·o → kun·signif·o

konsenso konsens-o --> konsent-o, inter-konsent-o, aprob-o

konservativa konservativ·a [3oa] (pri politika partio) ~ konserv·em·a, konserv·ism·a

konsilio konsili·o → konsil·ant·ar·o, konsil·ist·ar·o

konsistenco konsistenc·o → koherec·o

konsomeo konsome·o → buljon·o

konsonanco konsonanc·o → sam·son·ec·o, son·akord·o

konsorcio konsorci·o → (firma-)asoci·iĝ·o

konstelacio konstelaci·o [zam] → stel·ar·o

konstipi konstip·i → mal·laks·ig·i
konstipiĝi
konstip·iĝ·i → mal·laks·i

konstitui konstitu·i → konsist·ig·i, star·ig·i

konstruktiva konstruktiv·a → konstru·a, progres·ig·a, help·a

kontaĝi kontaĝ·i → infekt·i, trans·don·i mal·san·o·n

kontanta kontant·a ~ per·mon·a, mon·a

· konteksto kontekst·o → kuntekst·o

kontempli kontempli → medit·e konsider·(ad·)i,admir·e/rav·it·e rigard·i

kontenero kontener·o ~ transport·uj·o

kontesti kontest·i → diskut·e mal·akcept·i, rifuz·i, mal·konsent·i

kontingento kontingent·o → (laŭ la kunteksto) kvant·o, part·o kontingenti
kontingent·i → fiks·i lim·o·n, lim·ig·i

kontralto kontralt·o [1oa] ~ ald·o

kontreo kontre·o (muziko) → tradici·a uson·a muzik·o

kontribucio kontribuci·o [3oa] ~ → milit·kompens·o

kontroli kontrol·i [fun] (en la senco de direkti kaj regi) → reg·i, direkt·i

konuklo konukl·o → ŝpin·baston·o

konvaleski konvalesk·i → re·san·iĝ-(ad)-i

konvekcio konvekci·o → kun·flu·ad·o, supr·e·n·vent·o, al·supr·a vent·o, supre·n·ir·ant·a varm·a aer·o konvekti
konvekt·i → kun·flu·ig·i

konverĝi konverĝ·i [zam] (ekster la matematika faklingvo) → (laŭ la signifo en la konkretaj okazoj)(al·)kun·ir·i, kun·flu·i, kun·iĝ·i, kun·cel·i, streb·i kun·iĝ·i

konversi konvers·i ~ konversaci·i [3oa], inter·parol·i

konversacii konversaci·i [3oa] ~ konvers·i, inter·parol·i

konverti konvert·i (en nereligia senco) → trans·form·i, trans·ig·i, trans·kod·ig·i

konvikti konvikt·i → pruv·i (iun) kulp·a

konzerno konzern·o → (firma·)kun·iĝ·o, (firma·)unu·iĝ·o

kooperi kooper·i → kun·labor·i

koopti koopt·i ~ al·elekt·i

koordini koordin·i → kun·ord·ig·i

kopuli kopul·i → amor·i, seks·um·i

kopulacii kopulaci·i → amor·i, seks·um·i

korako korak·o → korv·o

koramiko kor·amik·(in·)o (en la senco de amik(in)o, kun kiu oni havas amajn, eble ankaŭ seksajn, rilatojn) ~ am·amik·(in·)o

kordurojo kordurojo → rip·hav·a velur·o

korekta korekt·a (en la senco de 'ĝusta', 'senerara', 'korektita') → ĝust·a, sen·erar·a (Normale "korekta" signifas "rilata al korektado".) (Vidu ankaŭ fun: korekt-i )

korespondi korespond·a [fun] (en la senco de veturilo, kies ekiro okazas en tempo, kiu permesas al pasaĝero de alia alvenanta veturilo trafi ĝin) → kun·lig·a, koincid·a, plu·a.

koridoro koridor·o ~ ir·ej·o

korizo koriz·o → naz·katar·o

korodi korod·i → for·ronĝ·i, acid·rust·ig·i

korono koron·o → sun·a kron·o

korporacio korporaci·o [fun] (en la senco de akcia societo, firmao, kompanio) → akci··a societ·o, firma·o, kompani·o

korpuso korpus·o (en la senco de kolekto de lingvaj materialoj) → tekst·ar·o; (kiam temas pri parollingvaj materialoj) parol·kolekt·o

korpusklo korpuskl·o → korp·et·o, partikl·o

korsako korsak·o → tatar·a vulp·o

korteza kortez·a → kort·eg·um·a, kort·eg·ec·a, afabl·a, trobador·a

korupti korupt·i ~ sub·aĉet·i

koruso korus·o → ĥoro

kosmologo kosmolog·o → kosm·o·scienc·ist·o

kosmologio kosmologi·o → kosm·o·scienc·o

kosmonaŭto kosmonaŭt·o ~ kosm·o·vojaĝ·ist·o kosmonaŭtiko
kosmonaŭt·ik·o → kosm·o·vojaĝ·ad·o; kosm·o·vojaĝ·scienc·o

kosmopolita kosmopolit·a (pri vivaĵoj) → tut·mond·a

koŝmaro koŝmar·o → prem·sonĝ·o, sonĝ·aĉ·o, tim·ig·a sonĝ·o

Kotdivuaro Kotdivuar·o → Ebur·Bord·o

koterio koteri·o → klik·o, fi·kun·ul·ar·o

kovarda kovard·a → mal·kuraĝ·a, mal·nobl·a

kozo koz·o → aĵ·o (se materia), afer·o (se spirita, abstrakta)

krabli krabl·i → mal·lert·e marŝ·i

kralo kral·o → besto·kort·o, best·ej·o

krapfeno krapfen·o → dolĉ·a frit·bul·o

kraŝi kraŝ·i → frakas·iĝ·i

kraŭlo kraŭl·o → ramp·ad·o

kreivo kre·iv·o → kre·o·pov·o, kre·em·o

kremo krem·o (en la senco de haŭtŝmiraĵo) ~ (haŭt·)ŝmir·aĵ·o

kremacii kremaci·i ~ cindr·ig·i

kreolo kreol·o (kiel lingvo) ~ la kreol·a lingv·o

krepiti krepit·i → krak·et·i

krescento krescent·o → lun·ark·a form·o, lun·ark·o

krescenta bulko krescent·a bulk·o → lun·ark·a bulk·o

krespo kresp·o → pat·kuk·o

krifo krif·o → ung·eg·o

kriminala kriminal·a [F] ~ krim·a, pri·krim·a

krino krin·o → (se temas pri ŝtofo) ruband-o; har·eg·o

kripo krip·o → trog·o [fun], krad·manĝ·uj·o, stal·trog·o; (se temas pri kristnaska sceno) krist·nask·a scen·o

kripta kript·a → sekret·e konvenci·a, ĉifr·it·a

kripto kript·o [2oa] ~ sub·preĝ·ej·a tomb·ej·o, sub·ter·a kapel·o/ preĝ·ej-(et-)o (laŭ la kunteksto)

kripto- kripto- (en sciencaj vortoj) → kaŝ·it·a

kriptografio kriptografi·o → ĉifr·teĥnik·o/teĥnik·ar·o

kriptologio kriptologi·o → ĉifr·o·scienc·o

kriptonimo kriptonim·o → kaŝ·nom·o

kristanismo krist·an·ism·o ~ krist·ism·o

krita krit·a (en fiziko) → sojl·a, lim·a; (se enestas ideo pri danĝero) kriz·a

kritika kritik·a (parolante pri transiraj statoj) → sojl·a, lim·a, kriz·a

kriulo kriul·o (kiel lingvo) → la kreol·a lingv·o

krizolito krizolit·o → or·ŝton·o (ĝenerale), gem·o (ĝenerale), oliven·o (kiel mineralo), peridot·o (kiel juvelo)

kroĉo kroĉ·o ~ ok·on·a not·o

kroki krok·i → skiz·i

krokizi krokiz·i → skiz·i

krokodili krokodil·i [sla] ~ parol·i ge·patr·a·lingv·e (inter esp-istoj)

kroniko kronik·o [fun] (en la senco de gazeta artikolo) → kolumn·o, artikol·o kronika
kronik·a [zam] (en la senco de longedaŭra ) → long·e·daŭr·a

kromo krom·o (ĥemia elemento) → ĥrom·o
kromio
kromi·o (ĥemia elemento) → ĥrom·o

· kromatoforo kromatofor·o → pigment·ĉel·o, pigment·o·ĉel·o, pigment·a ĉel·o, kolor·ĉel·o

kromtango komtang·o → kore·a ost·o·buljon·o

kronologia kronologi·a → laŭ·temp·a kronologio
kronologi·o [2oa] ~ epok·scienc·o, scienc·o de/pri dat·difin·o

krozo kroz·o ~ ŝip·vojaĝ·o

kruasano kruasan·o → lun·ark·a bulk·o

krucifikso krucifiks·o [1oa] ~ kruc·um·it·o, kruc·um·it·o·bild·o, kruc·o (laŭ la kunteksto)

ksantoforo ksantofor·o → flav·pigment·ĉel·o, flav·pigment·o·ĉel·o, flav·pigment·a ĉel·o

ksenofobio ksenofobi·o → fremd·ul·mal·am·eg·o

ksilografio ksilografi·o → lign·o·gravur·aĵ·o

kuloto kulot·o → pantalon·et·o

kulta kult·a (en la senco de 'klera') → kler·a

kulturi kultur·i (en la senco de laborado de la tero) → kultiv·i

kupreso kupres·o → cipres·o

kurento kurent·o → elektr·o, elektr·o·flu·o

kurfo kurf·o → el·ir·mal·permes·o, dev·ig·a hejm·rest·ad·o

kurio kuri·o (en la Vatikano) → (vatikana) administrantaro/registaro

kurorto kurort·o → kurac·lok·o, feri·lok·o, ripoz·lok·o

kurso kurs·o [1oa] (en la vetur-rilata senco) → voj·plan·o, voj·lini·o
kurs·o [1oa] (referenca prezo de valorpaperoj, valutoj aŭ varoj aŭ relativa valoro de valutoj) → kurz·o

kurta kurt·a → mal·long·a

kurta cirkvito kurt·a cirkvit·o → fuŝ·kontakt·o, mal·long·a cirkvit·o, tuŝ·kontakt·o

kurtaĝo kurtaĝ·o → makler·aĵ·o [fun]

kusineto kusinet·o → glit·lagr·o, aks·tub·o

kuspi kusp·i ~ kontraŭ·fald·i, kontraŭ·kares·i

kustardo kustard·o → dolĉ·a saŭc·o, ov·a dolĉ·aĵ·o

kuto kut·o → (en la signifo de ŝtofa vesto portata sur la kiraso) sur·kiras·a vest·o; (en la senco de fera, maŝa kiraso) maŝ·kiras·o.

kvaki kvaki ~ (ran·e) blek·i

kvadriliono kvadrilion·o (en la senco 1015) → mil bilion·o·j, milion·o da miliard·o·j. Vidu Ssv plio 20

kvarto kvart·o (en muziko) ~ kvar·a interval·o. Vidu ssv plio 9

kvarterono kvarteron·o → kvar·on·nigr·ul·o

kvarteto kvartet·o [zam] ~ (en la senco de kvar kun-ludantoj aŭ kun-kantantoj) kvar·op·o, kvar·o; (en la senco de verko por kvar) kvar·op·aĵ·o

kvecalo kvecal·o → kecal·o

kver- kver· (en teĥnikaj esprimoj) → transvers·a [zam]

kveri kver·i → (kolomb·e) blek·i/kant·i, kolomb·um·i

kvesti kvest·i → kolekt·i (mon·o·n aŭ aĵ·o·j·n) (ĝenerale por religigaj celoj)

kviki kvik·i → (mus·e) blek·i

kvintiliono kvintilion·o (en la senco 1018) → trilion·o, miliard·o da miliard·o·j. Vidu Ssv plio 20

kvinto kvint·o (en muziko) ~ kvin·a interval·o. Vidu ssv plio 9.

kvoto kvot·o → (laŭ la kunteksto) procent·aĵ·o, kvant·o

l l' ~ la (krom en poemoj estas preferinde ne elizii la finan vokalon, kion oni neniam faras en la parolata lingvo)

labelo label·o (en difinitaj kuntekstoj) → kvalit·mark·o

labialo labial·o → lip·a konsonant·o, lip·son·o

laĉo laĉo [fun] ~ ŝu·lig·il·o, ŝu·ŝnur·et·o

lagero lager·o → (hom·)koncentr·ej·o, (hom·)mort·ig·ej·o

lakona lakon·a → mal·mult·vort·a

laktato laktat·o ~ sal·o de lakt·a acid·o

lakuno lakun·o → mal·plen·aĵ·o, mank·o·lok·o, mank·o

lamo lam·o → (tibeta monaĥo) lama·o; (sudamerika besto) ljam·o

lancini lancin·i → ad·e ek·dolor·i

lanĉi lanĉ·i [9oa] ~ (komenc·e) en·uz·ig·i, iniciat·i, komenc·i, sur·merkat·ig·i, ek·funkci·ig·i, ek·kon·at·ig·i, ek·fam·ig·i (vidu 9oa: lanĉ·i)

langvoro langvor·o → mal·vigl·o, (dolĉ·a) melankoli·o, pal·o, sen·fort·ec·o

lanta lant·a → mal·rapid·a

laringalo laringal·o → glot·a konsonant·o

laringito laringit·o → laring·inflam·o

lasciva lasciv&mmiddot;a → volupt·em·a

latero latero [4oa] (en geometrio) ~ flank·o [fun]

latino latin·o (en la senco de lingvo) → latin·a lingv·o

latiso latis·o → krad·o

latrino latrin·o [zam] → (plej simpl·a) neces·ej·o

latrono latron·o → ŝtel·ist·o, ŝtel·ist·eg·o

laŭdneso laŭdnes·o (muziko) → laŭt·ec·o

laŭtlegi laŭt·leg·i (en la senco de 'voĉe legi) ~ voĉ·leg·i

lavabo lavab·o → lav·kuv·o, lavo·pelv·o, lav·uj·o

lavro lavr·o (en ortodoksa religio) ~ monaĥ·ej·o

lazo laz·o → kapto·ŝnur·o

lefta left·a → politik·e mal·dekstr·a

legaco legac·o → hered·aĵ·o al apart·a person·o

legacio legaci·o → diplomat·a misi·o

legala legal·a → laŭ·leĝ·a

legitima legitim·a (en la senco de 'laŭrajta') [3oa] → laŭ·rajt·a

leĝera leĝer·a → mal·pez·a, mal·serioz·a, sen·prudent·a

lekcio lekci·o ~ (universitat·a) preleg·o

lekcii lekci·i ~ preleg·i (en universitat·o)

lekciisto lekci·ist·o ~ universitat·a instru·ist·o

leksikografo leksikograf·o → vort·ar·ist·o

leksikografia leksikografi·a → vort·ar·scienc·o

leksikologo leksikolog·o → vort·esplor·ist·o, vort·stud·ant·o

leksikologio leksikologi·o → vort·scienc·o

leksikono leksikon·o [fun] ~ vort·ar·o, teĥnik·a/fak·a termin·ar·o, termin·ar·o

lekto lekt·o → manĝ·o·lit·o

lektoro lektor·o ~ universitat·a instru·ist·o

leno len·o (parto de strato, ŝoseo au aŭtovojo) → koridor·o, voj·o (alteriĝa) leno
(alteriĝ·a) len·o → alteriĝ·a voj·o, alteriĝ·a kur·ej·o

leontodo leontod·o ~ buter·flor·o

letala letal·a → mort·ig·a

leŭ­koforo leŭ­kofor·o → blank·pigment·ĉel·o, blank·pigment·o·ĉel·o, blank·pigment·a ĉel·o

levanteno levanten·o → mez·orient·an·o

levanto levant·o → mez·orient·o

levitacio levitaci·o → lev·iĝ·o, si·n·lev·ad·o, ŝveb·ad·o

levrelo levrel·o → lepor·hund·o

lezi lez·i → (laŭ la signifo en la unuopa okazo) romp·i, difekt·i, mal·obe·i, mal·plen·um·i, mal·respekt·i, vund·i

liberala liberala [2oa] (pri profesio kaj eduko) ~ kler·a, kler·ul·a, ne·teĥnik·a (pri profesio); (ĝeneral·e) kler·ig·a (pri eduko)

librotenado libr·o·ten·ad·o ~ kont·ad·o

lici lic·i → est·i permes·at·a

liceo lice·o ~ mez·a lern·ej·o ATENTU: temas pri nomo, kiu indikas malsamajn lernejojn en malsamaj landoj. Se tio estas necesa, esploru pri ĉiu unuopa lando.

licenco licenc·o (en la senco de 'permesilo') [8oa] → permes·il·o

lifa lif·a → mal·dekstr·a

liki lik·i ~ tra·las·i likv·aĵ·o·n

likva likv·a ~ flu·id·a [fun]

likvaĵo likv·aĵ·o ~ fluid·aĵ·o

likvido likvid·o (en lingvoscienco) → flu·a konsonant·o

likvo likv·o [8oa] ~ fluid·aĵ·o

lila lil·a → hel·viol·a, hel·malv·a, siring·o·kolor·a

limeso limes·o → lim·valor·o (en matematiko), lim·o

limnologio limnologi·o → scienc·o pri en·kontinent·a·j akv·o ·j

linda lind·a → bel·et·a

lineara linear·a (en matematiko) ~ lini·a

lineo line·o → konduk·il·o de elektr·o aŭ telefon·a signal·o

lingvafrankao lingvafranka·o (en la ĝenerala senco de "interlingvo") → inter·lingv·o

lingviko lingv·ik·o → lingv·o·scienc·o, lingv·o·studo

lingvistiko lingvistik·o ~ lingv·o·scienc·o

linko link·o (en la senco de reta kunligo) → lig·o, lig·il·o, lig·adres·o, kun·lig·o

lirli lirl·i → mild·e flustr·i

(morta) litero (mort·a) liter·o ~ sen·efik·a, van·a, sen·rezult·a afer·o

litiazo litiaz·o → gal·ŝton·o, ren·ŝton·o, ŝton·et·o·j en la korp·o, ŝton·mal·san·o

litosfero litosfer·o → firm·a ter·krust·o

liva liv·a → mal·dekstr·a. Vidu Ssv plio 15

livida livid·a → pal·e blank·et·a

lizi liz·i → prunt·aĉet·i/prunt·vend·i, lu·aĉet·i/lu·vend·i

lizingo lizing·o → lu·aĉet·o/lu·vend·o

lobio lobi·o → prem·grup·o, influ·grup·o lobii
lobi·i → (politik·e) prem(·ad)·i, (prem·grup·e) influ(·ad)·i, grup·prem·i lobiado
lobi·ad·o → (politik·a) prem·ad·o, (prem·grup·a) influ·ad·o

logogramo logogram·o → vort·(er·)o·sign·o

logoo logo·o → emblem·o, mark·o, firma·a sign·o, var·a sign·o, firma·a emblem·o, var·a emblem·o.

logopedo logoped·o → logopedi·ist·o

logotipo logotip·o → emblem·o

loĝistiko loĝistik·o ~ proviz·art·o, proviz·ad·o

lokalizi lokaliz·i → lok·um·i, lok·trov·i, lok·determin·i, trov·i lok·o·n de

lokalo lokal·o → ejo

lokaŭto lokaŭt·o → (trud·it·a) labor·halt·ig·o

lokio loki·o → post·nask·a el·flu·o

lokucio lokuci·o → dir·manier·o, esprim·o

lontana lontan·a → mal·proksim·a

loza loz·a ~ larĝ·a, mal·prem·at·a

lozanĝo lozanĝ·o → pastel·o, fand·pilol·o

lucida lucid·a → kompren·kapabl·a, klar·a, klar·mens·a

luĝo luĝ·o → glit·vetur·il(·et)·o, sled(·et)·o

lukri lukr·i → gajn·i, per·labor·i (monon), super·gajn·i, el·gajn·i

luksacio luksaci·o → el·artik·iĝ·o (Z), osto·difekt·iĝ·o

Luksemburgio Luksemburgi·o → Luksemburg·o, la land·o Luksemburg·o

lukti lukt·i [2oa], [zam] ~ batal/i [fun]

lumbago lumbag·o → lumb·o·dolor·o lumbalgio
lumbalgi·o → lumb·o·dolor·o

lunĉo lunĉ·o → tag·manĝ·o, tag·manĝ·et·o, inter·manĝ·et·o

lupeo lupe·o → grand·ig·a lens·o, grand·ig·il·o

lustracio lustraci·o → pur·ig·o per ofer·o, ofer·ad·o, pur·ig·o, politik·a for·ig·o (de homoj apartenantaj al nedezirata partio)

maato maat·o → ŝip·a sub·oficir·o

maceri macer·i → solv·i, tremp·solv·i

maĉeto maĉet·o → (arb·ar·)tranĉ·il·eg·o

maĉo maĉ·o (en la senco de sporta ludo) → lud·o, konkurs·o, renkont·o, du·op·a lud·o

magazino magazin·o → revu·o

magistrato magistrato [zam] → urb·a konsil·ant·ar·o

magra magr·a → mal·dik·a, mal·gras·a, mal·abund·a

magnetofono magnetofon·o → sur·bend·ig·il·o, bend·o·registr·il·o

magnitudo magnitud·o → (en astroscienco) hel·ec·o; (en tertremscienco) ter·trem·fort·ec·o, Riĥter·grad·o

Mahometo Mahomet·o → Muhamad·o

mahometano mahometan·o → islam·an·o

maieŭtiko maieŭtik·o → demand·a metod·o por trov·i la ver·o·n, esplor·metod·o, debat·metod·o, sokrat·a metod·o

majeŭtiko majeŭtik·o → demand·a metod·o por trov·i la ver·o·n, esplor·metod·o, debat·metod·o, sokrat·a metod·o

majo maj·o ~ la 5·a monat·o

majlo majl·o → ret·mesaĝ·o

majoritato majoritat·o → pli·mult·o (kvanto da homoj), plen·aĝ·ec·o (rilate al aĝo)

majordomo majordom·o → ĉef·serv·ist·o

majusklo majuskl·o [9oa] ~ ĉef·liter·o, grand·liter·o

maĵora maĵor·a (en ĝenerala senco) → pli grand·a, pli grav·a

maĵora tonalo maĵor·a tonal·o → larĝa ton·kombin·o

maĵorio maĵori·o → pli·mult·o

maĵoritato maĵoritat·o → plen·kresk·ec·o

maketo maket·o → model·o, et·model·o, model·aĵ·o

makiso makis·o → (mediterane·a) arbust·aro

makleri makler·i ~ per·i, per·ant·e vend·i

makro- makro- → eg-, eg·a, grand-, grand·a, grand·skal·a

makrocefalo makrocefal·o [zam] → ambr·o·balen·o

maksi- maksi- → eg-, eg·a, grand-, grand·a, grand·eg·a

maksimo maksim·o [3oa] → sentenc·o [fun]

maleo male·o → (lign·a) martel·o; martel·ost·o

malfinia mal·fini·a → sen·fin·a malfinio
mal·fini·o → sen·fin·ec·o

malfluso mal·flus·o → mal·flu·o

maligna malign·a → mal·bon·a

maljam mal·jam ~ ne antaŭ, ne pli fru·e ol, nur

maltiom mal·tiom (en la senco de 'tiom malmulte') → tiom mal·mult·e

malversacio
malversaci:·o → sen·rajt·a al·propr·ig·o

mamografio mamografi·o → mam·o·bild·ig·o, mam·o·bild·o

manaĝero manaĝer·o → direkt·ant·o, direkt·ist·o, direktor·o, estr·o, organiz·ant·o, administr·ant·o, mastr·um·ant·o manaĝi
manaĝ·i → direkt·i, administr·i, mastr·um·i, estr·i manaĝmanto
manaĝmant·o → direkt·ad·o, estr·ad·o, gvid·ad·o, estr·ar·o, direkt·ist·ar·o, administr·ad·o, mastr·um·ado

mandato mandat·o (en la senco de periodo) → mandat·period·o

manikuri manikur·i → man·fleg·i

mantr-o mantr·o ~ sankt·a formul·o, formul·ripet·ad·o

marabuto marabut·o (en la senco de 'sanktejo') → marabut·ej·o. Vidu krome ssv plio 2

marasmo marasm·o [2oa] ~ (medicine) sub·nutr·ad·o, konsum·iĝ·o
marasm·o (metafore, laŭ la kuteksto) → stagn·o, sen·aktiv·ec·o, ĥaos·o

marfrukto mar·frukt·o ~ (manĝ·ebl·a, ne·fiŝ·a) mar·best·et·o, mar·aĵ·o

marini marin·i ~ tremp·i

marisk-o marisk·o → (manĝ·ebl·a, ne·fiŝ·a) mar·best·et·o, mar·frukt·o, mar·aĵ·o

marketo market·o → merkat·o

marketingo marketing·o → sur·merkat·ig·o; merkat·esplor·o

marmito marmit·o → kuir·pot·o

marono maron·o → (manĝ·ebl·a) kaŝtan·o

maroto marot·o → ŝat·okup·o, amat·a ĉeval·et·o; (por redoni la signifon de la germana 'Marotte') mani·et·o. Vidu Ssv plio 10.

marsko marsk·o → ŝlim·eben·aĵ·o

marto mart·o ~ la 3·a monat·o

martirologo martirolog·o → martir·o·list·o, martir·o·libr·o

masakri masakr·i → amas·buĉ·i, amas·murd·i

masiva masiv·a → solid·a

masklo maskl·o → vir·o, vir·best·o

maskoto maskot·o → (en la senco de bonŝanc-alportanto) (ul·a/best·a) talisman·o; (en la senco de ulo aŭ besto en emblemo) emblem·ul·o, emblem·best·o

matadoro matador·o ~ bov·batal·ist·o

matĉo matĉ·o (en la senco de sporta ludo) → lud·o, konkurs·o, renkont·o, du·op·a lud·o

matineo matine·o → maten·a aŭ post·tag·mez·a prezent·ad·o/prezent·aĵ·o

matriarka matriark·a (en esprimoj kiel 'matriarka socio') ~ in·centr·a, vir·in·centr·a

matrono matron·o → edz·in·iĝ·int·a vir·in·o, matur·a vir·in·o, grav·a vir·in·o, respekt·ind·a vir·in·o

matutino matutin·o → maten·a di·serv·o

mava mav·a → mal·bon·a

mazuto mazut·o ~ pez·a ole·o

meandro meandr·o → (river·)kurb·(iĝ·)o

media medi·a (en la senco 'rilatanta al informiloj) → komunik·il·a, inform·il·a

mediaciisto mediaci·ist·o (en la eŭropaj instancoj) → per·ist·o

mediato mediat·o → (amas-)komunik·il·o, (amas-)inform·il·o

mediatoro mediator·o (en la eŭropaj instancoj) → per·ist·o

medicino medicin·o [1oa] ~ kurac·ad·o, kurac·scienc·o

medikamento medikament·o [2oa] ~ kurac·il·o, medicin·aĵ·o, san·ig·il·o

Mefistofelo Mefistofel·o (se uzata en la ĝenerala senco de 'diablo') ~ diabl·o Mefisto
Mefist·o (se uzata en la ĝenerala senco de 'diablo') ~ diabl·o

mega- mega- → milion·o (en scienc-teĥnikaj vortoj), eg·a, bel·a, grand·a (en komun-uzaj vortoj)

meki mek·i→ (kapr·e) blek·i

mekko mekko → meka·o

melanoforo melanofor·o → nigr·a pigment·ĉel·o, nigr·a pigment·o·ĉel·o, nigr·a pigment·a ĉel·o

melomanio melomani·o → muziko·mani·o, muzik·ŝat·o

memuaro memuaro → ese·o, memor·aĵ·ar·o

men men → malpli

menaĝerio menaĝeri·o → best·ej·o

meneĝmento meneĝment·o → direkt·ad·o, estr·ad·o, gvid·ad·o, estr·ar·o, direkt·ist·ar·o

menstruo menstru·o [9oa] ~ monat·aĵ·o [zam]

menŝo menŝ·o [sla] → ĝen·ul·o; (se uzata admire) ruz·ul·o

mentaleco mentalec·o → pens·manier·o

mentoro mentor·o [2oa] ~ konsil·ant·o

menuvero menuver·o → sciur·o·fel·o

merdo merd·o → fek·aĵ·o

meretrico meretric·o → prostitu·it·in·o, publik·ul·in·o

mergi merg·i → tut·tremp·i, en·akv·ig·i

meritokratio meritokrati·o ~ merit·taks·ad·o, merit·ul·reg·o

merkatiko merkatik·o → merkat·esplor·o/scienc·o

meronimo meronim·o → vort·o por part·o de io, part·o·vort·o

meso mes·o ~ di·serv·o [Ne validas la malo. 'Diservo' ne ĉiam estas 'meso']

mestizo mestiz·o → du·on·indian·o

meta- meta- → trans-

meteologio meteologi·o → veter·o·scienc·o

meteorologio meteorologi·o → veter·o·scienc·o

metodiko metod·ik·o → metod·o·scienc·o

metodologio metodologi·o → metod·ar·o, metod·sistem·o; metod·scienc·o

metonimio metonimi·o → signif·o·ŝov·o, ali·signif·ig·o, (ekzemple: 'La kongreso' por 'La kongresanoj')

metro- metro· (en sciencaj vortoj) → mezur·il·o metrologio
metrologi·o → mezur·scienc·o; mezur·teĥnik·(ar·)o (laŭ la kunteksto)

metroo metro·o → sub·ter·a fer·voj·o metropoliteno
metropoliten·o → sub·ter·a fer·voj·o

metropolo metropol·o [2oa] (en la senco de 'ĉefurbo') → ĉef·urb·o

mi- mi- (en medicinaj vortoj) → muskol-

miaŭi miaŭ·i ~ (kat·e) blek·i

miasmo miasm·o [1oa] ~ mal·bon·odoraĉ·o

miceto micet·o → fung·o

mido mid·o → tag·mez·o postmido
post·mid·o → post·tag·mez·o

miito miit·o (en medicinaj vortoj) → muskol·inflam·o

mikoto mikot·o → fung·o

mikologio mikologi·o → fungo·scienc·o, fungo·stud·o

mikro- mikro- → et-, et·a, mal·grand·a, mal·grand·skal·a

mikrokosmo mikrokosm·o → mond·et·o, et·mond·o, mal·grand·a mond·o

mikroondo mikroond·o ~ et·ond·o mikroonda forno
mikroond·a forn·o ~ (et·)ond·a forn·o, ond·o·forn·o, tuj·varm·ig·il·o

mikrorakonto mikro·rakont·o → et·a rakont·o, mal·grand·a rakont·o

mikrotomo mikro·tom·o → mal·dik·tranĉ·a aparat·o

mikspoto miks·pot·o ~ (en la kuireja signifo) ·miks·it·a·j manĝ·aĵ·o·jn kun·kuir·it·a·j, pot·miks·aĵ·o; (en ĝenerala figura senco) hazard·a miks·aĵ·o.

milda mild·a ~ mal·akr·a

mili- mili- (en scienc-teĥnikaj vortoj) → milono

minca minc·a → mal·dik·a

minestrono minestron·o → (ital·a) legom·sup·o

mini- mini- → -et-

ministerio ministerio ~ ministr·ej·o

minjona minjon·a → bel·et·a, ĉarm·et·a, afab·let·a (pri infanoj, junuloj), agrabl·et·a (figure pri lokoj)
minjon·o → (et·)bel·ul·(in·)o, ĉarm·(et·)ul·(in·)o


minora minor·a (en ĝenerala senco) → mal·pli grav·a, mal·pli grand·a, mal·pli ĉef·a

minoritato minoritat·o ~ mal·pli·mult·o (ekzemple da homoj), ne·plen·aĝ·ec·o (rilate al aĝ-o)

minusklo minuskl·o [9oa] ~ mal·grand·liter·o, et·liter·o, mal·ĉef·liter·o

minuskla minuskl·a (ekster la litera kampo) → et·a, mal·grand·a

miokardio miokardi·o → kor·muskol·o

miozoto miozot·o → ne·forges·u·mi·n·o

miriapodo miriapod·o → mil·pied·ul·o

miringo miring·o → aŭd·membran·o

mizerikordo mizerikord·o (faka vorto, religia) ~ pardon·em·o, kompat·em·o, kor·favor·o

misogeno misogen·o → (vir·)in·mal·am·ant·o

mitingo miting·o → (politik·a) amas·kun·ven·o, renkont·iĝ·o

mitralo mitral·o (en la senco de 'pafilo')→ maŝin·paf·il·o

mizantropo mizantrop·o → hom·mal·am·ul·o, hom·evit·ul·o

mizerikordo mizerikord·o → favor·kor·ec·o

mizogino mizogin·o → (vir·)in·mal·am·ant·o

mjelo mjel·o ~ spin·a medol·o

mobila (telefono) mobil·a (telefon·o) → poŝ·telefon·o

mobilo mobil·o → (kiel artaĵo) pend·art·aĵ·o, pendol·ar·o; (kiel amuzilo por beboj) (beb·a) pend·lud·il·o/pendol·ar·o

mocio moci·o → (oficial·a) propon·o, (oficial·a) postul·o

moderatoro moderator·o (en en atomkernenergia elektrofarejo) → moder·ig·aĵ·o; (en retaj listoj aŭ forumoj) mastr·um·ant·o, administr·ant·o

modli modl·i → model·i, form·i, form·um·i

mojosa mojos·a [sla] ~ modern·jun·stil·a, laŭ·mod·a, bon·eg·a, mal·aĉ·a, ŝat·ind·eg·a, bon·um·a

mokedo moked·o → plen·plank·a tapiŝ·o

molaro molar·o → maĉ·dent·o

mondialismo mondialism·o → tut·mond·ism·o

monismo monism·o (en filozofio, religio) → unu·ism·o

monitori monitor·i → kontrol·ad·i je distanc·o, for·a kontrol·il·o

monitoro monitor·o → ekran·o

mono- mono- → unu-

monokromata monokromat·a → unu·kolor·a

monoksido monoksid·o ~ unu·oksid·o

monokulturo monokultur·o → mal·divers·a kultiv·ad·o, unu·kultiv·ad·o, unu·ec·kultiv·ad·o, unu·spec·a kultiv·ad·o.

monolatrio monolatri·o → unu·di·ador·ad·o

monologo monolog·o [1oa] ~ (teatr·a) sol·parol·ad·o

monoteismo monoteism·o ~ unu·di·ism·o, sol·di·ism·o

monotona monoton·a ~ unu·ton·a

mopedo moped·o → (mal·grand·a) motor·bicikl·o

morbo morb·o → mal·san·o

morna morn·a → prem·e mal·ĝoj·ig·a, mal·hel·a

moroza moroz·a → mal·gaj·humor·a

morta mort·a (en la okazo de io jam antaŭe mortinta) → sen·viv·a, mort·int·a, mal·viv·a

(morta) litero (mort·a) liter·o ~ sen·efik·a, van·a, sen·rezult·a afer·o

mortala mortal·a → mort·o·dev·a

mortalo mortal·o → mort·o·dev·ul·o, mort·ont·o, mort·em·ul·o

mortosalto mort·o·salt·o ~ cirkl·o·salt·o

moskatelo moskatel·o → muskat·vin·o (vidu ankaŭ ĉe "muskatelo")

moskeo moske·o ~ (islam·a) preĝ·ej·o

moskito moskit·o [8oa] → kul·o

moslemo moslem·o → islam·an·o

muskatelo muskatel·o → muskat·vin·o (vidu ankaŭ ĉe "moskatelo")

muslima muslim·a → islam·a

moto mot·o [zam] → deviz·o

motivo motiv·o [en muziko] → muzik·a tem·er·o
motivigi
motiv·ig·i → konvink·i, instig·i, inspir·i, em·ig·i

motokroso motokros·o → motor·kroz·ad·o

motorciklo motorcikl·o ~ motor·bicikl·o

motuo motu·o → la motu·a lingvo

movimento movimento ~ part·o (de koncert·o, simfoni·o aŭ aliaj muzikaj prezentaĵoj), muzik·ĉapitr·o, muzik·verk·o·part·o



mucida mucid·a → ŝim·ant·a

muestro muestr·o → (statistik·a) el·pren·aĵ·o

muĝi muĝi ~ (bov·e) blek·i

mulato mulat·o ~ duon·blank·ul·o, du·on·nigr·a hom·o, miks·ras·ul·o

multipliki multiplik·i [8oa] → obl·ig·i

mungi mung·i → naz·blov·i, naz·pur·ig·i

muskatelo muskatel·o ~ moskatel·o → muskat·vin·o

mutili mutil·i → stump·ig·i, kripl·ig·i, mis·form·i, difekt·i, amput·i

mutuala mutual·a → inter·help·a, inter·asekura
mutual·ism·o → inter·help·ad·o, inter·asekur·ism·o


muzikalo muzikal·o → muzik·teatr·aĵ·o, muzik·a komedi·o

muzo muz·o [1oa] ~ inspir·ant·in·o

muzulmano muzulman·o → islam·an·o

na na → povas simple esti forlasita aŭ anstataŭigita per -n, -on aŭ je (ekzemplo: mi studis Chomsky/Chomsky·n/Chomsky·on/je Chomsky)

nabo nab·o → aks·ing·o; (figure) centr·o

nadlo nadl·o [8oa] ~ (kompas·)montr·il·o, indik·il·o; pik·il·o

najado najad·o → river·a aŭ font·a nimfo.

najlizi najliz·i → al·najl·i, najl·um·i

nano- nano- (en scienc-teĥnikaj vortoj) → miliard·on·o

narkomano narkoman·o → drog·ul·o, drog·mani·ul·o

natalitato natalitat·o → nask·o·kvant·o, nask·em·o, nask·o·rilat·um·o

naturismo natur·ism·o (en la senco de nudismo en la naturo) ~ nud·ism·o

naŭno naŭn·o (en muziko) ~ naŭ·a interval·o, naŭt·o. Vidu ssv plio 9.

navo nav·o [1oa] (en la senco de ŝipo) → ŝip·o

navajo navaj·o → navah·o

navedo naved·o ~ glit·boben·o naveda servo
naved·a serv·o → ir·re·ir·a serv·o, pram·ec·a serv·o

navigi navig·i → (en la senco de ŝip-vojaĝado) ŝip·vetur·i, ŝip·i; (en la senco de trovado de la pozicio) navigaci·i navigilo
navig·il·o → navigaci·il·o

navigacio navigaci·o [3oa] (en la senco de ŝip-vojaĝado) ~ ŝip·ir·ad·o

nazala nazal·a → naz·a

nazalo nazal·o → naz·a konsonant·o

necesabo neces·ab·o → neces·ej·a (sid·)kuv·o

nefro nefr·o → reno

nefrektomio nefrektomi·o → for·ig·o de la ren·o

nefrozo nefroz·o → ren·a mal·san·o

nefrologio nefrologi·o → ren·esplor·o, ren·stud·o

nefrono nefron·o → funkci·a unu·o de la ren·o

nefropatio nefropati·o → ren·problem·o, ren·dolor·o, ren·mal·san·o

nefrito nefrit·o → ren·inflam·o

negacio negaci·o → ne·ad·o, ne·a vort·o

negativa negativ·a [2oa] (rilate al nombroj) ~ sub·nul·a, minus·a

negi neg·i → ne·i

negockarto negoc·kart·o ~ vizit·kart·o

negro negr·o [1oa] → nigr(·a·haŭt)·ul·o

nekrologo nekrolog·o [3oa] ~ mort·raport·o

neksta nekst·a → sekv·a

nelge nelg·e → antaŭ ne·long·e

nen nen → neniel

neo- neo- (en scienc-teĥnikaj vortoj) → nov-

neofrono neofron·o → kadavr·o·grif·o

neolitiko neolitik·o → nov·ŝton·epok·o

neologismo neologism·o [2oa] ~ nov·a radik·o, nov·a vort·o, nov·a form·o, fremd·a vort·o

nereido nereid·o → mar·a nimf·o

nervoziĝi nerv·oz·iĝ·i [8oa] ~ iĝ·i nerv·a, nerv·iĝ·i

netransitiva ne·transitiv·a (verbo) [2oa] ~ ne·trans·ir·a

netto nett·o [zam] → net·o (pri pezo), net·a pez·o

neŭro- neŭro- (en scienc-teĥnikaj vortoj) → nerv-

neŭrologo neŭrolog·o → nerv·ist·o

neŭrologio neŭrologi·o → nerv·o·medicin·o, nerv·o·kurac·ad·o

nikotiano nikotian·o (parolante pri la tabakplanto) → tabak(-plant)-o

niksino niksin·o → akv·o·fe·in·o

nito nit·o → re·bat·najl·o

nitrogeno nitrogen·o ~ azot·o [fun] Vidu Ssv plio 4

noci noc·i → mal·util·i

nocio noci·o → koncept·o, ide·o, sci·aĵ·o

noko nok·o → (kuir·it·a) pasto/ter·pom·bul·et·o

nomenklaturo nomenklatur·o → nom·ar·o nomenklaturiko
nomenklaturik·o → scienc·o pri nom·ar·o·j

Nordio Nordi·o → Nord·land·o·j

norena noren·a (lingv·o) → mal·nov·skandinav·a (lingv·o)

normalo normal·o → ort·ant·o

notico notic·o → (mal·long·a) nov·aĵ·o, sci·ig·o

notora notor·a → fam·a, kon·at·a

novembro novembr·o[fun] ~ la 11·a monat·o

novico novic·o (en la senco de lernanto por iĝi monaĥo) [fun] ~ monaĥ·iĝ·ont·o
novic·o (en ĝenerala senco) → nov·ul·o, sen·spert·ul·o

nukleo nukle·o → kern·o, (fizike) atom·kern·o, (biologie) ĉel·kern·o

numeralo numeral·o → nombr·o·vort·o

nupto nupt·o → ge·edz·iĝ·o, kun·edz·iĝ·o, kun·edz·in·iĝ·o

obeza obez·a → tro·dik·a, dik·eg·a, super·pez·a

objektivo objektiv·o → cel·o

obĵeti obĵet·i → kontraŭ·dir·i, kontraŭ·i, tamen·i

oblato oblat·o [fun] (en la senco de pola kristnaska vaflo) ~ (pol·a) krist·nask·a vafl·o. (en la senco de hostio) hosti·o, (en la senco de sigel-aĵo) sigel·il·o

oblonga oblong·a → long·form·a

obscena obscen·a → mal·ĉast·a, sen·pudor·a

obsedo obsed·o → kor·prem·o, prem·zorg·o, inkub·(sonĝ)·o, mani·o.

obskura obskur·a→ sen·lum·a, mal·lum·a, ne·kon·at·a, ne·fam·a

obsoleta obsolet·a → eks·a, mal·nov·a, mal·aktual·a

obstaklo obstakl·o [8oa] ~ mal·help·o, bar·o

obteni obten·i → akir·i, ricev·i

obtuza obtuz·a [3oa] ~ mal·akr·a

oceanologo oceanolog·o → mar·scienc·ist·o

oceanologio oceanologi·o → mar·scienc·o

ocelo ocel·o → okul·o

odontalgio odontalgi·o ~ dent·o·dolor·o

ofensivo ofensiv·o → ĝeneral·a atak·o

-ofono -ofon·o → (kiel en 'Esperantofono') parol·ant·o, lingv·an·o

ofsajde ofsajd·e → trans·lim·e ofsajdo
ofsajd·o → trans·lim·ec·o, trans·lim·iĝ·o; trans·lim·a pozici·o

oftalmito oftalmit·o → okul·inflam·o

oftalmologo oftalmolog·o → okul·kurac·ist·o, okul·ist·o

oftalmologio oftalmologi·o → okul·medicin·o, okul·kurac·ad·o

oftalmometro oftalmometr·o ~ korne·o·mezur·il·o

-oid- -oid- → -simil-

o kej o kej→ en ord·o!, en·ord·e!, jes!, bon·e!, ĝust·e!
okej
okej→ en ord·o!, en·ord·e!, jes!, bon·e!, ĝust·e!
OK!
OK! → bon·e! en ord·o!, en·ord·e!, jes!, ĝust·e!

okso oks·o → vir·bov·o

oksimoro oksimor·o → mem·kontraŭ·dir·o, (ŝajn·a) si·n·kontraŭ·dir·o, si·n·kontraŭ·dir·a esprim·o.

oktavo oktav·o (en muziko) ~ ok·a interval·o, okt·o. Vidu ssv plio 9.
oktav·o (en la senco de periodo de ok tagoj) → ok tag·o·j, tag·ok·o.

oktobro oktobr·o [fun] ~ la 10·a monat·o

okupacii okupaci·i → (milit·e/uzurp·e) okup·i
okupacio
okupaci·o → (milit·a/uzurp·a) okup·ad·o

olda old·a → maljun·a, mal·nov·a

olfakt-o olfakt·o → flar·sent·um·o, flar·kapabl·o, flar·pov·o

oligarĥo oligarĥ·o [7oa] ~ grup·reg·ant·o, kelk·reg·ist·o, kelk·reg·ant·o

oligarko oligark·o [7oa] ~ oligarĥ·o

oligarkio oligarki·o [3oa] ~ , grup·reg·o, kelk·reg·ad·o

olim olim → iam, antaŭ·e, antaŭ·long·e

olimpiko olimpik·o → olimpi·a·j lud·o·j

olimpikaj ludoj olimpik·a·j lud·o·j → olimpi·a·j lud·o·j

-ologo -olog·o → -scienc·ist·o, -fak·ul·o

-ologio -ologi·o → -scienc·o, -fak·o

ombudsmano ombudsman·o → civit·an·a defend·ant·o, (publik·a) rajt·o·protekt·ant·o

ompiro ompir·o → lud·estr·o, arbitraci·ant·o, arbitraci·ul·o

onirika onirik·a → sonĝ·a

onkologio onkologi·o → tumor·scienc·o, tumor·medicin·o, kancer·scienc·o

onomastiko onomastik·o → nom·scienc·o.

onomatopea onomatope·a → son·imit·a, son·figur·a

ontologio ontologi·o ~ est·o·teori·o, est·o·stud·ad·o

opaka opak·a → ne·tra·vid·ebl·a, mal·diafan·a, lum·bar·a

opcio opci·o → aĉet·o·rajt·o, elekt·ebl·o, ebl·o, elekt·ebl·aĵ·o, elekt·o·rajt·o

operaco operac·o ~ agad·o

operacio operaci·o (ekster la kuracista agado) ~ ag·ad·o

operklo operkl·o → klap·form·a organ·o, ost·ec·a klap·o (en la homa korpo), ferm·o·klap·o, kovr·il·o (ĉe fruktoj, abel-ĉeloj, kaj similaj)

operkulo operkul·o → klap·form·a organ·o, ost·ec·a klap·o (en la homa korpo), ferm·o·klap·o, kovr·il·o (ĉe fruktoj, abel-ĉeloj, kaj similaj)

oponi opon·i [8oa] ~ kontraŭ·i, kontraŭ·star·i, opozici·i

opresi opres·i → sub·prem·i

optima optim·a → plej bon·a

opuzigi op·uz·ig·i ~ kun·uz·ig·i

oracio oraci·o → funebr·a parolad·o; orator·aĵ·o

orala oral·a → buŝ·a, voĉ·a

oranĝerio oranĝeri·o [zam] → oranĝ·ej·o

orbito orbit·o [4oa] ~ (en anatomio) okul·kav·o

oreado oread·o → mont·a nimf·o

ordo ord·o (en la senco de grupo, societo, klaso de ŝtatanoj) → grup·o; societ·o; klas·o

orden-o orden·o ~ (laŭ la signifo) honor·insign·o; societ·o/kun·ul·ar·o

ordini ordin·i → pastr·ig·i

ordinalo ordinal·o → (en lingvoscienco) ord·a nombr·o·vort·o; (en matematiko) ord·o·nombr·o

organoleptika organoleptik·a → spert·ebl·a per la sent·um·o·j

orgojlo orgojl·o → fier·o

orientiĝi orient·iĝ·i ~ direkt·i si·n, trov·i si·a·n pozici·o·n

orientalismo orientalism·o → orient·ism·o, orient·scienc·o, orient·land·ism·o orientalisto
orientalist·o → orient·ist·o, orient·scienc·ist·o, orient·fak·ul·o

orkestro orkestr·o [1oa] ~ muzik·ist·ar·o

ornamento ornament·o → ornam·aĵ·o

ornitologio ornitologi·o [3oa] ~ birdo·scienc·o

ornitologo ornitolog·o [7oa] ~ birdo·sciencisto/fakul·o

ornitorinko ornitorink·o ~ bek·mam·ul·o, anas·bek·a mam·ul·o

orto- orto- (en scienc-teĥnikaj vortoj) → rekt·a, normal·a

ortangulo ortangul·o [8oa+fun]] ~ rekt·angul·o

ortodencio ortodenci·o → dent·ĝustigo

ortofonio ortofoni·o ~ ĝust·a (el-)parol·o/prononc·o

ortofonisto ortofonist·o → parol·kuracisto

ortodoksa ortodoks·a [2oa] (en senco nereligia) → ĝust·a·pens·a, tradici·a, rekt·instru·a, prav·a·kred·a

ortodoksio ortodoksi·o → ortodoks·ism·o, ortodoks·ec·o

(ĝis)osta ĝis·ost·a. Vidu ĝisosta en la litero Ĝ.

ostaĝigi ostaĝ·ig·i → garanti·kapt·i

ostaĝo ostaĝ·o → garanti·kapt·it·o, garanti·ul·o

osteopato osteopat·o → ost·o·kurac·ist·o

ostopatio ostopati·o → ost·o·dolor·o, ost·o·problem·o, ost·o·mal·san·o

oto ot·o (en sciencaj vortoj) → orel·o

ota ot·a (en sciencaj vortoj) → orel·a

otalgio otalgi·o → orel·dolor·o

otito otit·o → orel·inflam·o, mez·orel·inflam·o

otologio otologi·o → orel·stud·o, orel·scienc·o

otorinolaringoiatro otorinolaringoiatr·o → kurac·ist·o pri orel·o, naz·o kaj gorĝ·o

otorinolaringologio otorinolaringologio → scienc·a stud·o pri orel·o, naz·o kaj gorĝ·o

otorinolaringologo otorinolaringolog·o → kurac·ist·o pri orel·o, naz·o kaj gorĝ·o

otosalpingo otosalping·o → Eŭstaki·a tub·o

ovala oval·a ~ ov·o·form·a.

ovri ovr·i → mal·ferm·i

-oz- -oz- → -abund-, -plen-, -riĉ- (en la komun-uzaj vortoj), mal·san-, inflam- (en vortoj de malsanoj). Vidu Ssv plio 19

pacifismo pacifism·o [3oa] ~ pac·ism·o, pac·am·o pacifisto
pacifist·o [3oa] ~ pac·ist·o, pac·am·ant·o

pado pad·o → voj·et·o, pas·ej·et·o

paĥidermo paĥiderm·o → dik·haŭt·ul·o, dik·haŭt·a mam·ul·o

pajaco pajac·o [zam] ~ amuz·ist·o, rid·ig·ist·o, klaŭn·o [zam]


pajnto pajnt·o ~ duon·litr·o (mezurunuo por likvaĵoj en Britujo kaj aliaj anglalingvaj landoj proksimume egala al duona litro)

pakidermo pakiderm·o → dik·haŭt·ul·o, dik·haŭt·a mam·ul·o

pakto pakt·o → inter·konsent·o, kontrakt·o

palatalo palatal·o → palat·ost·o; palat·a son·o (laŭ la kunteksto)

palavro palavr·o → (laŭ la kunteksto) diskut·ad·o, (inter)trakt·ad·o, babil·ad·o

paleo paleo· (kiel prefikso en sciencaj vortoj) → pra·

paleografo paleograf·o [7oa] ~ pra·skrib·esplor·ist·o

paleografio paleografi·o [2oa] ~ pra·skrib·esplor·o

paleolitiko paleolitik·o → pra·ŝton·epok·o, fru·ŝton·epok·o

paleontologo paleontolog·o [7oa] ~ scienc·ist·o pri pra·viv·aĵ·o·j

paleontologio paleontologi·o [2oa] ~ scienc·o pri pra·viv·aĵ·o·j

palio pali·o → la pali·a lingv·o

paliativo paliativ·o [zam] ~ dolor·mild·ig·il·o, simptom·kurac·il·o

paludismo paludism·o → malari·o, marĉ·o·febr·o

pamfleto pamflet·o [3oa] ~ kalumni·a verk·et·o

pampo pamp·o ~ sud·amerik·a eben·aĵ·o

panaceo panace·o → universal·a kurac·il·o, ĉi·o·kurac·il·o

pandemio pandemi·o ~ tut·mond·a mal·san·o

pandemonio pandemoni·o → ĥaos·(a lok·)o, bru·eg·o, diabl·a lok·o

panenteismo panenteism·o → ĉio·en·di·ism·o

paniki panik·i (en la senco 'kaŭzi panikon') [2oa] → panik·ig·i, kaŭz·i panik·o·n

panteismo panteism·o [2oa] → ĉio·di·ism·o

pantero panter·o ~ genr·o de felis·ed·o·j

pansi pans·i → (kurac·e/protekt·e) kovr·i / ŝirm·i (vund·o·n) pansaĵo
pans·aĵ·o → vund·kovr·il·o; kurac·bend·o
pretpansaĵo
pret·pans·aĵ·o → kurac·bend·o

papiamento papiament·o → la papiament·a lingv·o

para para· (en sciencaj vortoj) → apud·a

paro par·o [fun] ~ du·op·o

parafo paraf·o [2oa] ~ mal·long(-ig·it)-a sub·skrib·o, sub·sign·o, (en alia kunteksto) sub·skrib·ornamaĵo

parafi paraf·i [2oa] ~ antaŭ·konfirm·i, (provizor·e) sub·skrib·i (mal·long·ig·it·e / komenc·liter·e), sub·sign·i, sub·skrib·et·i, (en alia kunteksto) ornam·i sub·skrib·o·n

parafrazo parafraz·o [2oa] ~ ĉirkaŭ·fraz·o, ĉirkaŭ·skrib·o, ĉirkaŭ·diro, ĉirkaŭ·parolo

paralimpiko paralimpik·o → krom·a·j olimpi·a·j lud·o·j

paraolimpiko paraolimpik·o → krom·a·j olimpi·a·j lud·o·j, olimpi·a·j lud·o·j por mal·avantaĝ·ul·o·j

parapeto parapet·o → protekt·a balustr·ad·o, rand·mur·et·o, olimpi·a·j lud·o·j por mal·avantaĝ·ul·o·j

parati parat·i (en 'piedpilkado') → halt·ig·i (la pilk·o·n), re·bat·i, re·puŝ·i, de·turn·i, mal·help·i

parcelo parcel·o [zam] ~ ter·pec·o

paregorika paregorik·a → dolor·mild·ig·a

parfeo parfe·o → ŝaŭm·krem·a glaci·aĵ·o

pargeto parget·o [fun] ~ lign·o·plank·o

parieto pariet·o → vand·o

parkere parker·e [fun] ~ (laŭ-)memor·e

parmezano parmezan·o → parm·a fromaĝ·o

paroko parok·o → paroĥ·o [fun]

parotido parotid·o ~ saliv·a gland·o

parotidito parotidit·o ~ mumps·o, saliv·gland·a inflam·o/ŝvel·o, orel·gland·a inflam·o/ŝvel·o

partikulara partikular·a → apart·a

partio parti·o (en ludoj) [fun] → lud·o
parti·o (pri geedziĝo) [fun] → taŭga, konvena ge·edziĝ·ont·o

partnero partner·o ~ kun·ul·o, kun·far·ant·o (anstataŭ 'far-' oni enmetu la radikon taŭgan por la situacio: kun·komerc·ant·o, kun·loĝ·ant·o, ktp.)

parvenuo parvenu·o → nov·riĉ·ul·o; (en la kazo de homo, kiu abrupte akiris rangaltiĝon) el·salt·ul·o [zam], nov·potenc·ul·o

paseo pase·o → pas·int·a temp·o, pas·int·aĵ·o, pas·int·ec·o

pasiono pasion·o (faka vorto, religia) ~ Jesu·a mort·o·sufer·o

paskvilo paskvil·o [1oa] ~ akr·a satir·o

paspartuo paspartu·o → universal·a ŝlos·il·o, ĉef·ŝlos·il·o

pastoro pastor·o ~ (protest·ant·a) pastr·o

pastoralo pastoral·o [zam] → pri·paŝt·ist·a verk·o, paŝt·ist·o·medi·a verk·o (en konkretaj okazoj oni povas esti pli specifa, ekzemple paŝt·ist·o·med·ia simfoni·o)

patato patat·o → batat·o, dolĉ·a ter·pom·o

paternalismo paternalism·o → patr·ism·o, patr·a si·n·ten·o, tro·a protekt·em·o

patezo patez·o → lok·a dialekt·o, lok·a lingv·aĵ·o

patogena patogen·a → (en komunuza lingvo) ek·mal·san·ig·a, mal·san·ig·a

patognomonia patognomoni·a → mal·san·indik·a

patologio patologi·o [2oa] ~ mal·san·scienc·o

patologia patologi·a (rilate al la stato de homoj) → mal·san·a, mal·san·ec·a

patrio patri·o → patr·uj·o, patro·land·o

patriarka patriark·a (patriarka socio kaj similaj) ~ vir·centr·a

patriarko patriark·o (la patriarko Abrahamo) ~ famili·estr·o

patronimo patronim·o → patr·o·nom·o

paŭperismo paŭperism·o → mal·riĉ·ec·o

paŭti paŭt·i ~ ofend·iĝ·grimac·i, koler·grimac·i, ĝen·grimac·et·i

pecajo pecaj·o → ĉin·a brasik·o

pedagogio pedagogi·o [4oa] ~ eduk·scienc·o

pederasto pederast·o → infan·seks·em·ul·o, infan·em·ul·o, infan·erotik·ul·o

pederastio pederasti·o → infan·seks·em·ec·o, infan·em·o, infan·erotik·em·o

pediatrio pediatri·o → infan·medicin·o

pediatro pediatr·o → infan·kurac·ist·o

pedikuri pedikur·i → pied·fleg·i

pedofilo pedofil·o ~ infan·seks·em·ul·o

pedofilio pedofili·o ~ infan·seks·em·ec·o, infan·em·o, infan·erotik·em·o

pedologio pedologi·o → infan·stud·ad·o, infan·scienc·o; grund·o·scienc·o (en la senco de grundoscienco)

pedologo pedolog·o → infan·stud·ant·o, infan·scienc·ist·o; grund·o·scienc·ist·o (en la senco de grundosciencisto)

pejĝilo pejĝil·o → poŝ·mesaĝ·il·o

pejorativa pejorativ·a → mal·ŝat·esprim·a

peled-o peled·o → (ĝenerale) bul·et·o; (brulmaterialo) lign·o·bul·et·o

pelet-o pelet·o → (ĝenerale) bul·et·o; (brulmaterialo) lign·o·bul·et·o

pelilo pel·il·o (en komputiloj) [fun] ~ stir·il·o, kontrolilo

pelmelo pelmel·o → miks·konfuz·aĵ·o

pelvometrio pelvometri·o → pelv·o·mezur·ad·o

penalo penalo → pun·pied·bat·o (en piedpilka ludo)

pendolo pendol·o [fun] ~ balanc·il·o, pend·il·o

penseo pense·o → tri·kolor·et·o [zam]

pensionato pensionat·o → fraŭl·in·hejm·o, knab·in·hejm·o

pepi pep·i [fun] ~ (bird(-et-)e) blek·i/kant·i

peplomo peplomo → plum·kovr·il·o, vat·kovr·il·o

percento percent·o → procent·o, el·cent-(aĵ-)o

perceptiva perceptiv·a → percept·a, percept·o·pov·a

performanco performanc·o → (laŭ la kunteksto) efik·o, efik·ec·o, produkt·(o·kapabl·)o, funkci·ad·o, prezent·o, plen·um·o

periklo perikl·o → danĝer·o

peripetio peripetio → sort·o·turn·iĝ·o, (ne·atend·it·a) aventur·o

perkelto perkelt·o → hungar·a saŭco·viand·o

perkuti perkut·i → frap·i

perlono perlon·o → (german·a) nilon·o, Perlon (varnomo)

perlueto perluet·o → kaj·sign·o (&)

permanenta permanent·a → daŭr·a, konstant·a

permeabla permeabl·a → tra·las·a

pernio perni·o → frost·inflam·o, frost·o·ŝvel·o

perono peron·o [fun] ~ ekster·a ŝtup·ar·o

perpendikla perpendikl·a → ort·a [8oa] perpendiklo
perpendikl·o → ort·ant·o perpendikulara
perpendikular·a [zam] → ort·a [8oa]

perpleksa perpleks·a ~ konfuz·it·a, dub·ant·a, sen·konsil·a

persieno persien·o → lat·ŝirm·il·o, (pers·a) fenestr·o·kovr·il·o, fenestr·o·ŝirm·il·o, rul·kurten·o

personalo personal·o → pronom·o, person·a pronom·o; dung·it·ar·o, person·ar·o, (labor·)ist·ar·o

personalismo personalism·o → person·ism·o

personeco person·ec·o (en la signifo de "persono", "homo") → person·o, hom·o

personulo person·ul·o → (grav·a) hom·o, person·o.

perturbi perturb·i → mal·ord·ig·i, ĝen·i, mis·funkci·ig·i

peruko peruk·o [1oa] ~ mal·ver·a har·ar·o, ne·ver·a har·ar·o

persvadi persvad·i [9oa] ~ konvink·i [fun]

pesko pesk·o→ fiŝ·kapt·ad·o

peticio petici·o → pet·skrib·o, pet·skrib·aĵ·o, pet·leter·o

petr- petr- (en sciencaj vortoj) → ŝton-

petro petr·o → ŝton·o, ŝton·aĵ·o

petrografio petrografi·o → ŝton·scienc·o

petrolo petrol·o (en la senco de 'benzino por la aŭtomobilo') → benzin·o

pHmetro pH·metr·o ~ acid·ec·o·mezur·il·o

piĉo piĉ·o [sla] ~ vulvo, vagino

piero pier·o → mar·pont·o

pietato pietat·o → respekt·o, pi·ec·o

pigra pigr·a [zam] → mal·labor·em·a, mal·diligent·a

piknometro piknometr·o ~ dens·o·mezur·il·o

piko- piko- (en scienc-teĥnikaj vortoj) ~ mil·miliard·on·o

pikselo piksel·o (en komputiloj) [r15] → bild·er·o, bild·o·punkt·o, rastr·um·er·o

piktogramo piktogram·o ~ bild·o, bild-simbol-o; vort-o-sign-o, bild·o·skrib·er·o (en kelkaj skrib-sistemoj)

pikturo piktur·o → pentr·(o·)art·o

pilĉardo pilĉard·o ~ sardin·o

piliero pilier·o → sub·ten·kolon·o

pimpa pimp·a → gaj·e log·a

pinastro pinastr·o → mar·a pin·o

pindo pind·o → duon·litr·o, pajnt·o

pinio pini·o → ombrel·a pin·o

pinka pink·a → roz·kolor·a

pipelino pipelin·o → naft·o·konduk·tub·o, flu·transport·tub·o, tub·ar·voj·o

pipistrelo pipistrel·o → vespert·o

piranometro piranometr·o → (duon·sfer·a) sun·radi·mezur·il·o

pirheliometro pirheliometr·o → (rekt·a) sun·radi·mezur·il·o

piro- piro- (en sciencaj kaj teĥnikaj vortoj) → fajr(·o)-

piromano piroman·o → fajr·o·mani·ul·o

pirotekniko piroteknik·o → fajr·art·o, fajr·teĥnik·o piroteknikaĵo
piroteknik·aĵ·o → art·fajr·aĵ·o, fajr·o·flor·o·j

pita pit·a → mal·grand·a, et·a, mal·grand·aĉ·a

pitĉo pitĉ·o → ton·alt·o

pitoreska pitoresk·a → bild·ec·a, pentr·aĵ·ec·a, pentr·ind·a, bildo·imag·ig·a

pizango pizang·o [zam] → ne·dolĉ·a banan·o

placebo placeb·o ~ ŝajn·kurac·il·o

plaĝo plaĝ·o → (sabl·a) (mar-)bord·o, ban·bord·o, mar·bord·a ban·ej·o, sun(-um)-bord·o, turism·a bord·o, strand·o. Vidu Ssv plio 5.

plaki plak·i → sur·lamen·ig·i

plakato plakat·o → afiŝ·o

plano plan·o → (en pentrado kaj metafore) eben·aĵ·o, tavol·o, (en la esprimo 'unua plano') mal·fon·o; (en filmo) scen·o

planto plant·o ~ kresk·aĵ·o

plasi plas·i → met·i si·a·j·n ŝpar·aĵ·o·j·n

platbando platband·o → flor·bed·o, border·o

platformo platform·o (en politiko) → parti·a program·o, deklar·o

platino platin·o → platen·o

plebiscito plebiscit·o → popol·voĉ·don·o, popol·konsult·o

pleonasmo pleonasm·o [2oa] ~ (lingv·a) tro·aĵ·o

plezuron! plezur·o·n! (kiel diro en okazo de renkonto de novaj homoj) ~ Mi ĝoj·as! [renkonti vin/konatiĝi kun vi]

plonki plonk·i (interreto) ~ ignor·i, for·ĵet·i

plozivo ploziv·o → eksplod·a konsonant·o

pluki pluk-i ~ deŝiri, rikolti (pri fruktoj, legomoj), depreni, eltiri; pinĉi (kordon de muzikilo); senplumigi, senharigi (ekzemple kokon)

plumo plum·o [fun] (en la senco de 'skribilo') ~ skrib·il·o, ink·o·skrib·il·o, ink·o·plum·o (en la okazo de efektiva birdo-plumo uzata kiel skribilo)

plumono plumon·o → plum·kovr·il·o, vat·kovr·il·o

plumpa plump·a → mal·elegant·a, mal·graci·a

pluralo plural·o [4oa] → plur·nombr·o, mult·e·nombr·o

plutokrato plutokrat·o [7oa] ~ riĉ·ul·reg·ant·o, riĉ·ec·reg·ant·o, riĉ·reg·ant·o

ssv: P1 de pacifismo al plutokrato
ssv: P2 de pneŭo al puzlo

pneŭo pneŭ·o → (rad·a) aer·bend·o

pneŭmo- pneŭmo· → aer·, gas·

pneŭmata pneŭmat·a → per·gas·a

pneŭmatiko pneŭmatik·o (kun la signifo de certa radparto) → (rad·a) aer·bend·o pneŭmatiko
pneŭmatik·o [1oa] (scienco) ~ gas·meĥanik·o

pneŭmono pneŭmon·o → pulm·o

pneŭmonito pneŭmonit·o → pulm·inflam·o

pneŭmonio pneŭmoni·o → pulm·infekt·o

pneŭmopatio pneŭmopati·o → pulm·mal·san·o

pobo pob·o → ŝip·vost·o

poĉi poĉ·i → (pri ovoj) sen·ŝel·e bol·ig·i; (pli ĝenerale) bol·et·ig·i

podkasto podkast·o → el·ŝut·radi·o, ret·abon·ebl·a radi·o

podologio podologi·o → pied·o·scienc·o; [en kelkaj lingvoj] grund·o·scienc·o, grund·o·stud·o

podologo podolog·o → pied·o·kurac·ist·o; [en kelkaj lingvoj] grund·o·scienc·ist·o, grund·o·stud·ant·o

poefago poefag·o → grunt·bov·o, tibet·a bov·o (vidu ankaŭ ĉe "gjako")

poento poento [fun] ~ valor·unu·o, taks·unu·o, unu·o

poeto poet·o [1oa] ~ poem·ist·o, poem·verk·ist·o, vers·ist·o

poeziaĵo poezi·aĵ·o ~ poem·o, vers·aĵ·o

poezio poezi·o [1oa] ~ poem·ec·o, poem·art·o, vers·ec·o, vers·art·o, poem·ar·o

pogromo pogrom·o ~ amas·buĉmiddot;ad·o (de malplimulto kaj aparte de judoj)

pojno pojn·o → man·radik·o

poka pok·a → mal·mult·a

poldero polder·o → sen·marĉ·ig·it·a/sen·marĉ·iĝ·int·a mar·region·o

polekso poleks·o → dik·fingr·o

polemologo polemolog·o → milit·o·scienc·ist·o

polemologio polemologi·o → milt·o·scienc·o, milit·o·stud·o

poli- poli- (en scienc-teĥnikaj vortoj) → mult-, plur-

poliandrio poliandri·o → plur·edz·ec·o

poligamio poligami·o [zam] ~ plur·edz·ec·o, plur·edz·in·ec·o

poliginio poligini·o → plur·edz·in·ec·o

poligloto poliglot·o [2oa] → mult·lingv·ul·o

poligono poligon·o (kiel geometria termino) → plur·angul·o

polikulturo polikultur·o → mult·kultiv·ad·o

polio- polio- (en scienc-teĥnikaj vortoj) → griz·a mjel·a substanc·o, mjel·o·substanc·o

polio poli·o (por poliomjelito) → infan·a paraliz·o

poliomjelito poliomjelit·o ~ infan·a paraliz·o

polipneo polipne·o → rapid·a spir·ad·o

polisemio polisemi·o → plur·signif·o, plur·signif·ec·o

politeismo politeism·o ~ plur·di·ism·o, mult·di·ism·o

politeisto politeist·o → plur·di·ist·o, plur·di·ism·an·o

polmo polm·o → man·plat·o, man·kav·o

poltrono poltron·o → mal·kuraĝ·ul·o

polucio poluci·o (en la senco de nokta spermellaso sen koito) → (ne·vol·a) sperm·el·ig·o, sperm·el·flu·o polucio
poluci·o (en la senco de malpurigo de la medio) → medi ·- mal· pur·ig·o, polu·ad·o

pomelo pomel·o → ten·il·o

pomo pomo Ssv plio 22 - ter-pomo

populacio populaci·o (en statistiko) → (baz·a, esplor·at·a) tut·aĵ·o

populismo populism·o → popol·ism·o, popular·ism·o, demagogi·o

poro por·o [1oa] ~ tru(·et)·o, kav(·et)o

poroza poroz·a → tru·et·hav·a, tralas(·em)·a

porĉo porĉ·o → portik·o, portik·aĵ·o

poriĝo poriĝ·o → aven·kaĉ·o

portalo portal·o [2oa] → (ret·)pord·eg·o; pord·eg·o

postea poste·a → post·a

postiĉo postiĉ·o → fals·aĵ·o, imit·aĵ·o

postkropo post·krop·o [fun] → maĉ·o·stomak·o, post·stomak·o

postmido post·mid·o → post·tag·mez·o

postulato postulat·o → (fundament·a) tez·o, (fundament·a) hipotez·o, (fundament·a) princip·o, aksiomo
postulati
postulat·i → tez·i, hipotez·i, propon·i; tez·i la ekzist·o·n de, hipotez·i la ekzist·o·n de, postul·i (ĉi-lasta estu uzata nur, se tiu uzo de "postuli" povas esti konsiderata figura uzo de la ĉefsignifo de "postuli")

(miks)poto (miks)poto Vidu 'mikspoto' en la litero M.

potenciala potencial·a (en la komuna lingvo por 'eventuale ebla') → ebl·a, eventual·a


poterno potern·o → pord·o

poŭlo poŭl·o → (akvo-)rezerv·ej·o (vidu ankaŭ ĉe "pullo")

povra povr·a → bedaŭr·ind·a, kompat·ind·a

pozitiva pozitiv·a [1oa] (rilate al nombroj) ~ super·nul·a, plus·a

pragamata pragmat·a → praktik·a, real·ism·a

prato prat·o → herb·ej·o

pre· pre· (en scienc-teĥnikaj vortoj) → antaŭ·

preamblo preambl·o → antaŭ·part·o, en·konduk·o, prezent·tekst·o

precedenco precedenco [zam] → antaŭ·ekzempl·o
precedenca
sen·precedenc·a → (ĝis nun) ne·kon·at·a, antaŭ·e ne vid·it·a, sen·kompar·a, ne·kompar·ebl·a, sen antaŭ·aĵ·o, sen antaŭ·a simil·aĵ·o, sen·egal·a (lau la kunteksto)

precedento precedent·o → antaŭ·ekzempl·o

precioza precioz·a → (laŭ la kunteksto) afekt·o·plen·a, afekt·em·a, afekt·it·a, delikat·a, rafin·it·a; (en la senco de valorega) valor·eg·a

precipiti precipit·i → (en la senco de veteraj fenomenoj) (al·)fal·i; (en ĥemio) sediment·i, mal·solv·iĝ·i (se la subjekto estas la nesolvotaĵo), mal·solv·ig·i (se la subjekto estas la homo kiu kaŭzas la precipiton) precipitaĵo
precipit·aĵ·o → (veter·)al·fal·aĵ·o

predi pred·i → ĉas·i, ĉas·akir·i
predo
pred·o → kapt·aĵ·o, ĉas·aĵ·o

prefaco prefac·o → antaŭ·parol·o

preferi prefer·i [fun] ~ pli·ŝat·i

prefiks'o prefiks'o [fun]~ antaŭ·afiks·o, antaŭ·met·ebl·a vort·er·o

premiero premier·o → unu·a prezent·ad·o (teatraĵo aŭ filmo), ĉef·ministr·o (reg-ist-ar-a posten-o)

premiso premis·o [2oa] ~ antaŭ·kondiĉ·o

preni pren·i (en frazoj de la speco 'Mi prenas la vagonaron al la ĉefurbo') ~ ek·vetur·i per, vetur·i per, ir·i per, uz·i, util·ig·i

prepuci-o prepuci·o [zam] ~ (penis·a) antaŭ·haŭt·o

prerio preri·o → herb·ej·o (se la emfazo estas pri la herbo), eben·aĵ·o (se la emfazo estas pri la vasteco kaj ebeneco), herb·eben·aĵ·o

pres- pres- (rilate al gazetaro) → gazetara

preskripto preskript·o → preter·temp·ec·o, ne·plu·pun·ebl·o, for·temp·iĝ·o preskripta
preskript·a → preter·temp·a, ne·plu·pun·ebl·a

preterito preterit·o [2oa] → pas·int·a temp·o

preventi prevent·i → mal·help·i, antaŭ·mal·help·i, mal·ebl·ig·i

preventa prevent·a → (en la senco de milito) antaŭ·atak·a, mal·help·a

prezenco prezenc·o → nun·temp·o

prezidento prezident·o → (ŝtat-)prezid·ant·o

prezidio prezidi·o → prezid·ej·o (se temas pri la fizika loko), prezidant·ar·o, estr·ar·o

primo prim·o (en muziko) ~ unu·a (interval·o), unut·o. Vidu ssv plio 9.

primara primar·a → unu·a·rang·a

primavero primaver·o → printemp·o

primuso primus·o → varm·ig·il·o, kuir·il·et·o

printi print·i → pres·i, el·pres·i (el komput·il·o), komputil·pres·i

prioritato prioritat·o → antaŭ·rajt·o, antaŭ·rang·ec·o

prizono prizon·o → mal·liber·ej·o

probabla probabl·a [3oa] ~ ver·ŝajn·a

problematiko problematik·o → problem·ar·o, mal·facil·aĵ·ar·o

procento procent·o [fun] ~ (proporcio rilate al 100) el·cent-aĵ-o, (en uzo kun nombro da %) cent-on-o(j). Vidu Ssv plio 7.

proceso proces·o [fun] ~ juĝ·afer·o

procezo procez·o → si·n·sekv·o, evolu·o

prodigi prodig·i → mal·ŝpar·i, for·neni·ig·i, mal·avar·i

prodo prod·o → brav·ul·o, (mez·epok·a) kavalir·o

producento producent·o → (film·)produkt·ad·estr·o

produktiva produktiv·a → produkt·o·pov·a, produkt·i·pov·a


produktoro produktor·o → (film·)produkt·ad·estr·o

profana profan·a ~ ne·religi·a, laik·a, mal·sankt·a

profani profan·i ~ mal·sankt·ig·i, mal·observ·i la sankt·ec·o·n de

profano profan·o [3oa] ~ ne·religi·ul·o, hom·o ne·instru·it·a pri sankt·aĵ·o·j, ne·inic·it·o, laik·o, ne·kompetent·ul·o, ne-spert-ul-o

prohibi prohib·i → malpermes·i

prokrasti prokrast·i [fun] ~ mal·fru·igi, post·igi

prokuroro prokuror·o ~ (en juĝejo) publik·a/ŝtat·a akuz·ist·o, (en aliaj okazoj) enket·ist·o.

prolongi prolong·i → pli·daŭr·ig·i

prominenco prominenc·o → el·star·aĵ·o

prominenta prominent·a → el·star·a, pli/plej el·star·ant·a

promocii promoci·i → (en senco komerca aŭ ĝenerala) antaŭ·e·n·ig·i, dis·vast·ig·i, stimul·i, akcel·i; (rang-altigi) rang·alt·ig·i

prompta prompt·a → tuj·a, vigl·a, sen·prokrast·a

prompti prompt·i → pret·i, est·i pret·a

promulgi promulg·i → oficial·e el·doni, anonc·i

proni pron·i → tord·i la brak·o·n mal·supr·e·n

prononci prononc·i [3oa] ~ el·parol·i [fun]

propagi propag·i → dis·vast·ig·i, dis·fam·ig·i

proparolanto pro·parol·ant·o → por·parol·ant·o

propedeŭtiko propedeŭtik·o [zam] → en·konduk·a instru·ad·o, prepar·a instruad·o, antaŭ·instru·o (en Esperanto oni uzas la koncepton ĉefe pri 'la propedeŭtika/lingvenkonduka valoro de Esperanto rilate al aliaj lingvoj')

proprieto propriet·o ~ rajt·o, jur·a posed·rajt·o

proprietaĵo propriet·aĵ·o ~ hav·aĵ·o, propr·aĵ·o

propulsi propuls·i → (antaŭ·e·n·)pel·i (maŝinon)

proskribi proskrib·i [zam] → ekzil·i, ekster·leĝ·ig·i, mal·permes·i

proskripcio proskripci·o [zam] → ekzil·ad·o, ekste·leĝ·ig·ad·o, mal·permes·ad·o

prospektoro prospektor·o → min·aĵ·esplor·ist·o

protagonisto protagonist·o [2oa] ~ ĉef·rol·ant·o, ĉef·rol·ul·o

proto- proto- → pra-, unu·a

prototipo prototip·o [2oa] ~ pra·tip·o, prov·tip·o, 

pra·model·o, tip·o

provosto provost·o → polic·estr·o: (en Usono) administr·ant·o de universitat·o

prozopopeo prozopope·o → person·ig·o (paroligi ion aŭ mortinton kiel personon), arogant·ec·o, fier·ec·o (laŭ la senco uzata en kelkaj landoj)

pruo pru·o → ŝip·kap·o, ŝip·antaŭ·o

pseŭdo- pseŭdo· [zam] → ŝajn·, kvazaŭ·, mensog·a/e, mal·ver·a/e

pseŭdoafikso pseŭdoafiks·o [zam+1oa]] → ŝajn·afiks·o

pseŭdonimo pseŭdonim·o [2oa] ~ kaŝ·nom·o, plum·nom·o

ptarmiko ptarmik·o → tern·ig·a herb·o

pubera puber·a ~ seks·matur·a

pubio pubi·o → pub·ost·o pubiotomi-o
pubiotomi·o → tranĉ·o de la pub·ost·o

puĉo puĉ·o → ŝtat·renvers·o

pudendo pudend·o → intim·a part·o, privat·a·j part·o·j, sekret·a part·o, pub·region·o; (rilate al la 'pudenda nervo') pub·anus·a nerv·o

pudingo puding·o [1oa] (en la senco de mola deserto kies ĉefa ingredienco estas lakto) → flaŭn·o

pugo pug·o ~ post·aĵ·o, sid·vang·o·j

pulardo pulard·o → dik·ig·it·a kok·in·o (manĝebla dum festotagoj, tipa en Francujo)

pulko pulk·o ~ agav·vin·o

pullo pull·o → (akv·o-)rezerv·ej·o (vidu ankaŭ ĉe "poŭlo")

pulovero pulover·o → pulovr·o

pululi pulul·i → svarm·i, mult·iĝ·i

punika punik·a (lingvo aŭ simple kiel adjektivo) → kart·ag·a

puniko punik·o (loĝanto de Kartago) → kartag·an·o

punkcii punkci·i → el·tir·i (likv·aĵ·o·n) (ankaŭ en kuraca senco)

punkturo punktur·o → pik·o (de la haŭto por kuracaj celoj)

puntilio puntili·o → kapric·o, insist·o pro honor·o

pupo pup·o (stadio de insekto dum la vivo) --> krizalid·o [zam] (ne nur por papilioj sed por ĉiuj insektoj) 

pureo pure·o ~ kaĉ·o

purpura purpur·a [fun] ~ viol·kolor·a

putino putin·o → prostitu·it·in·o, ĉies·ul·in·o

puzlo puzlo → kun·met·enigm·o

rabbi rabbi → raben·o

rabdismo rabd·ism·o → verg·o·diven·ad·o

rabdisto rabd·ist·o → verg·o·diven·ist·o

rabdo rabd·o → diven·verg·o

rabdomancio rabdomanci·o → verg·o·diven·ad·o

racionala racional·a (en ĝenerala senco) → raci·a

racionalismo racional·ism·o [2oa] → raci·ism·o

racionalo racional·o → frakci·a, kvocient·a, rilat·a nombro

radiatoro radiator·o [8oa] (por hejtado) ~ hejt·il·o
radiator·o [8oa] (uzata por malhelpi, ke motoro aŭ io alia trovarmiĝu) ~ mal·varm·ig·il·o

radikalo radikal·o (en gramatiko) → radik·aĵ·o, vort·o·baz·o; (pri ĉina skribo 部首) fak·indik·aĵ·o, klar·ig·il·o

radiklo radikl·o → nerv·radik·o

radiofono radiofon·o → radi·o·ricev·il·o

radiofoni-o radiofoni·o → radi·o·send·ad·o

radiografi radiograf·i [9oa] ~ radi·o·bild·ig·i

radiologo radiolog·o → radi·kurac·ist·o

radiologio radiologi·o → radi·kurac·ad·o

radioskopio radioskopi·o → per·radi·a esplor·ad·o

radioterapio radi·o·terapi·o → radi·ad·o·kurac·ad·o

radiuso radiuso (en la homa korpo) → antaŭ·brak·ost·o

raguo ragu·o → (laŭ la kunteksto) stuf·aĵ·o; saŭc·o

raĝo raĝ·o ~ hind·a reĝ·o

rajpi rajp·i → frot·fiks·iĝ·i

raĵao raĵa·o ~ hind·a reĝ·o

rakedo raked·o (sporto) [9oa] → bat·il·o, tenis·bat·il·o

rako rak·o → (en la okazo de bestmanĝujo) best·manĝ·uj·o; (en aliaj kuntekstoj) pakaĵ-tenilo, bombo-tenilo, ktp.

ramo ram·o → mur·romp·a trab·o, romp·o·trab·o

ramplo rampl·o → dekliv·aĵ·o, dekliv·a voj·o, dekliv·a tabul·o, en/el·ir·a voj·o

ramuro ramur·o → (cerv·a·j) (branĉ·)korn·o·j, (cerv·a) korn·o·branĉ·ar·o

rangifero rangifer·o ~ nord·a cerv·o

rankoro rankor·o → ne·pardon·em·o, venĝo·dezir·o, mal·am·o

rankuno rankun·o → ne·pardon·em·o, venĝo·dezir·o, mal·am·o

raporto raport·o (en la senco de proporcio) → proporci·o, rilat·um·o

rara rar·a → mal·oft·a, alt·valor·a (pro mal·oft·ec·o)

raslo rasl·o → spir·bru·o

rastro rastr·o → fos·il·o, pioĉ·o.

ratifi ratif·i → (leĝ·e) konfirm·i ratifiki
ratif·i → (leĝ·e) konfirm·i

ratio rati·o → proporci·o, rilat·um·o

raŭfo raŭf·o → (por·best·a) manĝ·uj·o

raŭndo raŭnd·o ~ faz·o, stadi·o, rond·um·o, er-o, vic·o, ŝtup·o

raŭndejo raŭnd·ej·o → aren·o

raŭto raŭt·o → voj·plan·o, voj·o

ravino ravin·o → abism·o

razeno razen·o ~ herb·o·tapiŝ·o, herb·et·ej·o, herb·o·bed·o

razio razi·o → rab·atak·o, rab·kapt·ad·o, pri·rab·ad·o; (pri polica agado) amas·arest·ad·o

reakcio reakci·o [3oa] → (en ĝenerala, nepolitika senco) re·ag·o

rebo reb·o → vin·ber·trunk·o

recidivo recidiv·o → re·mal·san·o, re·krim·o (depende de la kunteskto medicina aŭ jura)
recidivulo
recidiv·ul·o → re·mal·san·ul·o, re·krim·ul·o (depende de la kunteskto medicina aŭ jura)

recitalo recitalo ~ (unu·person·a) koncert·o, unu·person·a prezent·ad·o

reciti recit·i [zam] → deklami

redakcio redakci·o [fun] ~ redakt·ej·o, redakt·ist·ar·o, redakt·aĵ·o, redakt·versi·o

redaktoro redaktor·o [fun] ~ redakt·ist·o, redakt·ant·o

redempti redempt·i → sav·i, el·aĉet·i

Redemptoro Redemptor·o → Sav·int·o, el·aĉet·int·o

redundo redund·o (en lingvistiko kaj en aliaj sciencoj) → super·sufiĉ·o, ripet·ec·o, (inform·)abund·o, balast·ec·o

redundanco redundanc·o (en lingvistiko kaj en aliaj sciencoj) → super·sufiĉ·o, ripet·ec·o, (inform·)abund·o, balast·ec·o

reduto redut·o [zam] → fortik·aĵ·et·o

reelo reel·o → real·a nombr·o

refektorio refektori·o → (monaĥ·ej·a) manĝ·ej·o

referato referat·o [zam] → (scienc·a) raport·o, (stud·)raport·o

referendumo referendum·o → popol·konsult·o, popol·voĉ·don·o

refleksio refleksi·o → pri·pens·o

reflekti reflekt·i [8oa] ~ spegul·i, re·ĵet·i, re·send·i, re·bril·i, re·radi·i reflektoro
reflektor·o [zam] --> (ĝenerale) reflekt·il·o; (astronomia ilo) spegul·a teleskop·o

reformacio reformaci·o → (protest·ant·a) re·form·o

reformatoro reformator·o → re·form·ant·o, re·form·ul·o, re·form·ism·an·o

refraktara refraktar·a → fajr·el·ten·a, fajr·o·rezist·a, fajr·imun·a

refraktometro refraktometr·o ~ refrakt·o·mezur·il·o

refraktoro refraktor·o → (ĝenerale) refrakt·il·o; (astronomia ilo) lens·a teleskop·o

refreno refren·o → re·kant·aĵ·o

regardi regard·i → rigard·i (plej ofte simpla eraro), alt·e estim·i (foje)

regatto regatt·o [zam] → boat·konkurs·o, boat·fest·o

regeneracio regeneraci·o [zam] → re·gener·ad·o

regento regent·o [4oa] ~ (provizor·a) reg·ant·o

regio regi·o [zam] → (publik·a) administr·ad·o/mastr·um·ad·o, (publik·a) kompani·o

reglamenti reglament·i [zam] → regul·ig·i

reglamento reglament·o [zam] → regul·ar·o

regulatoro regulator·o [zam] → regul·ig·il·o

rehabiliti re(·)habilit·i → (en medicina senco) re·kapabl·ig·i, re·adapt·i; (en jura aŭ ĝenerala signifo) re·honor·i

rejŝo rejŝ·o → proporci·o

rekcio rekci·o (en lingvistiko) → reg·(ad)·o

reklamacio reklamaci·o → plend·o
reklamacii
reklamaci·i → plend·i

rekogneski rekognesk·i (en armea/milita signifo) → esplor·i

rekognoski rekognosk·i (en armea/milita signifo) → esplor·i

rekomendita rekomend·it·a (letero) → registr·it·a

rektifi rektif·i [zam] → (ĥemie, mekanike) ĝust·ig·i, (elektre) sam·direkt·i, (geometrie) rekt·ig·i

rektifiki rektifik·i → (ĥemie, mekanike) ĝust·ig·i, (elektre) sam·direkt·i, (geometrie) rekt·ig·i

rektumo rektum·o → rekt·a intest·o

rekuperi rekuper·i → re·akir·i

rekvizito rekvizit·o [zam] → (en teatro) scen·ej·a il·ar·o, bezon·at·aĵ·o·j; (en ĝenerala senco laŭ iuj lingvoj) ec·o, bezon·at·a ec·o. 

relajso relajs·o ~ plu·send·il·o, ŝalt·il·o

reluktanco reluktanc·o ~ (komunlingve) magnet·a rezist·ad·o

remanenco remanenc·o ~ (komunlingve) rest·ant·a magnet·ec·o

remburse remburs·e → re·pag·e

remio remi·o (en sporto) → egal·a rezult·o, nenies gajn·o remiso
remis·o (en sporto) → egal·a rezult·o, nenies gajn·o remisa
remis·a (en sporto) → egal·a, sen·venk·a, sen·rezult·a, sen-decid-a, sen-venk-a

remito remit·o → (en medicino) mal·pli·iĝ·o

remorki remork·i → tren·i remorko
remork·o → post·vetur·il·o, tren·vetur·il·o, post·ĉar·o, tren·ĉar·o

remtero remter·o → (monaĥ·ej·a) manĝ·ej·o

rendimenta rendiment·a → (parolante pri maŝino) efik·a, alt·efik·ec·a; (parolante pri la kvociento inter efikoj kaj kostoj de iu politika aŭ financa aranĝo) (kost-)efik·a
rendimento
rendiment·o → (parolante pri maŝino) efik·ec·o; (parolante pri la profito akirita per kapitalo) (kapital·)profit·o; (parolante pri la kvociento inter efikoj kaj kostoj de iu politika aŭ financa aranĝo) (kost-)efik·ec·o

renegato renegat·o ~ kred·o·rifuz·ant·o (pri religio), trans·pas·ant·o al ali·a parti·o (en politiko)

rentabilitato rentabilitat·o → profit·kapabl·o, profit·don·o

renoma renom·a → (bon-)fam·a; kun bon·a reputaci·o renomo
renom·o → fam·o, dis·kon·at·ec·o; (bon·a) reputaci·o

renonci renonc·i → rezign·i

reologio reologi·o → flu·ad·o·scienc·o

reparacio reparaci·o → ŝuld·o·pag·o, kompens·o·pag·o, milit·kompens·o

repelenzo repelenz·o → mal·al·log·il·o

repetitoro repetitor·o → instru·ripet·ist·o, privat·a instru·ist·o

repliki replik·i → respond·i

reportaĵo reportaĵ·o → raport·aĵ·o

reportero reporter·o [zam] → raport·ist·o

reporteraĵo
reporter·aĵ·o → raport·aĵ·o

repudii repudi·i → for·send·i, eks·edz·(in·)ig·i, for·ig·i, eks·ig·i

resilienco resilienc·o → (pri materialoj) elast·ec·o, rezist·kapabl·o; (psiĥologie) reag·kapabl·o

resolucio resoluci·o (kiam temas pribildoj) → detal·ec·o, disting·o·pov·o, bild·er·dens·ec·o

resoluta resolut·a → decid·int·a, firm·a, cert·a

resonanco resonanc·o → kun·vibr·ad·o, son·ampleks·ig·o

respektive respektiv·e (en la senco de "aŭ" aŭ "kaj") → aŭ, kaj (laŭ la kunteksto)

responsi respons·i → respond·ec·i, respond·um·i

responsulo respons·ul·o → respond·ec·ul·o

restaŭri restaŭr·i → (en la senco: 'zorgi por ke artverko reakiru la originan formon') re·nov·ig·i, re·bon·ig·i, ripar·i; (en la senco: 'remeti sur la tronon reĝan dinastion') re·star·ig·i, re·en·konduk·i

restitui restitu·i → re·don·i

restrikti restrikt·i → lim·ig·i mal·vast·ig·i

resurco resurc·o → rimed·o, riĉ·o·font·o, natur·riĉ·aĵ·o

resurekti resurekt·i → re·viv·iĝ·i, re·lev·iĝ·i

resurso resurs·o → rimed·o, riĉ·o·font·o, natur·riĉ·aĵ·o

retablo retabl·o (faka vorto, religia) ~ (en·ĉiz·it·a) altar·bild·o,

retikulo retikul·o → man·sak(-et-)o

retrati retrat·i → re·pren·i (mon·o·n el bank·o)

retreto retret·o → malantaŭen·ir·o

retro- retro- → re·e·n, mal·antaŭ·e·n, dors·o·direkt·e, re-e

retrokuplado retro·kupl·ad·o → re·korekt·o

retrospekte retrospekt·e → re·rigard·e

revanĉo revanĉ·o → (en sporta senco) venĝ·o·lud·o, (en ĝenerala senco en aliaj kampoj) venĝ·o
revanĉismo
revanĉ·ism·o (en politika senco) → (re·)venĝ·ism·o

reverso revers·o → dors·flank·o

revuo revuo [2oa] ~ (fak-/ese-/kritik-/semajn-)gazet·o

reziduo rezidu·o → rest·aĵ·o

rezisti rezist·i [4oa] ~ kontraŭ·star·i

rezistanco rezistanc·o (pri elektro) → rezist·o·kvant·o, rezist·il·o (en elektraj cirkvitoj)

rezoluta rezolut·a → firm·a, decid·int·a, cert·a

rezultato rezultat·o [fun] ~ rezult·o

ri ri → ŝi aŭ li, ŝi·li, ĝi

riceli ricel·i → kaŝ·i ŝtel·aĵ·on

ricelisto ricel·ist·o → ŝtel·aĵ·o·kaŝ·ist·o, fi·aĉet·ist·o

rifo rif·o (en muziko) → ripet·fraz·o

rikoĉeti rikoĉet·i → re·salt·i

rikordo rikord·o → registr·aĵ·o

rilaksi rilaks·i (en la senco trankviliĝi) → sen·streĉ·iĝ·i, mal·streĉ·iĝ·i

rilativo rilativ·o (gramatiko) → k·tabel·vort·o

rimorso rimors·o → konscienc·riproĉ·o

ringo ring·o (en boksado) → boks·ej·o, boks·a podi·o, pugn·o·batal·a podi·o

rino- rino- (en scienco) → naz·o

rinito rinit·o → naz·katar·o, naz·mukoz·inflam·o, naz·inflam·o

rinologio rinologi·o → naz·studo

rinoplastio rinoplasti·o → naz·operaci·o

rinoskopio rinoskopi·o → naz·esplor·ad·o

riporti riporti → raport·i (en gazetoj, televido, ktp.)

riposti riposti → re·bat·i

risurco risurc·o → rimed·o

ritmenbluso ritmenblus·o (en muziko) → ritm·o kaj blus·o

ritualo ritual·o → rit·o, rit·ar·o

rivali rival·i → (person·e/grup·e) konkur·i

riveli rivel·i [8oa] → aper·ig·i, mal·kaŝ·i, mal·kovr·i

rivolui rivolu·i [8oa] ~ ĉirkaŭ·ir·i

rizorio rizori·o → rid·muskol·o

rizoto rizot·o → (ital·a) riz·aĵ·o

robbo robb·o → du·on·solid·a frukt·o·suk·o

rodi rod·i → ronĝ·i

rojo roj·o → river·et·o

rojalismo rojalism·o [zam] → reĝ·ism·o rojalisto
rojalist·o [1oa] ~ reĝ·ist·o, reĝ·ism·an·o

roko rok·o (muzik-speco) ~ rokenrol·o

romancero romancer·o → romanc·aro

romantismo romantism·o → romantik·ism·o

rondaŭo rondaŭ·o → rond·poem·o

rori ror·i → leon·e blek·i

rosino rosino → sek·vin·ber·o, sek·a vin·ber·o

roto roto [fun] ~ taĉment·o

rotao rota·o → Rota·o (nomo), pap·a juĝ·ej·o

rotacii rotaci·i [90a] ~ turn·iĝ·i

rotatoro rotator·o → rotaci·a aĵ·o, rotaci·a muskol·o

rotoro rotor·o → (en la senco de helico) (vertikal·a) helic·o, lev··helico; (en la senco de turniĝanta stango) aks·o; (en la senco de turnebla kerno de dinamomaŝino aŭ elektromotoro) rotaci·kern·o, turn·iĝ·kern·o

roverso rovers·o ~ re·fald·o, mal·antaŭ·o, mal·antaŭ·a flank·o

rubriko rubriko [fun] ~ titol( et )o, artikolo, kolono

rui ru·i → tremp·i

rufa ruf·a → ruĝ·e flav·a, ruĝ·flav·a

rufo ruf·o → ferdek·a dom·o

ruĵo ruĵo → lip·o·ŝmink·o, lip·ruĝ·o

rukuli rukul·i → kolombe bleki/kanti, kolomb·um·i

rulsketiloj rulsketil·o·j ~ rul·ŝu·o·j

rumoro rumor·o → bru·o

rumsteko rumstek·o → dors·a bov·tranĉ·aĵ·o

rundo rund·o (en la kazo de armea aŭ polica patrolo) → patrol·rond·ir·o
rund·o (en la kazo de politika voĉdonado) → balot·ad·o

rungo rung·o → stang·o·ŝtup·o

rura rur·a → kamp·ar·a, mal·urb·a ruro
rur·o → kamp·ar·o

rustika rustik·a → kamp·ar·a, kamp·ar·ec·a, mal·urb·a 

sa sa (en la senco de 'saluton!') → salut·o·n!

sabeliko sabelik·o ~ krisp·a foli·brasik·o

saboti sabot·i ~ intenc·e difekt·i, sub·fos·i

sacerdoto sacerdot·o [4oa] → pastr·o [fun]

sadhuo sadhu·o → sadu·o

safena safen·a ~ krur·vejn·a

sagitario sagitari·o → ark·paf·ist·o

sakeo sake·o ~ riz·vin·o

sakra sakr·a (en la senco de 'sankta) → sankt·a

sakri sakr·i → blasfem·i

sakrala sakral·a → sankt·a, mal·profan·a

sakrilegia sakrilegi·a [zam] → mal·respekt·a (pri religiaj aferoj)

sal sal (en la senco de 'saluton!') → salut·o·n!

salamo salam·o ~ spic·kolbas·o, sek·a kolbas·o (laŭbezone kun aldona specifiga vorto, ekzemple "hungara spickolbaso")

Saloniko Salonik·o → Tesalonik·o

salpingo salping·o → uter·a tub·o

salpingito salpingit·o → uter·tub·a inflam·o

salsa salsa (en la senco de 'saluton!') → salut·o·n!

saltiero saltier·o → (long·a) kol·ĉen·o

salubra salubr·a → san·ig·a, san·a, san·favor·a, ne·mal·san·ig·a

salveto salvet·o → buŝ·tuk·o, saliv·tuk·o

samplo sampl·o → (statistik·a) el·pren·aĵ·o

Samsono Samson·o ~ Ŝimŝon·o

sangadulto sang·adult·o [malnova esprimo] ~ (en-)famili·a seks·um·ad·o, (en-)familia mal·ĉast·aĵ·o

sango malvarma sang·o mal·varm·a (en la esprimo 'kun malvarma sango') ~ mem·reg·o (la antaŭa esprimo iĝas 'mem-reg-e')

sanatorio sanatori·o ~ san·iĝ·ej·o

sangvina sangvin·a → gaj·humor·a (laŭ unu kompreno de la vorto); fajr·a, ard·a, impet·a (laŭ alia kompreno de la vorto)

sangvino sangvin·o → ruĝ·krajon·a desegn·aĵ·o

sanitara sanitar·a [zam] → pri·san·a

sankcio sankci·o [fun] (en la senco de malpermeso, puno) → mal·permes·o, pun·o;(en la senco de aprobo) aprob·o

sanskrito sanskrit·o [zam] → la sanskrit·a lingv·o

sapeo sape·o → sub·fos·aĵ·o

sapero saper·o → fos·soldat·o

saporo sapor·o → gust·o, krom·gust·o

sarmento sarment·o → vin·ber·branĉ·o

satisfakcio satisfakci·o → kontent·o, (pri dueloj) ebl·o duel·i, (en religio) kompens·o pro pek·o·j

saturnalioj saturnali·o·j → saturn·a(·j) fest·o(·j)

saŭdado saŭdad·o → nostalgi·o, hejm·sopir·o

saŭno saŭn·o ~ ŝvit·ban·ej·o

saŭrkraŭto saŭrkraŭt·o → acid·a brasik·o

savi sav·i (en komputado) → konserv·i

sbiro sbir·o → fi·polic·ist·o, polic·ist·aĉ·o

scintili scintil·i → trem·bril·i, bril·flagr·i

seanco seanc·o [zam] → kun·sid·o

secesio secesi·o → (en internacia juro) dis·iĝ·o, apart·iĝ·o; (arta stilo de la komenco de la 20-a jarcento) ~ nov·art·o. Vidu Ssv plio 14.

sedativa sedativ·a → trankvil·ig·a

sedativo sedativ·o → trankvil·ig·il·o

sefo sef·o → sekur·ŝrank·o

seismo seism·o → ter·trem·o

seismografo seismograf·o → ter·trem·registr·il·o

seismogramo seismogram·o → ter·trem·registr·aĵ·o

seismologo seismolog·o → ter·trem·o·scienc·ist·o, ter·trem·fak·ul·o

seismologio seismologi·o → ter·trem·o·scienc·o

sejmo sejm·o (pola parlamento) → (pol·a) parlament·o

sejno sejn·o → (akv·o·mez·a) tren·ret·o, tir·ret·o

sekretariato sekretariat·o → sekretari·ej·o, sekretari·ar·o

seksto sekst·o (en muziko) ~ ses·a interval·o, sest·o. Vidu ssv plio 9

sekulara sekular·a → ne·religi·a, civitan·a

sekularizi sekulariz·i [zam] → ig·i ne·religi·a

sekundo sekund·o (en muziko) ~ du·a (interval·o), dut·o. Vidu ssv plio 9

sekundara sekundar·a → du·a·rang·a

selekti selekt·i → elekt·i, apart·ig·i; (pri bestobredado) bred·elekt·i, elekt·o·bred·i

selektiva selekt·iv·a → dis·ig·kapabl·a

semaforo semafor·o [2oa] ~ trafik·lum·o

semantiko semantik·o → signifo·scienco

semestro semestr·o → ses monat·o·j, ses·monat·a period·o, du·on·jar·o, jar·du·on·o; (pro influo de naciaj lingvoj, foje la intencata signifo povas esti alia, kaj tiam oni devas traduki laŭ la efektiva signifo)

semi- semi- → du·on-

semido semid·o [zam] ~ ŝem·id·o

semito semit·o ~ ŝem·id·o

semolo semol·o → (tritik·farun·a) gri·et·o

sencumo senc·um·o (en matematika senco) → direkt·um·o

senila senil·a → kaduk·a

senjoro senjor·o → sinjor·o, mal·jun·a sinjor·o

sensaco sensac·o → re·ag·o, sent·um·ad·o

sensiva sensiv·a → sent·em·a

sensivo sensiv·o → sent·kapabl·o

senso sens·o [8oa] ~ sent·il·o, sent·um·o

sensora sensor·a → sent·a, percept·a

sensorio sensori·o → sent·il·centr·o

sensualismo sensual·ism·o → sent·ism·o

sentinelo sentinel·o → gard·ant·o, gard·o·star·ant·o

sentenco sentenc·o [fun] → (en la senco de 'frazo') fraz·o

separeo separe·o → apart·ej·o

separi separ·i → dis·ig·i separismo
separ·ism·o --> sen·depend·ism·o, (naci·ism·a) apart·iĝ·em·o separatismo
separatism·o --> sen·depend·ism·o, (naci·ism·a) apart·iĝ·em·o

sepsa seps·a → infekt·a, putr·ig·a

sepsemio sepsemi·o → sang·o·venen·iĝ·o

sepso seps·o → infekt·(iĝ·)o, putr·iĝ·o

septembro septembr·o ~ la 9·a monat·o

septimo septim·o ~ sep·a interval·o, sept·o. Vidu ssv plio 9.

septo sept·o ~ mal·dik·a vand·et·o

serendipo serendip·o → (kapabl·o je) hazard·a mal·kovr·o, (kapabl·o je) hazard·a trov·o

seroterapio seroterapi·o → ser·o·kurac·ad·o

serpo serp·o → falĉ·il·et·o, rikolt·il·o; hak·tranĉ·il·o

servico servic·o [fun] ~ teler·ar·o, manĝ·il·ar·o

servila servil·a → tro·serv·em·a, serv·em·eg·a, humil·aĉ·a

serviro servir·o (en sporto) → komenc·a bat·o, al·serv·o, prezent·o

seto set·o (en tenis-ludado) → lud·ar·o, seri·o, lud·seri·o

setli setl·i → ek·loĝ·i, fiks·loĝ·i, en·loĝ·iĝ·i, loĝ·establiĝ·i, koloni·i

siesto siest·o ~ tag·dorm·(et·)o, dum·tag·a dorm·(et·)o, (post·)tag·mez·a dorm·(et·)o

siglo sigl·o → nom·mal·long·ig·o

signaturo signatur·o → sub·skrib·o, nom·sign·o, fald·o·mark·o

sikulo sikul·o (malplimulto en Rumanujo) → sekel·o

silvestra silvestr·a ~ jar·fin·a Silvestro
Silvestr·o ~ jar·fin·o, jar·fin·a fest·o, jar·fin·a nokto

simpatii simpati·i [1oa] ~ (en la senco de kunsento) kun·senti

simpozio simpozi·o → (alt·nivel·a) diskut·forum·o, fak·ul·a kun·ven·o

simultana simultan·a → sam·temp·a

sinagogo sinagog·o ~ (hebre·a) preĝ·ej·o. Vidu ssv plio 11.

sindromo sindrom·o → simptom·ar·o

sinestezio sinestezi·o ~ sent·um·lig·iĝ·o, kun·sent·um·ad·o, (en literaturo) du·sent·um·a esprim·o, du·sent·um-(aĵ-)o

singularo singular·o [8oa] ~ unu·nombr·o

sinistra sinistr·a → mal·bon·aŭgur·a, tim·ind·a

sinistro sinistr·o (en juro kaj asekuro) → akcident·o

sinki sink·i → sub·akv·iĝ·i, al·fund·i, al·fund·iĝ·i, dron·i, mal·lev·iĝ·i, en·fal·i, pere·i (en la okazo de ŝipo)

sinkrona sinkron·a (en lingvo-scienco kaj ĝenerale) → unu·temp·a, sam·temp·a

sinonimo sinonimo [1oa] ~ sam·signif·vort·o

sintagmo sintagm·o → fraz·er·o

sintonizi sintoniz·i → agord·i (si·a·n aparat·o·n laŭ), en·ŝalt·i (en...)

sinuo sinu·o → serpent·um·o, kurb·o, serpent·um·a kurb·o

sinusito sinusit·o ~ vango·kavo·inflam·o ?????

sinusoida sinusoid·a → sinus·form·a

sinusoido sinusoid·o → sinus·form·a kurb·o

siro sir·o → (reĝ·a) moŝt·o

sismo sism·o → ter·trem·o

sismografo sismograf·o → ter·trem·registr·il·o

sismogramo sismogram·o → ter·trem·registr·aĵ·o

sismologo sismolog·o → ter·trem·o·scienc·ist·o, ter·trem·fak·ul·o

sismologio sismologi·o → ter·trem·o·scienc·o

sisopo sisop·o → sistem·estr·o, (sistem·a) administr·ant·o

sito sit·o → lok·o, ej·o, loĝ·lok·o, ret·ej·o

sitkomo sitkom·o → komedi·o, situaci·a komedi·o, televid·a komedi·o

skabelo skabelo → pied·ripoz·il·o, pied·seĝ·o, pied·apog·il·o

skafaldo skafald·o ~ konstru·trab·ar·o

skalpo skalp·o → kap·haŭt·o

skeleto skelet·o [1oa] ~ (hom·a) ost·ar·o

sketejo sket·ej·o → glit·kur·ej·o

sketi sket·i → glit·kur·i

sketilo sket·il·o → glit·il·o, glit·kur·il·o, glit·ŝu·o

skettabulo sket·tabul·o → glit·tabul·o, rul·tabul·o

skipo skipo → teamo, taĉmento, op·o

skoldi skold·i → riproĉ·i, mal·laŭd-(eg)-i

skolopendro skolopendr·o [zam] ~ (ne en faka uzado) cent·pied·ul·o

skopofilio skopofili·o → (seks-)rigard·ism·o

skoriisto skori·ist·o (en la senco de homo, kiu konkursas per motorbiciklo sur aparta vojo) → konkurs·voj·ist·o

skotero skoter·o → motor·cikl·et·o

skovelo skovel·o → cilindr·a bros·o

skrapgumo skrap·gum·o [fun] ~ viŝ·gum·o

skrutinio skrutini·o → kontrol·o de voĉ·don·a·j rezult·o·j

skualo skual·o → ek·vent·eg·o, subit·a vent·eg·o

skulpturo skulptur·o → (laŭ la signifoj en la unuopaj kuntekstoj) skulpt·aĵ·o; skulpt·art·o; skulpt·ad·o

skuti skut·i ~ paŝ·rul·i

skutilo skut·il·o ~ paŝ·rul·il·o

skvaro skvar·o → plac·o, ĝarden·plac·o, plac·et·o, plac·ĝarden·et·o

skvaŝo skvaŝ·o → mur·tenis·o

slabo slab·o → (marmor·a/ŝton·a/beton·a) plat·o/tabul·o

slajdo slajd·o → lum·bild·o

slamo slam·o → kvartal·aĉ·o, lad·vilaĝ·o

slango slang·o [zam] → (en la senco de ĵargono, socia dialekto) ĵargon·o [1oa], soci·a dialekt·o; (en la senco de faklingv(aĵ)o) fak·lingv·(aĵ·)o. Vidu Ssv plio 16

slavono slavon·o → la slavon·a lingv·o

slogano slogan·o → frap·fraz·o

slumo slum·o → kvartal·aĉ·o, lad·vilaĝ·o

smajlo smajl·o → rid·et·o

smartfono smartfon·o → telefon·o, poŝ·telefon·o

SMS SMS → (telefon·a) mesaĝ·(et·)o, poŝ·mesaĝ·o, et·mesaĝ·o

snejlo snejl·o → helik·o

snajpero snajper·o → kaŝ·paf·ist·o, cel·paf·ist·o

snoba snob·a → super·ec·a, klas·konsci·a

snufi snuf·i → en·spir·i, en·naz·i

sob sob → mal·supr·e·n, sub·e·n

socilingvistiko soci·lingvistik·o → soci·lingv·o·scienc·o

sociologo sociolog·o [3oa] ~ soci·scienc·ist·o

sociologio sociologi·o [1oa] ~ soci·scienc·o

sodomii sodomi·i → anus·e seks·um·i

sofistikita sofistikit·a → rafin·it·a, teĥnik·e kompleks·a, mal·naiv·a, el·labor·it·a

softa soft·a → mal·laŭt·a

softvaro softvar·o → program·(ar·)o

soko sok·o ~ plug·il·trab·o

solecismo solecism·o [2oa] ~ (lingv·a) erar·o

solicitoro solicitor·o → jur·a prokur·ist·o, advokat·asist·ant·o

solstico solstic·o → sun·halt·o, sun·ekstrem·o, sun·turn·iĝ·o

solventa solvent·a [4oa] ~ pag·o·kapabl·a, pag·o·pov·a

somato somat·o (en sciencaj, medicinaj vortoj) → korp·o

sombra sombr·a → mal·lum·et·a, mal·hel·a, mal·gaj·a

somiero somier·o → matrac·ing·o, matrac·ten·il·o

somnolo somnol·o → dorm·em·o, duon·dorm·o

somoso somos·o (elparolo de SMS) → (telefon·a) mesaĝ·(et·)o, poŝ·mesaĝ·o, et·mesaĝ·o

sor sor → supre·n

sori sor·i → supre·n·ir·i, lev·iĝ·i

sordida sordid·a → mal·pur·a, aĉ·a

spaciala spacial·a → spac·a, kosm·a

spagato spagat·o → dis·krur·ad·o(gimnastiko)

spajro spajr·o → tur·pint·o (de preĝ·ej·o)

spamo spam·o → (ret·a) trud·mesaĝ·o spami
spam·i → (ret·e) trud·mesaĝ·i spamisto
spam·ist·o → (ret·a) trud·mesaĝ·ist·o

spano span·o → (baza mezur-unuo) man·larĝ·o; (parolante pri konstruaĵo) apog·distanc·o; (ĝenerale) larĝ·o, ampleks·o

sparadrapo sparadrap·o → plastr·o

sparko spark·o → (elektr·a) fajr·er·o

specialisto special·ist·o [fun] ~ fak·ul·o

specio speci·o → (best·a aŭ kreskaĵa) spec·o

spektatoro spektator·o → spekt·ant·o

spekulacio spekulaci·o [3oa] ~ spekul·ad·o

spekulacii spekulaci·i (en la senco de provi diveni) → prov·i diven·i

speleologio speleologi·o → kavern·o·scienc·o speleologo
speleolog·o → kavern·o·scienc·ist·o

spermato- spermato- (en sciencaj vortoj) → sperm(·o)-

spiranto spirant·o → frot·a son·o, frot·a konsonant·o

spirituala spiritual·a ~ spirit·a, spirit·ec·a
spiritualismo
spiritualism·o ~ spirit·em·ism·o, spirit·ec·ism·o

spoko spok·o → (rad·)radi·o

sponsoro sponsor·o ~ patron·o, kun·financ·ant·o, financ·a sub·ten·ant·o

spontana spontan·a ~ natur·a, natur·e nask·it·a, natur·e aper·a, mem·nask·a, mem- aper·a

spontanea spontane·a [3oa] ~ spontan·a

sportiva sportiv·a (en la senco de "havanta la bonajn kvalitojn de sporto")→ sport·a, sport·ec·a, lojal·a

spraji spraj·i → ŝpruc·ig·i

sprinti sprint·i → ek·kur·i

sproso spros·o → ĝerm·o, burĝon·o, ĝerm·o·plant·o, plant·id·o

staĝo staĝ·o ~ kurs·o, kurs·et·o, trejn·labor·o

stako stak·o → amas·o (malsamspecaj objektoj), kolumn·o (samspecaj aferoj unu sur la alia), ar·o

stalono stalon·o → vir·ĉeval·o

stamfi stamf·i ~ pied·bat·i koler·e, pied·prem·i

stamo stam·o (en lingvistiko) → radik·o

stanco stanc·o → (en la signifo de "strofo") strof·o (la vorto "stanco" nur estu uzata kiel fakesprimo por certa italdevena speco de versaĵoj kun rimskemo abababcc); (en palaco) (ornam·it·a) ĉambr·eg·o

stando stand·o → bud·o, inform·bud·o, ekspozici·a bud·o

standarda standard·a (en la senco de 'norma') → norm·a standardo
standard·o (en la senco de 'normo') → norm·o standarta
standart·a (en la senco de 'norma') → norm·a standarto
standard&midott;o (en la senco de 'normo') → norm·o

-stan- -stan- (en la okazo de centr-aziaj landoj) → -land-, -uj-

stapedo staped·o → pied·ing·ost·o

staplo stapl·o [zam] ~ stok·ej·o

starosto starost·o → (pol·a) provinc·estr·o

starti start·i [8oa] ~ ek·i, ek·ir·i, ek·funkci·i

stas st·as → est·as

statiko statik·o [zam] ~ ekvilibr·o·scienc·o

statisto statist·o [zam] → figur·ant·o, et·rol·ant·o

stativo stativ·o → star·ig·il·o

staturo statur·o [1oa] ~ (hom·a) alt·ec·o

statuso status·o → leĝ·a stat·o

steĥiometrio steĥiometri·o → ĥemi·a kalkul·ad·o

steko stek·o → viand·o·tranĉ·aĵ·o

stekiometrio stekiometri·o → steĥiometri·o, ĥemi·a kalkul·ad·o

stenografio stenografi·o [3oa] → stenograf·ad·o, stenograf·sign·ar·o, stenograf·art·o (laŭ la kunteksto)

stereotipo stereotip·o [zam] ~ kliŝ·o, ŝablon·o, kliŝ·ŝablon·o, ŝablon·kliŝ·o, ĝeneral·aĵ·o, mal·orginal·aĵ·o

sterila steril·a ~ sen·frukt·a, sen·nask·a, sen·ĝerm·a

sternumo sternum·o ~ brust·ost'o

stevardo stevard·o ~ dum·fluga help·ist·o, dum·fluga help·ant·o, pasaĝer·pri·zorg·ant·o, aviadil·a help·ant·o

stif- stif- → vic-, duon-, eduk-

stilistiko stilistik·o [zam] → stil·scienc·o

stilzoj = altiriloj stilz·o·j ~ alt·ir·il·o·j

stinka stink·a → fi·odor·a, odor·aĉ·a, mal·bon·odor·a, haladz·a
stinki
stink·i → fi·odor·i, odor·aĉ·i, mal·bon·odor·i

stomato stomat·o → buŝ·o

stomatologo stomatolog·o → dent·ist·o, dent·kurac·ist·o, buŝ·kurac·ist·o

stompo stomp·o → mal·dens·ig·il·o de lini·o·j

stop! stop! → halt·u (ekkrio), punkt·o (en telegramoj)

stopi stop·i → halt·ig·i

stori stor·i (en komputiloj) → konserv·i

stovo stov·o → varm·ig·il·o, varm·ig·forn·o, hejt·il·o

strando strand·o ~ (sabl·a) (mar·)bord·o, ban·bord·o, mar·bord·a ban·ej·o, sun(-um)-bord·o, turism·a bord·o. Vidu Ssv plio 5.

strangoli strangol·i [9oa] ~ sufok·prem·i, sufok·i

straso stras·o → ŝajn·a juvel·o

stratumo stratum·o → tavol·o

strejzelo strejzel·o·j → (sur·)ŝut·aĵ·o (sur kukoj)

streso stres·o → streĉ·o, (nerv·a, mens·a) (tro·)streĉ·(iĝ·)o

streta stret·a → mal·larĝ·a

strikta strikt·a [zam] → rigor·a, rigid·a (pri leĝ-o, kondut-o, ktp.), mal·larĝ·a, mal·vast·a, streĉ·it·a, streĉ·e al·ĝust·ig·it·a (pri vestoj)

stringi string·i → ĉirkaŭ·prem·i

striptizo striptiz·o → ekscit·nud·iĝ·o, incit·nud·iĝ·o

studento student·o → (en la senco de lernanto en antaŭuniversitata lernejo) lern·ant·o; (ĝenerale) ~ universitat·a stud·ant·o

stukaĉo stukaĉ·o → denunc·ul-(aĉ)-o

stumbli stumbl·i ~ (pro mis·paŝ·o) fal·et·i, ŝancel·iĝ·i, mis·paŝ·i, fal·puŝ·iĝ·i; (en figura senco) erar·et·i, mis·paŝ·i

stuporo stupor·o (en ĝenerala senco) → mir·eg·o, surpriz·eg·o, ŝok·iĝ·o, surpriz·o, konstern·o

stupro stupr·o → seks·per·forto

sturmi sturm·i ~ kur·atak·i

subgenro sub·genr·o (pri bestoj kaj kreskaĵoj) → sub·spec·ar·o

subjunkcio subjunkci·o ~ sub·ord·iga vort·o/lig·vort·o

sublima sublim·a → bon·eg·a, nobl·eg·a

sublimato sublimat·o [fun] ~ sublim·aĵ·o

submarino submarin·o → sub·mar·ŝip·o

subreto subret·o [zam] → serv·ist·in·o, ĉambristino (en teatraĵo), aktor-in-et-o, et-rol-ul-in-o, an-o de danc-ist-in-ar-o (en amuzaj teatraj spektakloj)

subsidiara subsidiar·a ~ help·a, al·don·a, al·don·help·a, du·a·vic·a, mal·centr·e decid·it·a subsidiareco
subsidiar·ec·o ~ mal·centr·a decid·pov·o

substantivo substantiv·o [fun] ~ o·vort·o, nom·vort·o

substrato substrat·o → sub·tavol·o

subtaso sub·tas·o ~ teler·et·o, sub·tas·aĵ·o

subtenebla (evoluo) sub·ten·ebl·a → daŭr·i·pov·a, el·ten·ebl·a

subtitoloj sub·titol·o·j (en filmoj) → sub·tekst·o·j

sufikso sufiks·o ~ post·vort·er·o, post·afiks·o

sufloro suflor·o [1oa] ~ flustr·i, flustr·ist·o

suĝeto suĝet·o (en filmoj, teatraĵoj, noveloj, kaj similaj) → intrig·o, rakont·o, tem·o

suicido suicid·o → si·n·mort·ig·o

sukcedi sukced·i → sekv·i, est·i hered·ant·o

sukoto sukot·o (juda festo) → (fest·o de la) laŭb·o·j

sukuri sukur·i → tuj·help·i, ek·help·i, ek·kurac·i, don·i unu·a·n help·o·n sukuristo
sukur·ist·o → tuj·help·ist·o, ek·help·ist·o

superba superb·a → impres·a, bel·eg·a

supermarkto supermarkt·o → super·vend·ej·o, super·bazar·o, vend·ej·eg·o

supermerkato super·merkat·o → super·vend·ej·o, super·bazar·o, vend·ej·eg·o

supini supin·i → turn·i la antaŭ·brak·o·n al la ĉiel·o.

supla supl·a → mal·rigid·a

surao sura·o (de la Korano) → ĉapitr·o

surda surd·a [zam] (en lingvistiko) → sen·voĉ·a, mal·sonor·a, obtuz·a

surfi surf·i → ond·o·rajd·i, tabul·vel·i

surjekcio surjekci·o ~ sur·ĵet·o, chi·o·n·cel·ant·a funkci·o, sur·a funkci·o

surogato surogat·o → anstataŭ·il·o, anstataŭ·aĵ·o

suspendi suspend·i → provizor·e halt·ig·i (funkciojn, efikon)

suspenso suspens·o → streĉ·o, streĉ·atend·o

suspensio suspensi·o (en la meĥanika senco) → risort·um·o

suspiri suspir·i → ve·spir·i, sopir·ĝem·i

suturo sutur·o → (kurac·ist·a) kun·kudr·o

suveniro suvenir·o ~ memor·aĵ·o

suzereno suzeren·o → feŭd·a sinjor·o

svaga svag·a → mal·preciz·a

svahilo svahil·o → (la) svahil·a (lingv·o)

svelta svelt·a → (bel·e) mal·dik·(et·)a

svetero sveter·o → pulovr·o, trikot·jak·o, lan·a jak·o

svingilo sving·il·o (en la senco de 'balancilo', 'pendolo') → balanc·il·o, pendol·o.

ŝablono ŝablon·o → fiks·it·a skem·o, kliŝ·o, model·plat·o

ŝafto ŝaft·o → pel·a aks·o, turn·o·aks·o

ŝakri ŝakr·i→ kaŝ·e/ekster·leĝ·e komerc·i, ag·i en la nigr·a merkat·o

ŝalmo ŝalm·o [fun] (en la senco de 'trinkopajlo') ~ trink·o·tig·o, trink·o·pajl·o

ŝamo ŝam·o [fun] ~ ĉam·o·haŭt·o

ŝamoto ŝamot·o → fajr·o·rezist·a material·o, fajr·o·el·ten·a argil·o

ŝampinjono ŝampinjon·o (en la ĝenerala senco de 'fungo') → fung·o

ŝampuo ŝampu·o ~ har·lav·aĵ·o, har·lav·il·o

ŝanelo ŝanel·o → la plej profunda parto de maro/rivero

ŝari ŝar·i (en la senco de 'komune posedi') → kun·hav·i; (en aliaj sencoj) far·i/kun·far·i, part·o·pren·i en, egal·porci·e far·i, porci·ig·i, kun·sent·i, simpati·i kun.

ŝarifo ŝarif·o ~ arab·a princ·o

ŝaŭro ŝaŭr·o → pluv·o·verŝ·o, pluv·ek·verŝ·o (povas temi ankaŭ pri 'neĝo' aŭ 'hajlo')

ŝedo ŝed·o → ŝirm·ej·o, kaban·o

ŝekelo ŝekel·o → sikl·o

ŝerpo ŝerp·o = port·ist·o, himalaj·a port·ist·o, mont·a port·ist·o; (aparta figura signifo: mal·alt·rang·a·j pret·ig·ant·o·j de grav·a·j inter·naci·amiddot;j konferencmiddot;o·j).

ŝerifo ŝerif·o → ofic·ul·o (en Britujo la rolo de "ŝerifo" havas tre varian enhavon, ofte nur ceremonia), (ekster·urb·a) polic·estr·o (en Usono)

ŝiboleto ŝibolet·o (en ĝenerala senco) → re·kon·vort·o, re·kon·il·o

ŝlagro ŝlagr·o → sukces·a kant·o, furor·aĵ·o

ŝlemilo ŝlemil·o → mal·bon·ŝanc·ul·o

ŝli ŝli → ŝi aŭ li, ŝi·li

ŝorbeto ŝorbet·o → frukt·o·glaci·aĵ·o

ŝorto ŝort·o → pantalon·et·o, femur·pantalon·o, mal·long·a pantalon·o

ŝoso ŝos·o → branĉ·id·o, ĝerm·o

ŝoseo ŝose·o ~ vetur·voj·o, voj·o, voj·o por aŭtomobil·o·j

ŝoti ŝot·i → paf·i, paf·ĵet·i (pilkon au similan aĵon cele al golejo aŭ simile)

ŝpalo ŝpal·o ~ rel·trab·o

ŝpato ŝpat·o [4oa] ~ plat·a fos·il·o

ŝproso ŝpros·o → sulk·o·bret·o

ŝpuro ŝpur·o → fervoj·a larĝ·o

ŝriki ŝrik·i → akut·e kri·i

ŝtato ŝtat·o → (en la senco de ĝenerala kunveno de delegitoj, kiel en 'Ŝtatoj Ĝeneralaj de Francujo') deleg·it·ar·o, parlament-o

ŝutro ŝutr·o ~ fenestr·o·kovr·il·o, fenestr·o·ŝirm·il·o

ŝvabri ŝvabr·i ~ lav·bala·i 

tabernaklo tabernakl·o → (sub-)tend·a templ·o, sankt·ej·o, (en nuntempaj preĝejoj) hosti·uj·a ŝrank·et·o, (juda festo) laŭb·o·j

tablojdo tablojd·o → (plat·a) pilol·o

taĉo taĉ·o (en piedpilk-ludo kaj similaj sportoj) → flank·a lini·o

tahino tahin·o → sezam·a past·o

tajfuno tajfun·o → tropik·a mar·ŝtorm·o

tajĝio tajĝi·o (kiel batalarto) → tajĝi·a batal·art·o, tajĝi·batal·art·o


tajĝiĉuano tajĝiĉuan·o (kiel batalarto) → tajĝi·a batal·art·o, tajĝi·batal·art·o

tajpi tajp·i [8oa] ~ en·klav·i, maŝin·skrib·i

taki- taki- → rapid-, rapid·a, rapid·e

taki tak·i → ŝanĝ·i vent·o·flank·on, vel·e) zigzag·i kontraŭ·vent·e

takigrafo takigraf·o → rapid·o·registr·il·o

takikardio takikardi·o → kor·o·rapid·o, rapid·a kor·puls·ad·o, kor·rapid·o, rapid·a kor·bat·ad·o

takimetro takimetr·o → rapid·o·mezur·il·o

takipneo takipne·o → rapid·eg·a spir·ad·o

takso taks·o (en la senco de 'imposto') → impost·o

taksio taksi·o (en la senco de reago altira aŭ forpuŝa) → altir·for·puŝ·a reag·o

taksimetro taksimetr·o → (taksi·a) (vetur-)prez·o·indik·il·o

taksono takson·o ~ en·klas·ig·unu·o

taksonomio taksonomi·o ~ en·klas·ig·scienco

taktismo taktism·o → altir·for·puŝ·a reag·o

talibano taliban·o ~ talib·o

talono talon·o (ekonomio) → ĉek·stump·o

talvego talveg·o ~ val·fund·a lini·o, akv·o·kolekt·a linio

tampono tampon·o ~ ŝtop·vat·o

tantiemo tantiem·o [zam] ~ elcent·aĵ·a pag·o, pag·o pro aŭtor·rajt·o, part·a profit·o pro verk·o

tapiserio tapiseri·o → tapiŝ·o

tarda tard·a → mal·fru·a

tartali tartal·i → balbuti, ripetbalbuti

taŭro taŭr·o → vir·bov·o

taŭtologio taŭtologi·o → signif·ripet·o, sam·vort·ripet·o

taverno tavern·o → trink·ej·o, gast·ej·o

teatrofrapo teatrofrapo → frap·a, sensaci·a, supriz·a, subit·a, drast·a, abrupt·a, dram·(ec·)a, intrig·o·ŝanĝ·a ŝanĝ·iĝ·o.

tekniko teknik·o [3oa] ~ teĥnik·o

teĥnologio teĥnologi·o [zam] → teĥnik·o·scienc·o, teĥnik·ar·o (laŭ la kuntekstoj)

teismo teism·o [2oa] ~ di·ism·o, di·kred·o, kred·o je la ekzist·o de inter·ag·ant·a di·o

teko tek·o → dokument·uj·o, valiz·et·o, paper·uj·o, man·sak·o

tekokomputilo tek·o·komput·il·o → port·ebl·a komput·il·o, klap·o·komput·il·o

teknopatio teknopati·o → labor·mal·san·o

tekstila tekstil·a → teks·aĵ·a, ŝtof·a

teksturo tekstur·o ~ teks·manier·o; surfac·a ec·o, surfac·o, tuŝ·aspekt·o; konsist·o, konsist·aranĝ·o, konsist·aspekt·o.

telefonio telefoni·o → telefon·a fak·o

telencefalo telencefal·o → grand·cerb·o, eg·cerb·o, grand·a cerb·o

telekomandilo telekomand·il·o → de·for·a reg·il·o, de·for·a ŝalt·il·o

telepatio telepati·o [9oa] ~ mens·inter·komunik·ad·o, mens·leg·ad·o

televizio televizi·o → televid·a kompani·o, televid·o, televid·il·o

telfero telfer·o → kabl·o·voj·o

tembro tembr·o → ton·kolor·o, son·kvalit·o

temerara temerar·a → sen·tim·a

temporalo temporal·o → tempi·a ost·o

tenaca tenac·a → mal·romp·iĝ·em·a

tenajlo tenajl·o → (por aparta speco de metiistaj pinĉiloj) tir·pinĉ·il·o; (ĝenerale por metiistaj pinĉiloj) (meti·ist·a) pinĉ·il·o

tendro tendr·o ~ karb·o·vagon·o de vapor·lokomotiv·o

tenebro tenebr·o → mal·lum·o

tenera tener·a [8oa] ~ delikat·a, varm·sent·a

tensio tensi·o (en ĝenerala senco de streĉiteco) → streĉ·it·ec·o

tenso tens·o → (gramatik·a) temp·o

teogonio teogoni·o → di·a genealogi·o, nask·o·list·o de la di·o·j

teologio teologi·o [1oa] ~ di·stud·o, di·scienc·o, di·esplor·o

teologo teolog·o [1oa] ~ di·fakulo, di·scienc·ist·o, di·esplor·ant·o

teokrato teokrat·o [7oa] ~ religi·reg·ant·o

teokratio teokrati·o [7oa] ~ religi·reg·o

tepida tepid·a → varm·et·a, duon·varm·a

ĉeftero ĉef·ter·o ~ kontinent·a ter·o, firm·a ter·o

tera- tera- (en scienc-teĥnikaj vortoj) ~ mil·miliard·o

terapio terapi·o [1oa] ~ kurac·o, kurac·ad·o, kurac·rimed·o

terato terat·o → monstr·o

teratogena teratogen·a → monstr·o·produkt·a

teratologio teratologi·o → studo pri ne·norm·aĵ·o·j

teratatomo teratatom·o → mal·simpl·a tumor·o

terceto tercet·o [1oa] ~ (en la senco de tri kun-ludantoj aŭ kun-kantantoj) tri-op-o, tri-o; (en la senco de verko por tri) tri-op-aĵ-o

tercio terci·o (en muziko) ~ tri·a interval·o, trit·o. Vidu ssv plio 9.

terciana tercian·a → tri·a·tag·a (febr·o)

terciara terciar·a → tri·a·vic·a, tri·a·rang·a

termika termik·a → varm·a, kontraŭ·varm·a, foj·e varm·konserv·a

terminalo terminal·o → (en flug-haveno) flug·staci·o, (pri komputiloj) fin·aparat·o

terminologio terminologi·o ~ termin·scienc·o, termin·stud·o, (en la senco de 'terminaro') termin·ar·o

termio termi·o → (korp·o-)temperatur·o, (korp·o-)varm·o

termo- termo- → varm·o, varm·a

termobotelo termobotel·o → varm·o·botel·o, varm·izol·a botel·o

termoj term·o·j → varm·ban·ej·o·j (en la antikva Romo)

termodinamiko termodinamik·o ~ varm·o·scienc·o

termometro termometr·o [1oa] ~ varm·o·mezur·il·o, temperatur·mezur·il·o termometrio
termometri·o → varm·o·mezur·ad·o

termoso termos·o → varm·o·botel·o, varm·izol·a botel·o

termosifono termosifon·o → radiator·o, hejt·il·o

ternara ternar·a → tri·element·a, tri·part·a

teroro teror·o → mafi·a/religi·a/ŝtat·a/reĝim·a terur·o/ad·o teroristo
terorist·o → mafi·a/religi·a/ŝtat·a/reĝim·a terur·ist·o

terpomo terpomo Ssv plio 22 - ter-pomo

tetra- tetra- (en sciencaj vortoj) → kvar-

tetrarko tetrark·o → kvar·on·estr·o, kvar·on·reg·ant·o, reg·o·kvar·op·an·o, kun·imperi·estr·o

tetrarkio tetrarki·o → kvar·op·a kun·reg·ad·o; reg·o·kvar·op·o

tifeo tife·o → tifa·o

tildo tild·o ~ (kiel memstara signo) ond·o·sign·o; (kiel supersigno) ~ ond·a super·sign·o

timida timid·a → tim·em·a, si·n·ĝen·a, mal·aplomb·a, hont·em·a, mem·fid·o·mank·a

timpano timpan·o (anatomio) → aŭd·membran·o; (en la PIV-a signifo) mez·orel·a kav·o

tino tin·o [zam] → (lign·a) kuv·o

tiom tiom (en la senco de tiom multe) ~ tiom mult·e

tiparo tiparo ~ liter·ar·o

tipografo tipograf·o ~ pres·ist·o

tipografio tipografi·o ~ → pres·art·o, pres·ej·o (laŭ la kunteksto)

tiraljoro tiraljor·o [zam] → (arme·a) cel·paf·ist·o, kaŝ·paf·ist·o

tizano tizan·o ~ infuz·aĵ·o

tlaspo tlasp·o → mon·er·a herb·o

toasto toasto → rost·pan·o, rost·it·a pan·o, rost·ita·a pan·tranĉ·o,

tobogano tobogan·o → sled·et·o; glit·ej·o (laŭ la senco en la konkreta situacio)

Togolo Togol·o → Togoland·o

Toĥaro Toĥar·o → la toĥar·a (lingv·o)

tokpisino tokpisin·o → la tokpisin·a lingv·o

toksa toks·a → venen·a

toksi toks·i → venen·i, eni·ig·i venen·o·n

toksino toksin·o → (mikrob·a) venen·o, (mikrob·a) venen·substanco

tokso toks·o → venen·o, venen·a substanc·o

toksomanio toksomani·o → drog·o·mis·uz·o

toksologio toksologio → venen·scienc·o, venen·medicin·o

toleranco toleranc·o → toler·o, akcept·ebl·o

-tomo -tom·o (en medicino) ~ (kurac·ist·a) tranĉ·il·o

-tomio -tomi·o (en medicino) ~ operaci·o

-tomizi -tom·iz·i (en medicino) → operaci·i

tonalo (maĵor·a) tonal·o → (larĝa) ton·kombin·o

topiko topik·o → (en la senco de ‘temo’) tem·o; (en la senco de ‘loko’) lok·o

toplisto top·list·o → list·o de plej oft·e rigard·at·a·j paĝ·o·j, pint·o·list·o

topografo topograf·o ~ map·scienc·isto

topografio topografi·o ~ map·scienc·o

toponimo toponim·o → lok·nom·o toponimio
toponimi·o → lok·nom·o·scienc·o

toporo topor·o → hak·il·o

toreado tore·ad·o → bov·batal·lud·o

toreadoro toreador·o → bov·batal·ist·o

toreisto tore·ist·o → bov·batal·ist·o

torento torent·o [1oa] ~ mont·a river·et·o, krut·a river·et·o, impet·a akv·o·flu·o.

tornado tornado → vent·eg·o, kirl·a vent·o, funel·a vent·o

tornistro tornistro ~ dors·o·sak·o

torporo torpor·o → mal·vigl·ec·o, mal·ag·em·o, dorm·em·o

tortikolo tortikol·o → kol·tord·iĝ·o, kol·a rigid·o, kol·dolor·o

totala total·a → tut·a, en·tut·a, ĉiom·a, plen·a, komplet·a totalismo
total·ism·o → tut·ism·o, totalitar·ism·o
totalisma
total·ism·a → tut·ism·a, totalitar·a

trabanto trabant·o → satelit·o

tracei trace-i --> (1 Desegni konstruotan vojon sur plano) plan-desegn-i vojon; (2 Marki konstruotan vojon sur la tereno per fostetoj aŭ markŝtonoj) mark-o-strek-i vojon; voj-strek-i; (3 Transdesegni efektivigotan planon sur laboraĵon) mark-o-strek-i laboraĵon, plan·strek·i.

tragika tragik·a ~ tragedi·a

tragikomedio tragikomedi·o → tragedi·a komedi·o, rid·ig·a tragedi·o, serioz·a-mal·serioz·a teatr·aĵ·o

trajno trajn·o ~ vagon·ar·o

traktato traktat·o ~ inter·ŝtat·a kontrakt·o, inter·ŝtat·a inter·konsent·o

trampo tramp·o → vagabond·o, vag·ul·o, vag·ant·o, sen·hejm·ul·o, ĉifon·ul·o (se temas pri homo), vag·ant·a ŝip·o aŭ avi·ad·il·o (se temas pri ŝipoj aŭ aviadiloj)

trampolino trampolin·o → (normale, se ilo por plonĝi en la akvon)salt·o·tabulo, (por indiki plastan surfacon, el kiu oni saltas) salt·o·tuk·o, salt·ad·o·tuk·o (la unua alternativo povus esti konfuzata kun la tukoj de la fajrobrigardo, en kiujn oni povas salti; sed tiujn ankaŭ eblas nomi "kaptotukoj")

transformatoro transformator·o (pri elektro) → trans·form·il·o

transfuzi transfuz·i → sang·al·don·o

transitiva transitiv·a (verbo) ~ trans·ir·a

transmisii transmisi·i → trans·ig·i, trans·send·i, per·i, komunik·i

transpiri transpir·i → ŝvit·i, spir·i (por plantoj)

tra ra ra tra ra ra → (sono imitanta rapidan senĉesan babiladon): bla-bla-bla!; (Bruo de rapida marŝo aŭ galopo) tra-ra-ra; (Senpacienca rifuzo plu aŭskulti) sufiĉ·e

traŭmato traŭmat·o → (en psikologio) traŭm·o; (en la ĝenerala medicino) vund·o traŭmatologo
traŭmatolog·o → vund·o·kurac·ist·o, vund·o·scienc·ist·o traŭmatologio
traŭmatologi·o → vund·o·scienc·o, vund·o·kurac·ad·o

traŭbo traŭb·o → vin·ber·o

travestii travesti·i → ali·vest·i, (en literaturo) komik·e imit·i, parodi·i

trefo trefo (en karto-lud-o) ~ tri·foli·o

trenco trenco (muziko) → tranc·o·muziko

trenda trend·a → laŭ·mod·a trendo
trend·o → evolu·tendenc·o, mod·o

triciklo tricikl·o → tri·rad·il·o, tri·rad·(a )bicikl·o

triĥo- triĥo- (en sciencaj vortoj) → har·o

triĥomicetozo triĥomicetoz·o → miceta har·mal·san·o

triĥopatio triĥopati·o → har·mal·san·o

triĥoplazio triĥoplazi·o → ne·normal·a har·kresk·ad·o

triĥozo triĥoz·o → okula har·mal·san·o

triko- triko- (en sciencaj vortoj) → har·o

trikomicetozo trikomicetoz·o → miceta har·mal·san·o

trikopatio trikopati·o → har·mal·san·o

trikoplazio trikoplazi·o → ne·normal·a har·kresk·ad·o

trikozo trikoz·o → har·mal·san·o

triliono trilion·o (en la senco 1012) → mil miliard·o·j, bilion·o. Vidu Ssv plio 20
trilion·o (en la senco 1018) ~ miliard·o da miliard·o·j. Vidu Ssv plio 20

trilogio trilogi·o ~ tri·part·a roman·o, tri·op·o, tri·libr·a seri·o, libr·o·tri·op·o, tri·seri·o, dram·ar·o, dram·tri·op·o (en la origina greka senco)

trimestro trimestr·o → tri monat·o·j, tri·monat·a period·o, jar·kvar·on·o; (pro influo de naciaj lingvoj, foje la intencata signifo povas esti alia, kaj tiam oni devas traduki laŭ la efektiva signifo)

Trinitato Trinitat·o → Tri·unu·o
trinitatano
trinitat·an·o → tri·unu·ist·o

trinkmono trink·mon·o ~ dank·mon·o

trista trist·a → mal·gaj·a, mal·ĝoj·a, mal·ĝoj·et·a

trivi triv·i → el·uz·i

troglodito troglodit·o → kavern·u·lo

trojko trojk·o ~ (en ĝenerala senco) tri·op·o, (en la senco de estraro) tri·person·a estr·ar·o, tri·op·a estr·ar·o

trolo trol·o → (en fiŝkaptado) mar·fund·a tren·ret·o/tir·ret·o; (en interreto) (ret·a) ĝen·ul·o, disput·instig·ant·o, provok·ist·o.

tropo trop·o → vort·figur·o, stil·figur·o

tropismo tropism·o (en la senco de reago al altira aŭ forpuŝa forto) ~ altir·for·puŝa reag·o

trotuaro trotuaro ~ paŝ·voj·o, paŝ·ej·o, hom·voj·o, por·hom·a voj·o

trovi trov·i [fun] (en la senco de 'konsideri', 'opinii') ~ konsider·i, opini·i

tuĉo tuĉ·o → ĉin·a ink·o

turneo turne·o (teatro) ~ rond·ir·o, art·prezent·a rond·vojaĝ·o

turpa turp·a → mal·bel·a, mal·bel·eg·a

uako uak·o (preseraro en PIV por 'uoko') → ĉin·a pat·o, kurb·a pat·o, uok·o

ubikva ubikv·a (pri vivaĵoj) → mult·medi·a

ublieto ubliet·o → forges·kel·o, pun·kel·o

uesto uest·o → okcident·o

ujutna ujutn·a → ĉarm·a, komfort·a, bon·fart·a

-uk- -uk- → kastr·it·a

ukazo ukaz·o → (car·a) dekret·o, arbitr·a ordon·o

ulno uln·o → kubut··osto

ultimato ultimat·o [2oa] → last·a ofert·o

ultra· ultra· → trans·, eg·, ekstrema

ultramaro ultramar·o [zam] → intens·e/mal·hel·e blu·a farb·o/kolor·il·o, ĉiel·blu·a farb·o/kolor·il·o, ĉiel·blu·o.

ultraviola ultraviol·a → trans·viol·a

ululi ulul·i → ĝem·boj·eg·i (de hundoj aŭ lupoj), (strig·e) blek·i (de strigoj)), (plor·)kri·eg·i (lamentantaj homoj), (ĝoj-)kri·eg·i (ĝojantaj homoj), kri·eg·i (kantistoj).

umiko umik·o → am·amik·o

un' un' → unu

uncio unci·o → neĝ·leopard·o

undino undin·o → akv·o·fe·in·o

ungvento ungvent·o → ŝmir·aĵ·o

unio uni·o [zam] ~ unu·iĝ·o

unika unik·a [3oa] ~ (unu) sol·a

unikorno unikorn·o → unu·korn·ul·o

unitaria unitari·a → unu·ism·a, unu·ist·a
unitara
unitar·a → unu·ism·a, unu·ist·a
unitariano
unitari·an·o → unu·ist·o
unitariismo
unitari·ism·o → unu·ism·o
unitarismo
unitar·ism·o → unu·ism·o

unito unit·o → unu·o

unkti unkt·i → sankt·ole·i, ŝmir·i (per ole·o)

unuciklo unu·cikl·o → unu·rad·il·o, unu·rad·(a )bicikl·o

unusencuma unu·senc·um·a (strat·o) → unu·direkt·a (strat·o)

uoko uok·o ~ ĉin·a pat·o, kurb·a pat·o

uranismo uran·ism·o [arĥ] → ambaŭ·seks·em·o, (vir·a) samseks·em·o

urbanizi urbaniz·i → urb-(ec-)ig·i

urduo urdu·o → la urdu·a lingv·o

uretro uretr·o → urin·kanal·o

urlio urli·o → mumps·o, saliv·gland·a inflam·o/ŝvel·o, (ĉe-)orel·gland·a inflam·o/ŝvel·o

utrikulario utrikulari·o → vezik·a herb·o

uverturo uvertur·o [1oa] → (muzik·a) mal·ferm·o

uvo uv·o → vin·ber·o

uzanco uzanc·o → uz·o, uz·ad·o, uz·kutim·o

uzino uzin·o → fabrik·o [fun], (meĥanik·ist·a) ripar·ej·o, metal·pri·labor·ej·o

uzurpatoro uzurpator·o → uzurp·ant·o, uzurp·int·o (laŭ la kunteksto)

ŭato ŭat·o → ???? [ni ne venis al interkonsento, kiun formon ni rekomendu inter uato, ŭato, vato]

ŭesto ŭest·o → okcident·o

V V (por indiki numeron laŭ la latina metodo) → 5, 5·a

vaĉi vaĉ·i → gard·i, gard·o·star·i

vademekumo vademekum·o → man·libr·o, gvid·libr·o, poŝ·help·libr·(et·)o.

vado vad·o (en la senco de seka fundo de la maro post defluo de la tajda pinto) → tajd·o·fund·o, de·flu·sek·fundo

vafro vafr·o → vafl·o

vagabondo vagabond·o ~ vag·ul·o, vag·ant·o

vajco vajc·o → ŝraŭb·ten·il·o, ŝraŭb·makzel·o

vaka vak·a [1oa] ~ mal·plen·a

vakero vaker·o → rajd·paŝt·ist·o, (rajdanta) bov·ist·o/bov·gard·ist·o

valer- valer- → valerat-

valerato valerat·o ~ sal·o de valerian·a acid·o

valeto valet·o → (vir-)ĉambr·ist·o

valga valg·a ~ kurb·a·krur·a

valuto valut·o [9oa] ~ mon·unu·o

vampo vamp·o → vampir·in·o

vanui vanu·i → mal·aper·i

variablo variabl·o → vari·ant·o

varianto variant·o [2oa] → vari·aĵ·o

varietato varietat·o → vari·aĵ·o

varieteo variete·o → vari·a spektakl·o, vari·a amuz·aĵ·o, (en la okazo de uzo por la loko de la spektaklo) teatroamuz·kant·ej·o

varleto varlet·o (laborado de metalo) → ten·pec·o

varmkapulo varm·kap·ul·o ~ flam·iĝ·em·ul·o

varmobotelo varm·o·botel·o (kaŭĉuka ujo por varmigi la liton) ~ varm·akva sako

varpo varp·o ~ laŭ·long·a (tekso-)faden·ar·o

vasko vask·o → (fontan·a) konk·eg·o

vatro vatr·o → varm·trans·ig·il·o, hejt·il·o

vatto vatt·o → ???? [ni ne venis al interkonsento, kiun formon ni rekomendu inter uato, ŭato, vato]

vavo vav·o ~ du·obl·a vo (nomo de la litero w)

vazistaso vazistas·o → klap·fenestr·o, klap·o, fenestr·o·klap·o

vefto veft·o ~ laŭ·larĝ·a (teks·o-)faden·ar·o, inter·kruc·iĝ·ant·a (teks·o-)faden·ar·o

vego veg·o → kur·ej·o, voj·o (en vojo)

vegano vegan·o ~ sen·best·aĵ·ist·o

veganismo vegan·ism·o ~ sen·best·aĵ·ism·o, diet·o sen·best·aĵ·a, diet·o nur·kresk·aĵ·a

vegetalo vegetal·o [8oa] → kresk·aĵ·o

vegetaĵo veget·aĵ·o ~ kresk·aĵ·o

vegetalano vegetal·an·o → sen·best·aĵ·ist·o

vegetara vegetar·a [2oa] ~ sen·viand·a, sen·viand·ism·a

vegetarano vegetar·an·o ~ sen·viand·ist·o

vegetarismo vegetar·ism·o ~ sen·viand·ism·o, diet·o sen·viand·a

vegetaranismo vegetar·an·ism·o → sen·viand·ism·o, vegetar·ism·o

vehiklo vehikl·o → (laŭ la signifo en la unuopa okazo) per·il·o, vetur·il·o, port·il·o, infekt·port·ant·o, help·il·o, il·o

veka vek·a (en la senco de vek-it-a) → vek·it·a, sen·dorm·a, mal·dorm·a

veksilo veksil·o → flag·o

veksilologio veksilologi·o → flag·o·scienco

velaro velar·o → vel·a konsonant·o

veldi veld·i ~ fand·e kun·fiks·i

vendeto vendet·o → famili·a venĝ·o

venerea venere·a (malsano) → seks·um·e trans·don·ebl·a mal·san·o, amor·a mal·san·o, seks·um·a mal·san·o, venus·a mal·san·o

Venera Vener·a (nomo de planedo kaj diino) → Venus·o

veneri vener·i (sanktulojn kaj similajn estaĵojn) → respekt·eg·i

veniala venial·a → pardon·ebl·a, mal·grav·a

ventgeneratoro vent·generator·o → vent·a gener·il·o

ventilatoro ventilator·o → ventol·il·o

Venusa monto venus·a mont·o → pub·a mont·o

vepro vepr·o → pik·arbust·o, dens·ej·o, arbust·aĵ·o

verbo verb·o [fun] ~ i·vort·o, ag·vort·o, far·vort·o

verbesino verbesin·o → verbezen·o

vermifugo vermifug·o → verm·o·for·ig·il·o, verm·o·mort·ig·il·o, kontraŭ·verm·aĵ·o

vernalizi vernaliz·i → antaŭ·matur·ig·i

versalo versal·o → et·a grand·a liter·o, grand·a liter·o, duon·grand·a liter·o

versiklo versikl·o (en la Biblio, Korano, ktp.) → vers·eg·o, vers·o, paragraf·et·o, lini·o, ĉapitr·er·o, tekst·unu·o, instig·a vers·o (en liturgio la verso, kiu postulas respondan verson)

vertago vertag·o [zam] → mel·hund·o

vertico vertico [8oa] ~ pint·o, vert·o, angul·punkt·o, nod·o, nod·punkt·o (ĉi tiuj du lastaj rilate al 'grafeo-j')

vertrago vertrago [zam] → lepor·hund·o

veselo veselo → antikv·a (milit-)ŝip·o

vespereo vespere·o → vesper·a prezent·ad·o

vespro vespr·o → vesper·a di·serv·o

vesterno vestern·o → uson·okcident·a film·o, sovaĝ·okcident·a filmo, bov·gard·ist·a film·o

vestiblo vestibl·o [fun] ~ en·ir·ĉambr·o

vestiĝo vestiĝ·o → spur·o, rest·aĵ·o

veterinaro veterinar·o [1oa] ~ best·kurac·isto

VI VI (por indiki numeron laŭ la latina metodo) → 6, 6·a

vibracio vibraci·o → vibr·o

vibriso vibris·o → (ĉe bestoj) sent·har·o, (se surlipe, ankaŭ) lip·har·o; (ĉe homo) naz·har·o

vicpatrino vic·patr·in·o ~ du·on·patr·in·o

vicrado vic·rad·o (aŭtomobilo) ~ krom·rad·o

video vide·o → vid·bend·o, (vid·bend·a, disk·a) film·o

video- video- (uzata kiel prefikso) → vid-, film-, (parolante pri parto de elektronika aparataro) bild·ig·a

videoklipo vide·o·klip·o → film·et·o, muzik·film-(et)-o

vigili vigil·i → nokt·o·gard·i, gard·i

VII VII (por indiki numeron laŭ la latina metodo) → 7, 7·a

VIII VIII (por indiki numeron laŭ la latina metodo) → 8, 8·a

viktualio viktuali·o → nutr·o·proviz·o·j

vilao vila·o ~ (sol·star·a) luks·a dom·o; (en la roma regno) bien·dom·o


villo vill·o [zam] → vila·o

vimplo vimpl·o → flag·et·o

vinĉo vinĉo → ŝnur·volv·a lev·il·o

vindaso vindas·o → ankr·o·lev·il·o, volv·aks·o

vinjeto vinjet·o (en la senco de desegnaĵo en, ekzemple, ĵurnalo) [1oa] → bild·ŝerco

vinkto vinkto [6oa] ~ kun·kroĉ·il·o

vinkulo vinkulo → kun·ig·a kramp·o, kurb·a kramp·o

vinologo vinolog·o → vin·fak·ul·o, vin·scienc·ist·o

violenta violent·a → per·fort(·em)·a

violenti violent·i → (seks·e) per·fort·i, seks·atenc·i

vipero viper·o [8oa] ~ → vipur·o [fun]

virozo viroz·o → virus·mal·san·o

virulenta virulent·a → mal·san·ig·a, (akr·e) atak·em·a, viv·e mal·util·a

viskoza viskoz·a → mal·flu·a, mal·flu·em·a, flu·mal·em·a

viskozo viskoz·o → mal·flu·o, mal·flu·em·o, flu·mal·em·o

viskozometro viskozometr·o ~ mal·flu·o·mezur·il·o

vito vit·o [8oa] → vin·ber·uj·o

vitala vital·a → viv·ec·a, viv·a

vitralo vitral·o → vitr·o·fenestr·eg·o, vitr·o·mozaik·a fenestr·o

vitrino vitrin·o → montr·o·fenestr·o

vivario vivari·o → viv·uj·o

vizio vizi·o [6oa] ~ vid·o, antaŭ·vid·o, imag·o

vizuala vizual·a → vid·a

vobli vobl·i → ŝancel·iĝ·i

vojevodio vojevodi·o → pol·a provinc·o

vokalisto vokalist·o (por difinita speco de kantisto) → voĉ·ist·o, kant·ist·o

vokto vokt·o [zam] ~ super·gard·ist·o, inspekt·ist·o

volano volan·o → plum·pilk·o

volatila volatil·a → gas·iĝ·em·a

volbo volb·o → (plafon·a) ark·aĵ·o [fun]

volbopato volb·o·pat·o ~ ĉin·a pat·o

volejbalo volejbal·o → flug·pilk·ad·o

voltmetro volt·metr·o → volt·mezur·il·o

voluto volut·o → spiral·a ornam·aĵ·o

vomito vomit·o → flav·a febr·o

vori vor·i → manĝ·eg·i

vorko vork·o → konstru·aĵ·o, konstru·ad·o, konstru·ej·o

voti vot·i (por la signifo 'voĉdoni') → voĉ·don·i

voto vot·o (faka vorto, religia) ~ ĵur·promes·o, solen·a promes·o


vrako vrak·o ~ ŝip/flug·maŝin·rest·aĵ·o

vringi vring·i → prem·tord·i, el·tord·i, tord·prem·i

vuajerismo vuajerism·o → (seks-)rigard·ism·o

vuajerismulo vuajerism·ul·o → kaŝ·rigard·ant·o, ŝtel·rigard·ant·o, seks·rigard·ant·o, (seks-)rigard·ul·o

vulkanizi vulkaniz·i ~ sulfur·um·i (kaŭĉuk·o·n)

vursto vurst·o → (dik·a / german·spec·a) kolbas·(et·)o

X (por indiki numeron laŭ la latina metodo) --> 10, 10-a
XI (por indiki numeron laŭ la latina metodo) --> 11, 11-a
XII (por indiki numeron laŭ la latina metodo) --> 12, 12-a
XIII (por indiki numeron laŭ la latina metodo) --> 13, 13-a
XIV (por indiki numeron laŭ la latina metodo) --> 14, 14-a
XV (por indiki numeron laŭ la latina metodo) --> 15, 15-a
XVI (por indiki numeron laŭ la latina metodo) --> 16, 16-a
XVII (por indiki numeron laŭ la latina metodo) --> 17, 17-a
XVIII (por indiki numeron laŭ la latina metodo) --> 18, 18-a
XIX (por indiki numeron laŭ la latina metodo) --> 19, 19-a

zabajono zabajon·o → ov·o·flav·aĵ·o

zapi zap·i (televido) → kanal·um·i

zenano zenan·o ~ vir·in·a dom·part·o

zepelino zepelin·o (en ĝenerala senco) → → (rigid·fram·a) aer·ŝip·o. Vidu ankaŭ: Ssv plio 18

zigomo zigom·o → vang·ost·o

zipi zip·i (en komputiloj) → dens·ig·i, kompakt·ig·i

zipo zip·o (unu speco de fermilo ĉefe en vestoj) ~ tir·ferm·il·o

zo- zo- (en sciencaj vortoj) → best-

zomi zom·i (en fotado) ~ skal·i (per objektiv·o), (en aviado) ~ mal·rapid·iĝ·e alt·iĝ·i

zomilo zom·il·o ~ skal·objektiv·o

zomo zom·o (en fotado) ~ skal·ad·o (per objektiv·o), (en aviado) mal·rapid·iĝ·a alt·iĝ·o, skal·objektiv·o (por tiuj, kiuj konsideras la radikon zom- substantiva)

zono zon·o (malsano) → zoster·o

zoo zo·o → best·ĝarden·o

zoologio zoologi·o ~ best·o·scienc·o

zoologo zoolog·o [7oa] ~ zoologi·ist·o, best·o· scienc·ist·o

zoomorfa zoomorf·a → best·o·form·a

zootekniko zooteknik·o → best·o·teĥnik·o, best·bred·teĥnik·o, bred·teĥnik·o

zostero zoster·o (en la medicina senco) ~ zon·a herpet·o, zon·erupci·o
----------------------------------------------------
}}}</pre>
</div>
<div title=" " creator="YourName" modifier="YourName" created="20170715" modified="20170715" tags="dic" changecount="2">
<pre>{{{

----------------------------------------------------

----------------------------------------------------
}}}</pre>
</div>
<div title="DisableWikiLinksPlugin" creator="YourName" modifier="YourName" created="201306080910" tags="systemConfig" changecount="1">
<pre>/***
|Name|DisableWikiLinksPlugin|
|Source|http://www.TiddlyTools.com/#DisableWikiLinksPlugin|
|Version|1.6.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|plugin|
|Description|selectively disable TiddlyWiki's automatic ~WikiWord linking behavior|
This plugin allows you to disable TiddlyWiki's automatic ~WikiWord linking behavior, so that WikiWords embedded in tiddler content will be rendered as regular text, instead of being automatically converted to tiddler links.  To create a tiddler link when automatic linking is disabled, you must enclose the link text within {{{[[...]]}}}.
!!!!!Usage
&lt;&lt;&lt;
You can block automatic WikiWord linking behavior for any specific tiddler by ''tagging it with&lt;&lt;tag excludeWikiWords&gt;&gt;'' (see configuration below) or, check a plugin option to disable automatic WikiWord links to non-existing tiddler titles, while still linking WikiWords that correspond to existing tiddlers titles or shadow tiddler titles.  You can also block specific selected WikiWords from being automatically linked by listing them in [[DisableWikiLinksList]] (see configuration below), separated by whitespace.  This tiddler is optional and, when present, causes the listed words to always be excluded, even if automatic linking of other WikiWords is being permitted.  

Note: WikiWords contained in default ''shadow'' tiddlers will be automatically linked unless you select an additional checkbox option lets you disable these automatic links as well, though this is not recommended, since it can make it more difficult to access some TiddlyWiki standard default content (such as AdvancedOptions or SideBarTabs)
&lt;&lt;&lt;
!!!!!Configuration
&lt;&lt;&lt;
&lt;&lt;option chkDisableWikiLinks&gt;&gt; Disable ALL automatic WikiWord tiddler links
&lt;&lt;option chkAllowLinksFromShadowTiddlers&gt;&gt; ... except for WikiWords //contained in// shadow tiddlers
&lt;&lt;option chkDisableNonExistingWikiLinks&gt;&gt; Disable automatic WikiWord links for non-existing tiddlers
Disable automatic WikiWord links for words listed in: &lt;&lt;option txtDisableWikiLinksList&gt;&gt;
Disable automatic WikiWord links for tiddlers tagged with: &lt;&lt;option txtDisableWikiLinksTag&gt;&gt;
&lt;&lt;&lt;
!!!!!Revisions
&lt;&lt;&lt;
2008.07.22 [1.6.0] hijack tiddler changed() method to filter disabled wiki words from internal links[] array (so they won't appear in the missing tiddlers list)
2007.06.09 [1.5.0] added configurable txtDisableWikiLinksTag (default value: &quot;excludeWikiWords&quot;) to allows selective disabling of automatic WikiWord links for any tiddler tagged with that value.
2006.12.31 [1.4.0] in formatter, test for chkDisableNonExistingWikiLinks
2006.12.09 [1.3.0] in formatter, test for excluded wiki words specified in DisableWikiLinksList
2006.12.09 [1.2.2] fix logic in autoLinkWikiWords() (was allowing links TO shadow tiddlers, even when chkDisableWikiLinks is TRUE).  
2006.12.09 [1.2.1] revised logic for handling links in shadow content
2006.12.08 [1.2.0] added hijack of Tiddler.prototype.autoLinkWikiWords so regular (non-bracketed) WikiWords won't be added to the missing list
2006.05.24 [1.1.0] added option to NOT bypass automatic wikiword links when displaying default shadow content (default is to auto-link shadow content)
2006.02.05 [1.0.1] wrapped wikifier hijack in init function to eliminate globals and avoid FireFox 1.5.0.1 crash bug when referencing globals
2005.12.09 [1.0.0] initial release
&lt;&lt;&lt;
!!!!!Code
***/
//{{{
version.extensions.DisableWikiLinksPlugin= {major: 1, minor: 6, revision: 0, date: new Date(2008,7,22)};

if (config.options.chkDisableNonExistingWikiLinks==undefined) config.options.chkDisableNonExistingWikiLinks= false;
if (config.options.chkDisableWikiLinks==undefined) config.options.chkDisableWikiLinks=false;
if (config.options.txtDisableWikiLinksList==undefined) config.options.txtDisableWikiLinksList=&quot;DisableWikiLinksList&quot;;
if (config.options.chkAllowLinksFromShadowTiddlers==undefined) config.options.chkAllowLinksFromShadowTiddlers=true;
if (config.options.txtDisableWikiLinksTag==undefined) config.options.txtDisableWikiLinksTag=&quot;excludeWikiWords&quot;;

// find the formatter for wikiLink and replace handler with 'pass-thru' rendering
initDisableWikiLinksFormatter();
function initDisableWikiLinksFormatter() {
	for (var i=0; i&lt;config.formatters.length &amp;&amp; config.formatters[i].name!=&quot;wikiLink&quot;; i++);
	config.formatters[i].coreHandler=config.formatters[i].handler;
	config.formatters[i].handler=function(w) {
		// supress any leading &quot;~&quot; (if present)
		var skip=(w.matchText.substr(0,1)==config.textPrimitives.unWikiLink)?1:0;
		var title=w.matchText.substr(skip);
		var exists=store.tiddlerExists(title);
		var inShadow=w.tiddler &amp;&amp; store.isShadowTiddler(w.tiddler.title);
		// check for excluded Tiddler
		if (w.tiddler &amp;&amp; w.tiddler.isTagged(config.options.txtDisableWikiLinksTag))
			{ w.outputText(w.output,w.matchStart+skip,w.nextMatch); return; }
		// check for specific excluded wiki words
		var t=store.getTiddlerText(config.options.txtDisableWikiLinksList);
		if (t &amp;&amp; t.length &amp;&amp; t.indexOf(w.matchText)!=-1)
			{ w.outputText(w.output,w.matchStart+skip,w.nextMatch); return; }
		// if not disabling links from shadows (default setting)
		if (config.options.chkAllowLinksFromShadowTiddlers &amp;&amp; inShadow)
			return this.coreHandler(w);
		// check for non-existing non-shadow tiddler
		if (config.options.chkDisableNonExistingWikiLinks &amp;&amp; !exists)
			{ w.outputText(w.output,w.matchStart+skip,w.nextMatch); return; }
		// if not enabled, just do standard WikiWord link formatting
		if (!config.options.chkDisableWikiLinks)
			return this.coreHandler(w);
		// just return text without linking
		w.outputText(w.output,w.matchStart+skip,w.nextMatch)
	}
}

Tiddler.prototype.coreAutoLinkWikiWords = Tiddler.prototype.autoLinkWikiWords;
Tiddler.prototype.autoLinkWikiWords = function()
{
	// if all automatic links are not disabled, just return results from core function
	if (!config.options.chkDisableWikiLinks)
		return this.coreAutoLinkWikiWords.apply(this,arguments);
	return false;
}

Tiddler.prototype.disableWikiLinks_changed = Tiddler.prototype.changed;
Tiddler.prototype.changed = function()
{
	this.disableWikiLinks_changed.apply(this,arguments);
	// remove excluded wiki words from links array
	var t=store.getTiddlerText(config.options.txtDisableWikiLinksList,&quot;&quot;).readBracketedList();
	if (t.length) for (var i=0; i&lt;t.length; i++)
		if (this.links.contains(t[i]))
			this.links.splice(this.links.indexOf(t[i]),1);
};
//}}}</pre>
</div>
<div title="LoadRemoteFileThroughProxy" modifier="YourName" created="200703202229" modified="201312301214" tags="systemConfig">
<pre>/***
|''Name:''|LoadRemoteFileThroughProxy (previous LoadRemoteFileHijack)|
|''Description:''|When the TiddlyWiki file is located on the web (view over http) the content of [[SiteProxy]] tiddler is added in front of the file url. If [[SiteProxy]] does not exist &quot;/proxy/&quot; is added. |
|''Version:''|1.1.0|
|''Date:''|mar 17, 2007|
|''Source:''|http://tiddlywiki.bidix.info/#LoadRemoteFileHijack|
|''Author:''|BidiX (BidiX (at) bidix (dot) info)|
|''License:''|[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D ]]|
|''~CoreVersion:''|2.2.0|
***/
//{{{
version.extensions.LoadRemoteFileThroughProxy = {
 major: 1, minor: 1, revision: 0, 
 date: new Date(&quot;mar 17, 2007&quot;), 
 source: &quot;http://tiddlywiki.bidix.info/#LoadRemoteFileThroughProxy&quot;};

if (!window.bidix) window.bidix = {}; // bidix namespace
if (!bidix.core) bidix.core = {};

bidix.core.loadRemoteFile = loadRemoteFile;
loadRemoteFile = function(url,callback,params)
{
 if ((document.location.toString().substr(0,4) == &quot;http&quot;) &amp;&amp; (url.substr(0,4) == &quot;http&quot;)){ 
 url = store.getTiddlerText(&quot;SiteProxy&quot;, &quot;/proxy/&quot;) + url;
 }
 return bidix.core.loadRemoteFile(url,callback,params);
}
//}}}
</pre>
</div>
<div title="MarkupPreHead" creator="YourName" modifier="YourName" created="201306061157" modified="201306080919" changecount="3">
<pre>&lt;!--{{{--&gt;
&lt;link rel='alternate' type='application/rss+xml' title='RSS' href='index.xml' /&gt;
&lt;link rel=&quot;shortcut icon&quot; href=&quot;http://fotw.fivestarflags.com/images/q/qy-eo_jb.gif&quot; type=&quot;image/x-icon&quot;&gt;
&lt;!--}}}--&gt;
</pre>
</div>
<div title="PageTemplate" creator="YourName" modifier="YourName" created="201306061158" changecount="1">
<pre>&lt;!--{{{--&gt;
&lt;div class='header' macro='gradient vert [[ColorPalette::PrimaryLight]] [[ColorPalette::PrimaryMid]]'&gt;
&lt;div class='headerShadow'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;div class='headerForeground'&gt;
&lt;span class='siteTitle' refresh='content' tiddler='SiteTitle'&gt;&lt;/span&gt;&amp;nbsp;
&lt;span class='siteSubtitle' refresh='content' tiddler='SiteSubtitle'&gt;&lt;/span&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id='sidebar'&gt;
&lt;div id='sidebarOptions' refresh='content' tiddler='SideBarOptions'&gt;&lt;/div&gt;
&lt;div id='sidebarTabs' refresh='content' force='true' tiddler='SideBarTabs'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div id='displayArea'&gt;
&lt;div id='messageArea'&gt;&lt;/div&gt;
&lt;div id='tiddlerDisplay'&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="PasswordOptionsPlugin" modifier="YourName" created="200704220851" modified="201312301214" tags="systemConfig">
<pre>/***
|''Name:''|PasswordOptionPlugin|
|''Description:''|Extends TiddlyWiki options with non encrypted password option.|
|''Version:''|1.0.2|
|''Date:''|Apr 19, 2007|
|''Source:''|http://tiddlywiki.bidix.info/#PasswordOptionPlugin|
|''Author:''|BidiX (BidiX (at) bidix (dot) info)|
|''License:''|[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D ]]|
|''~CoreVersion:''|2.2.0 (Beta 5)|
***/
//{{{
version.extensions.PasswordOptionPlugin = {
	major: 1, minor: 0, revision: 2, 
	date: new Date(&quot;Apr 19, 2007&quot;),
	source: 'http://tiddlywiki.bidix.info/#PasswordOptionPlugin',
	author: 'BidiX (BidiX (at) bidix (dot) info',
	license: '[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D]]',
	coreVersion: '2.2.0 (Beta 5)'
};

config.macros.option.passwordCheckboxLabel = &quot;Save this password on this computer&quot;;
config.macros.option.passwordInputType = &quot;password&quot;; // password | text
setStylesheet(&quot;.pasOptionInput {width: 11em;}\n&quot;,&quot;passwordInputTypeStyle&quot;);

merge(config.macros.option.types, {
	'pas': {
		elementType: &quot;input&quot;,
		valueField: &quot;value&quot;,
		eventName: &quot;onkeyup&quot;,
		className: &quot;pasOptionInput&quot;,
		typeValue: config.macros.option.passwordInputType,
		create: function(place,type,opt,className,desc) {
			// password field
			config.macros.option.genericCreate(place,'pas',opt,className,desc);
			// checkbox linked with this password &quot;save this password on this computer&quot;
			config.macros.option.genericCreate(place,'chk','chk'+opt,className,desc);			
			// text savePasswordCheckboxLabel
			place.appendChild(document.createTextNode(config.macros.option.passwordCheckboxLabel));
		},
		onChange: config.macros.option.genericOnChange
	}
});

merge(config.optionHandlers['chk'], {
	get: function(name) {
		// is there an option linked with this chk ?
		var opt = name.substr(3);
		if (config.options[opt]) 
			saveOptionCookie(opt);
		return config.options[name] ? &quot;true&quot; : &quot;false&quot;;
	}
});

merge(config.optionHandlers, {
	'pas': {
 		get: function(name) {
			if (config.options[&quot;chk&quot;+name]) {
				return encodeCookie(config.options[name].toString());
			} else {
				return &quot;&quot;;
			}
		},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	}
});

// need to reload options to load passwordOptions
loadOptionsCookie();

/*
if (!config.options['pasPassword'])
	config.options['pasPassword'] = '';

merge(config.optionsDesc,{
		pasPassword: &quot;Test password&quot;
	});
*/
//}}}</pre>
</div>
<div title="ReplaceDoubleClick" creator="YourName" modifier="YourName" created="201306061159" changecount="1">
<pre>/%
!info
|Name|ReplaceDoubleClick|
|Source|http://www.TiddlyTools.com/#ReplaceDoubleClick|
|Version|2.0.0|
|Author|Eric Shulman|
|License|http://www.TiddlyTools.com/#LegalStatements|
|~CoreVersion|2.1|
|Type|transclusion|
|Description|disable doubleclick-to-edit-tiddler or replace doubleclick with shift/ctrl/alt+singleclick|
Usage:
&lt;&lt;&lt;
{{{
&lt;&lt;tiddler ReplaceDoubleClick&gt;&gt; or
&lt;&lt;tiddler ReplaceDoubleClick with: key trigger&gt;&gt;
}}}
*''key'' (optional)
**''none'' (default=disables double-click)
**''ctrl, shift,'' or ''alt'' invokes the action only when the indicated key is used in combination with the mouse.
*''trigger'' (optional)&lt;br&gt;is either 'click' or 'doubleclick' (default).
&lt;&lt;&lt;
Example:
&lt;&lt;&lt;
{{{&lt;&lt;tiddler ReplaceDoubleClick with: shift click&gt;&gt;}}}
&lt;&lt;tiddler ReplaceDoubleClick with: shift click&gt;&gt;//(use shift+click to edit this tiddler)//
&lt;&lt;&lt;
!end
!show
&lt;&lt;tiddler {{
	var here=story.findContainingTiddler(place);
	if (here &amp;&amp; here.ondblclick) {
		here.setAttribute('editKey','none');
		var key='$1'; if (key=='$'+'1') key='none'
		if (['shift','ctrl','alt'].contains(key))
			here.setAttribute('editKey',key+'Key');
		var trigger=('$2'=='click')?'onclick':'ondblclick';
		here.save_dblclick=here.ondblclick;
		here.ondblclick=null;
		if (here.getAttribute('editKey')!='none')
			here[trigger]=function(e) {
				var ev=e?e:window.event;
				if (ev[this.getAttribute('editKey')])
					this.save_dblclick.apply(this,arguments);
			}
	}'';}}&gt;&gt;
!end
%/&lt;&lt;tiddler {{var src='ReplaceDoubleClick';src+(tiddler&amp;&amp;tiddler.title==src?'##info':'##show')}} with: [[$1]] [[$2]]&gt;&gt;</pre>
</div>
<div title="SiteSubtitle" creator="YourName" modifier="YourName" created="201306061205" modified="201312301219" changecount="10">
<pre>&lt;html&gt;&lt;div style=&quot;font-size:0.9em;&quot;&gt;   &lt;/html&gt;</pre>
</div>
<div title="SiteTitle" creator="YourName" modifier="YourName" created="201306061205" modified="201312301219" changecount="9">
<pre>Simplaj samsignifaj vortoj</pre>
</div>
<div title="StyleSheet" creator="YourName" modifier="YourName" created="201306061159" modified="201306080909" changecount="2">
<pre>body {font-size:0.9em; font-family:sans-serif; THSarabunNewRegular; margin:0; padding:0;}
.header {position:relative;}
.header a:hover {background:transparent;}
.headerShadow {position:relative; padding:0em 0 0.1em .5em; left:-1px; top:-1px;}
.headerForeground {position:absolute; padding:0em 0 .1em .5em; left:0px; top:0px;}
#displayArea {margin:-1em 4em 0em 4em; }
@media screen and (max-width: 600px) {#displayArea {margin: auto;}}
.viewer table, table.twtable {margin:0.8em 0;width:100%;}
.viewer a{color: #000;text-decoration:none;background:transparent;}
.viewer a:hover{color:#03f;text-decoration:underline;background:transparent;}
.toolbar {font-size:0em;}
</pre>
</div>
<div title="ToolbarCommands" creator="YourName" modifier="YourName" created="201306061201" changecount="1">
<pre>|~ViewToolbar|+editTiddler|
|~EditToolbar|+saveTiddler -cancelTiddler copyTiddler deleteTiddler|</pre>
</div>
<div 
="TspotSetupPlugin" modifier="YourName" created="200808081041" modified="200808081041" tags="systemConfig">
<pre>/***
Description: Contains the stuff you need to use Tiddlyspot
Note, you also need UploadPlugin, PasswordOptionPlugin and LoadRemoteFileThroughProxy
from http://tiddlywiki.bidix.info for a complete working Tiddlyspot site.
***/
//{{{

// edit this if you are migrating sites or retrofitting an existing TW
config.tiddlyspotSiteId = 'http://www.pandunia.info/english/tiddly.html';

// make it so you can by default see edit controls via http
config.options.chkHttpReadOnly = false;
window.readOnly = false; // make sure of it (for tw 2.2)
window.showBackstage = true; // show backstage too

// disable autosave in d3
if (window.location.protocol != &quot;file:&quot;)
	config.options.chkGTDLazyAutoSave = false;

// tweak shadow tiddlers to add upload button, password entry box etc
with (config.shadowTiddlers) {
	SiteUrl = 'http://'+config.tiddlyspotSiteId+'.tiddlyspot.com';
	SideBarOptions = SideBarOptions.replace(/(&lt;&lt;saveChanges&gt;&gt;)/,&quot;$1&lt;&lt;tiddler TspotSidebar&gt;&gt;&quot;);
	OptionsPanel = OptionsPanel.replace(/^/,&quot;&lt;&lt;tiddler TspotOptions&gt;&gt;&quot;);
	DefaultTiddlers = DefaultTiddlers.replace(/^/,&quot;[[WelcomeToTiddlyspot]] &quot;);
	MainMenu = MainMenu.replace(/^/,&quot;[[WelcomeToTiddlyspot]] &quot;);
}

// create some shadow tiddler content
merge(config.shadowTiddlers,{

'TspotControls':[
 &quot;| tiddlyspot password:|&lt;&lt;option pasUploadPassword&gt;&gt;|&quot;,
 &quot;| site management:|&lt;&lt;upload http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/store.cgi index.html . .  &quot; + config.tiddlyspotSiteId + &quot;&gt;&gt;//(requires tiddlyspot password)//&lt;br&gt;[[control panel|http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/controlpanel]], [[download (go offline)|http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/download]]|&quot;,
 &quot;| links:|[[tiddlyspot.com|http://tiddlyspot.com/]], [[FAQs|http://faq.tiddlyspot.com/]], [[blog|http://tiddlyspot.blogspot.com/]], email [[support|mailto:support@tiddlyspot.com]] &amp; [[feedback|mailto:feedback@tiddlyspot.com]], [[donate|http://tiddlyspot.com/?page=donate]]|&quot;
].join(&quot;\n&quot;),

'TspotOptions':[
 &quot;tiddlyspot password:&quot;,
 &quot;&lt;&lt;option pasUploadPassword&gt;&gt;&quot;,
 &quot;&quot;
].join(&quot;\n&quot;),

'TspotSidebar':[
 &quot;&lt;&lt;upload http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/store.cgi index.html . .  &quot; + config.tiddlyspotSiteId + &quot;&gt;&gt;&lt;html&gt;&lt;a href='http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/download' class='button'&gt;download&lt;/a&gt;&lt;/html&gt;&quot;
].join(&quot;\n&quot;),

'WelcomeToTiddlyspot':[
 &quot;This document is a ~TiddlyWiki from tiddlyspot.com.  A ~TiddlyWiki is an electronic notebook that is great for managing todo lists, personal information, and all sorts of things.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //What now?// &amp;nbsp;&amp;nbsp;@@ Before you can save any changes, you need to enter your password in the form below.  Then configure privacy and other site settings at your [[control panel|http://&quot; + config.tiddlyspotSiteId + &quot;.tiddlyspot.com/controlpanel]] (your control panel username is //&quot; + config.tiddlyspotSiteId + &quot;//).&quot;,
 &quot;&lt;&lt;tiddler TspotControls&gt;&gt;&quot;,
 &quot;See also GettingStarted.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Working online// &amp;nbsp;&amp;nbsp;@@ You can edit this ~TiddlyWiki right now, and save your changes using the \&quot;save to web\&quot; button in the column on the right.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Working offline// &amp;nbsp;&amp;nbsp;@@ A fully functioning copy of this ~TiddlyWiki can be saved onto your hard drive or USB stick.  You can make changes and save them locally without being connected to the Internet.  When you're ready to sync up again, just click \&quot;upload\&quot; and your ~TiddlyWiki will be saved back to tiddlyspot.com.&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Help!// &amp;nbsp;&amp;nbsp;@@ Find out more about ~TiddlyWiki at [[TiddlyWiki.com|http://tiddlywiki.com]].  Also visit [[TiddlyWiki.org|http://tiddlywiki.org]] for documentation on learning and using ~TiddlyWiki. New users are especially welcome on the [[TiddlyWiki mailing list|http://groups.google.com/group/TiddlyWiki]], which is an excellent place to ask questions and get help.  If you have a tiddlyspot related problem email [[tiddlyspot support|mailto:support@tiddlyspot.com]].&quot;,
 &quot;&quot;,
 &quot;@@font-weight:bold;font-size:1.3em;color:#444; //Enjoy :)// &amp;nbsp;&amp;nbsp;@@ We hope you like using your tiddlyspot.com site.  Please email [[feedback@tiddlyspot.com|mailto:feedback@tiddlyspot.com]] with any comments or suggestions.&quot;
].join(&quot;\n&quot;)

});
//}}}
</pre>
</div>
<div title="UploadLog" modifier="YourName" created="201306041645" modified="201312301257">
<pre>| !date | !user | !location | !storeUrl | !uploadDir | !toFilename | !backupdir | !origin |
| 30/12/2015 16:20:21 | YourName | [[/|http://www.pandunia.info/english/]] | [[store.cgi|http://www.pandunia.info/english/store.cgi]] | . | [[index.html | http://www.pandunia.info/english/tiddly.html]] | . |
| 30/12/2015 16:51:02 | YourName | [[/|http://www.pandunia.info/english/]] | [[store.cgi|http://www.pandunia.info/english/store.cgi]] | . | [[index.html | http://www.pandunia.info/english/tiddly.html]] | . |
| 30/12/2015 16:56:17 | YourName | [[/|http://www.pandunia.info/english/]] | [[store.cgi|http://www.pandunia.info/english/store.cgi]] | . | [[index.html | http://www.pandunia.info/english/tiddly.html]] | . |
| 30/12/2015 16:57:36 | YourName | [[/|http://www.pandunia.info/english/]] | [[store.cgi|http://www.pandunia.info/english/store.cgi]] | . | [[index.html | http://www.pandunia.info/english/tiddly.html]] | . |</pre>
</div>
<div title="UploadPlugin" modifier="YourName" created="200808080918" modified="201312301214" tags="systemConfig">
<pre>/***
|''Name:''|UploadPlugin|
|''Description:''|Save to web a TiddlyWiki|
|''Version:''|4.1.3|
|''Date:''|Feb 24, 2008|
|''Source:''|http://tiddlywiki.bidix.info/#UploadPlugin|
|''Documentation:''|http://tiddlywiki.bidix.info/#UploadPluginDoc|
|''Author:''|BidiX (BidiX (at) bidix (dot) info)|
|''License:''|[[BSD open source license|http://tiddlywiki.bidix.info/#%5B%5BBSD%20open%20source%20license%5D%5D ]]|
|''~CoreVersion:''|2.2.0|
|''Requires:''|PasswordOptionPlugin|
***/
//{{{
version.extensions.UploadPlugin = {
	major: 4, minor: 1, revision: 3,
	date: new Date(&quot;Feb 24, 2008&quot;),
	source: 'http://tiddlywiki.bidix.info/#UploadPlugin',
	author: 'BidiX (BidiX (at) bidix (dot) info',
	coreVersion: '2.2.0'
};

//
// Environment
//

if (!window.bidix) window.bidix = {}; // bidix namespace
bidix.debugMode = false;	// true to activate both in Plugin and UploadService
	
//
// Upload Macro
//

config.macros.upload = {
// default values
	defaultBackupDir: '',	//no backup
	defaultStoreScript: &quot;store.php&quot;,
	defaultToFilename: &quot;index.html&quot;,
	defaultUploadDir: &quot;.&quot;,
	authenticateUser: true	// UploadService Authenticate User
};
	
config.macros.upload.label = {
	promptOption: &quot;Save and Upload this TiddlyWiki with UploadOptions&quot;,
	promptParamMacro: &quot;Save and Upload this TiddlyWiki in %0&quot;,
	saveLabel: &quot;save to web&quot;, 
	saveToDisk: &quot;save to disk&quot;,
	uploadLabel: &quot;upload&quot;	
};

config.macros.upload.messages = {
	noStoreUrl: &quot;No store URL in parmeters or options&quot;,
	usernameOrPasswordMissing: &quot;Username or password missing&quot;
};

config.macros.upload.handler = function(place,macroName,params) {
	if (readOnly)
		return;
	var label;
	if (document.location.toString().substr(0,4) == &quot;http&quot;) 
		label = this.label.saveLabel;
	else
		label = this.label.uploadLabel;
	var prompt;
	if (params[0]) {
		prompt = this.label.promptParamMacro.toString().format([this.destFile(params[0], 
			(params[1] ? params[1]:bidix.basename(window.location.toString())), params[3])]);
	} else {
		prompt = this.label.promptOption;
	}
	createTiddlyButton(place, label, prompt, function() {config.macros.upload.action(params);}, null, null, this.accessKey);
};

config.macros.upload.action = function(params)
{
		// for missing macro parameter set value from options
		if (!params) params = {};
		var storeUrl = params[0] ? params[0] : config.options.txtUploadStoreUrl;
		var toFilename = params[1] ? params[1] : config.options.txtUploadFilename;
		var backupDir = params[2] ? params[2] : config.options.txtUploadBackupDir;
		var uploadDir = params[3] ? params[3] : config.options.txtUploadDir;
		var username = params[4] ? params[4] : config.options.txtUploadUserName;
		var password = config.options.pasUploadPassword; // for security reason no password as macro parameter	
		// for still missing parameter set default value
		if ((!storeUrl) &amp;&amp; (document.location.toString().substr(0,4) == &quot;http&quot;)) 
			storeUrl = bidix.dirname(document.location.toString())+'/'+config.macros.upload.defaultStoreScript;
		if (storeUrl.substr(0,4) != &quot;http&quot;)
			storeUrl = bidix.dirname(document.location.toString()) +'/'+ storeUrl;
		if (!toFilename)
			toFilename = bidix.basename(window.location.toString());
		if (!toFilename)
			toFilename = config.macros.upload.defaultToFilename;
		if (!uploadDir)
			uploadDir = config.macros.upload.defaultUploadDir;
		if (!backupDir)
			backupDir = config.macros.upload.defaultBackupDir;
		// report error if still missing
		if (!storeUrl) {
			alert(config.macros.upload.messages.noStoreUrl);
			clearMessage();
			return false;
		}
		if (config.macros.upload.authenticateUser &amp;&amp; (!username || !password)) {
			alert(config.macros.upload.messages.usernameOrPasswordMissing);
			clearMessage();
			return false;
		}
		bidix.upload.uploadChanges(false,null,storeUrl, toFilename, uploadDir, backupDir, username, password); 
		return false; 
};

config.macros.upload.destFile = function(storeUrl, toFilename, uploadDir) 
{
	if (!storeUrl)
		return null;
		var dest = bidix.dirname(storeUrl);
		if (uploadDir &amp;&amp; uploadDir != '.')
			dest = dest + '/' + uploadDir;
		dest = dest + '/' + toFilename;
	return dest;
};

//
// uploadOptions Macro
//

config.macros.uploadOptions = {
	handler: function(place,macroName,params) {
		var wizard = new Wizard();
		wizard.createWizard(place,this.wizardTitle);
		wizard.addStep(this.step1Title,this.step1Html);
		var markList = wizard.getElement(&quot;markList&quot;);
		var listWrapper = document.createElement(&quot;div&quot;);
		markList.parentNode.insertBefore(listWrapper,markList);
		wizard.setValue(&quot;listWrapper&quot;,listWrapper);
		this.refreshOptions(listWrapper,false);
		var uploadCaption;
		if (document.location.toString().substr(0,4) == &quot;http&quot;) 
			uploadCaption = config.macros.upload.label.saveLabel;
		else
			uploadCaption = config.macros.upload.label.uploadLabel;
		
		wizard.setButtons([
				{caption: uploadCaption, tooltip: config.macros.upload.label.promptOption, 
					onClick: config.macros.upload.action},
				{caption: this.cancelButton, tooltip: this.cancelButtonPrompt, onClick: this.onCancel}
				
			]);
	},
	options: [
		&quot;txtUploadUserName&quot;,
		&quot;pasUploadPassword&quot;,
		&quot;txtUploadStoreUrl&quot;,
		&quot;txtUploadDir&quot;,
		&quot;txtUploadFilename&quot;,
		&quot;txtUploadBackupDir&quot;,
		&quot;chkUploadLog&quot;,
		&quot;txtUploadLogMaxLine&quot;		
	],
	refreshOptions: function(listWrapper) {
		var opts = [];
		for(i=0; i&lt;this.options.length; i++) {
			var opt = {};
			opts.push();
			opt.option = &quot;&quot;;
			n = this.options[i];
			opt.name = n;
			opt.lowlight = !config.optionsDesc[n];
			opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
			opts.push(opt);
		}
		var listview = ListView.create(listWrapper,opts,this.listViewTemplate);
		for(n=0; n&lt;opts.length; n++) {
			var type = opts[n].name.substr(0,3);
			var h = config.macros.option.types[type];
			if (h &amp;&amp; h.create) {
				h.create(opts[n].colElements['option'],type,opts[n].name,opts[n].name,&quot;no&quot;);
			}
		}
		
	},
	onCancel: function(e)
	{
		backstage.switchTab(null);
		return false;
	},
	
	wizardTitle: &quot;Upload with options&quot;,
	step1Title: &quot;These options are saved in cookies in your browser&quot;,
	step1Html: &quot;&lt;input type='hidden' name='markList'&gt;&lt;/input&gt;&lt;br&gt;&quot;,
	cancelButton: &quot;Cancel&quot;,
	cancelButtonPrompt: &quot;Cancel prompt&quot;,
	listViewTemplate: {
		columns: [
			{name: 'Description', field: 'description', title: &quot;Description&quot;, type: 'WikiText'},
			{name: 'Option', field: 'option', title: &quot;Option&quot;, type: 'String'},
			{name: 'Name', field: 'name', title: &quot;Name&quot;, type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'} 
			]}
};

//
// upload functions
//

if (!bidix.upload) bidix.upload = {};

if (!bidix.upload.messages) bidix.upload.messages = {
	//from saving
	invalidFileError: &quot;The original file '%0' does not appear to be a valid TiddlyWiki&quot;,
	backupSaved: &quot;Backup saved&quot;,
	backupFailed: &quot;Failed to upload backup file&quot;,
	rssSaved: &quot;RSS feed uploaded&quot;,
	rssFailed: &quot;Failed to upload RSS feed file&quot;,
	emptySaved: &quot;Empty template uploaded&quot;,
	emptyFailed: &quot;Failed to upload empty template file&quot;,
	mainSaved: &quot;Main TiddlyWiki file uploaded&quot;,
	mainFailed: &quot;Failed to upload main TiddlyWiki file. Your changes have not been saved&quot;,
	//specific upload
	loadOriginalHttpPostError: &quot;Can't get original file&quot;,
	aboutToSaveOnHttpPost: 'About to upload on %0 ...',
	storePhpNotFound: &quot;The store script '%0' was not found.&quot;
};

bidix.upload.uploadChanges = function(onlyIfDirty,tiddlers,storeUrl,toFilename,uploadDir,backupDir,username,password)
{
	var callback = function(status,uploadParams,original,url,xhr) {
		if (!status) {
			displayMessage(bidix.upload.messages.loadOriginalHttpPostError);
			return;
		}
		if (bidix.debugMode) 
			alert(original.substr(0,500)+&quot;\n...&quot;);
		// Locate the storeArea div's 
		var posDiv = locateStoreArea(original);
		if((posDiv[0] == -1) || (posDiv[1] == -1)) {
			alert(config.messages.invalidFileError.format([localPath]));
			return;
		}
		bidix.upload.uploadRss(uploadParams,original,posDiv);
	};
	
	if(onlyIfDirty &amp;&amp; !store.isDirty())
		return;
	clearMessage();
	// save on localdisk ?
	if (document.location.toString().substr(0,4) == &quot;file&quot;) {
		var path = document.location.toString();
		var localPath = getLocalPath(path);
		saveChanges();
	}
	// get original
	var uploadParams = new Array(storeUrl,toFilename,uploadDir,backupDir,username,password);
	var originalPath = document.location.toString();
	// If url is a directory : add index.html
	if (originalPath.charAt(originalPath.length-1) == &quot;/&quot;)
		originalPath = originalPath + &quot;index.html&quot;;
	var dest = config.macros.upload.destFile(storeUrl,toFilename,uploadDir);
	var log = new bidix.UploadLog();
	log.startUpload(storeUrl, dest, uploadDir,  backupDir);
	displayMessage(bidix.upload.messages.aboutToSaveOnHttpPost.format([dest]));
	if (bidix.debugMode) 
		alert(&quot;about to execute Http - GET on &quot;+originalPath);
	var r = doHttp(&quot;GET&quot;,originalPath,null,null,username,password,callback,uploadParams,null);
	if (typeof r == &quot;string&quot;)
		displayMessage(r);
	return r;
};

bidix.upload.uploadRss = function(uploadParams,original,posDiv) 
{
	var callback = function(status,params,responseText,url,xhr) {
		if(status) {
			var destfile = responseText.substring(responseText.indexOf(&quot;destfile:&quot;)+9,responseText.indexOf(&quot;\n&quot;, responseText.indexOf(&quot;destfile:&quot;)));
			displayMessage(bidix.upload.messages.rssSaved,bidix.dirname(url)+'/'+destfile);
			bidix.upload.uploadMain(params[0],params[1],params[2]);
		} else {
			displayMessage(bidix.upload.messages.rssFailed);			
		}
	};
	// do uploadRss
	if(config.options.chkGenerateAnRssFeed) {
		var rssPath = uploadParams[1].substr(0,uploadParams[1].lastIndexOf(&quot;.&quot;)) + &quot;.xml&quot;;
		var rssUploadParams = new Array(uploadParams[0],rssPath,uploadParams[2],'',uploadParams[4],uploadParams[5]);
		var rssString = generateRss();
		// no UnicodeToUTF8 conversion needed when location is &quot;file&quot; !!!
		if (document.location.toString().substr(0,4) != &quot;file&quot;)
			rssString = convertUnicodeToUTF8(rssString);	
		bidix.upload.httpUpload(rssUploadParams,rssString,callback,Array(uploadParams,original,posDiv));
	} else {
		bidix.upload.uploadMain(uploadParams,original,posDiv);
	}
};

bidix.upload.uploadMain = function(uploadParams,original,posDiv) 
{
	var callback = function(status,params,responseText,url,xhr) {
		var log = new bidix.UploadLog();
		if(status) {
			// if backupDir specified
			if ((params[3]) &amp;&amp; (responseText.indexOf(&quot;backupfile:&quot;) &gt; -1))  {
				var backupfile = responseText.substring(responseText.indexOf(&quot;backupfile:&quot;)+11,responseText.indexOf(&quot;\n&quot;, responseText.indexOf(&quot;backupfile:&quot;)));
				displayMessage(bidix.upload.messages.backupSaved,bidix.dirname(url)+'/'+backupfile);
			}
			var destfile = responseText.substring(responseText.indexOf(&quot;destfile:&quot;)+9,responseText.indexOf(&quot;\n&quot;, responseText.indexOf(&quot;destfile:&quot;)));
			displayMessage(bidix.upload.messages.mainSaved,bidix.dirname(url)+'/'+destfile);
			store.setDirty(false);
			log.endUpload(&quot;ok&quot;);
		} else {
			alert(bidix.upload.messages.mainFailed);
			displayMessage(bidix.upload.messages.mainFailed);
			log.endUpload(&quot;failed&quot;);			
		}
	};
	// do uploadMain
	var revised = bidix.upload.updateOriginal(original,posDiv);
	bidix.upload.httpUpload(uploadParams,revised,callback,uploadParams);
};

bidix.upload.httpUpload = function(uploadParams,data,callback,params)
{
	var localCallback = function(status,params,responseText,url,xhr) {
		url = (url.indexOf(&quot;nocache=&quot;) &lt; 0 ? url : url.substring(0,url.indexOf(&quot;nocache=&quot;)-1));
		if (xhr.status == 404)
			alert(bidix.upload.messages.storePhpNotFound.format([url]));
		if ((bidix.debugMode) || (responseText.indexOf(&quot;Debug mode&quot;) &gt;= 0 )) {
			alert(responseText);
			if (responseText.indexOf(&quot;Debug mode&quot;) &gt;= 0 )
				responseText = responseText.substring(responseText.indexOf(&quot;\n\n&quot;)+2);
		} else if (responseText.charAt(0) != '0') 
			alert(responseText);
		if (responseText.charAt(0) != '0')
			status = null;
		callback(status,params,responseText,url,xhr);
	};
	// do httpUpload
	var boundary = &quot;---------------------------&quot;+&quot;AaB03x&quot;;	
	var uploadFormName = &quot;UploadPlugin&quot;;
	// compose headers data
	var sheader = &quot;&quot;;
	sheader += &quot;--&quot; + boundary + &quot;\r\nContent-disposition: form-data; name=\&quot;&quot;;
	sheader += uploadFormName +&quot;\&quot;\r\n\r\n&quot;;
	sheader += &quot;backupDir=&quot;+uploadParams[3] +
				&quot;;user=&quot; + uploadParams[4] +
				&quot;;password=&quot; + uploadParams[5] +
				&quot;;uploaddir=&quot; + uploadParams[2];
	if (bidix.debugMode)
		sheader += &quot;;debug=1&quot;;
	sheader += &quot;;;\r\n&quot;; 
	sheader += &quot;\r\n&quot; + &quot;--&quot; + boundary + &quot;\r\n&quot;;
	sheader += &quot;Content-disposition: form-data; name=\&quot;userfile\&quot;; filename=\&quot;&quot;+uploadParams[1]+&quot;\&quot;\r\n&quot;;
	sheader += &quot;Content-Type: text/html;charset=UTF-8&quot; + &quot;\r\n&quot;;
	sheader += &quot;Content-Length: &quot; + data.length + &quot;\r\n\r\n&quot;;
	// compose trailer data
	var strailer = new String();
	strailer = &quot;\r\n--&quot; + boundary + &quot;--\r\n&quot;;
	data = sheader + data + strailer;
	if (bidix.debugMode) alert(&quot;about to execute Http - POST on &quot;+uploadParams[0]+&quot;\n with \n&quot;+data.substr(0,500)+ &quot; ... &quot;);
	var r = doHttp(&quot;POST&quot;,uploadParams[0],data,&quot;multipart/form-data; ;charset=UTF-8; boundary=&quot;+boundary,uploadParams[4],uploadParams[5],localCallback,params,null);
	if (typeof r == &quot;string&quot;)
		displayMessage(r);
	return r;
};

// same as Saving's updateOriginal but without convertUnicodeToUTF8 calls
bidix.upload.updateOriginal = function(original, posDiv)
{
	if (!posDiv)
		posDiv = locateStoreArea(original);
	if((posDiv[0] == -1) || (posDiv[1] == -1)) {
		alert(config.messages.invalidFileError.format([localPath]));
		return;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + &quot;\n&quot; +
				store.allTiddlersAsHtml() + &quot;\n&quot; +
				original.substr(posDiv[1]);
	var newSiteTitle = getPageTitle().htmlEncode();
	revised = revised.replaceChunk(&quot;&lt;title&quot;+&quot;&gt;&quot;,&quot;&lt;/title&quot;+&quot;&gt;&quot;,&quot; &quot; + newSiteTitle + &quot; &quot;);
	revised = updateMarkupBlock(revised,&quot;PRE-HEAD&quot;,&quot;MarkupPreHead&quot;);
	revised = updateMarkupBlock(revised,&quot;POST-HEAD&quot;,&quot;MarkupPostHead&quot;);
	revised = updateMarkupBlock(revised,&quot;PRE-BODY&quot;,&quot;MarkupPreBody&quot;);
	revised = updateMarkupBlock(revised,&quot;POST-SCRIPT&quot;,&quot;MarkupPostBody&quot;);
	return revised;
};

//
// UploadLog
// 
// config.options.chkUploadLog :
//		false : no logging
//		true : logging
// config.options.txtUploadLogMaxLine :
//		-1 : no limit
//  0 :  no Log lines but UploadLog is still in place
//		n :  the last n lines are only kept
//		NaN : no limit (-1)

bidix.UploadLog = function() {
	if (!config.options.chkUploadLog) 
		return; // this.tiddler = null
	this.tiddler = store.getTiddler(&quot;UploadLog&quot;);
	if (!this.tiddler) {
		this.tiddler = new Tiddler();
		this.tiddler.title = &quot;UploadLog&quot;;
		this.tiddler.text = &quot;| !date | !user | !location | !storeUrl | !uploadDir | !toFilename | !backupdir | !origin |&quot;;
		this.tiddler.created = new Date();
		this.tiddler.modifier = config.options.txtUserName;
		this.tiddler.modified = new Date();
		store.addTiddler(this.tiddler);
	}
	return this;
};

bidix.UploadLog.prototype.addText = function(text) {
	if (!this.tiddler)
		return;
	// retrieve maxLine when we need it
	var maxLine = parseInt(config.options.txtUploadLogMaxLine,10);
	if (isNaN(maxLine))
		maxLine = -1;
	// add text
	if (maxLine != 0) 
		this.tiddler.text = this.tiddler.text + text;
	// Trunck to maxLine
	if (maxLine &gt;= 0) {
		var textArray = this.tiddler.text.split('\n');
		if (textArray.length &gt; maxLine + 1)
			textArray.splice(1,textArray.length-1-maxLine);
			this.tiddler.text = textArray.join('\n');		
	}
	// update tiddler fields
	this.tiddler.modifier = config.options.txtUserName;
	this.tiddler.modified = new Date();
	store.addTiddler(this.tiddler);
	// refresh and notifiy for immediate update
	story.refreshTiddler(this.tiddler.title);
	store.notify(this.tiddler.title, true);
};

bidix.UploadLog.prototype.startUpload = function(storeUrl, toFilename, uploadDir,  backupDir) {
	if (!this.tiddler)
		return;
	var now = new Date();
	var text = &quot;\n| &quot;;
	var filename = bidix.basename(document.location.toString());
	if (!filename) filename = '/';
	text += now.formatString(&quot;0DD/0MM/YYYY 0hh:0mm:0ss&quot;) +&quot; | &quot;;
	text += config.options.txtUserName + &quot; | &quot;;
	text += &quot;[[&quot;+filename+&quot;|&quot;+location + &quot;]] |&quot;;
	text += &quot; [[&quot; + bidix.basename(storeUrl) + &quot;|&quot; + storeUrl + &quot;]] | &quot;;
	text += uploadDir + &quot; | &quot;;
	text += &quot;[[&quot; + bidix.basename(toFilename) + &quot; | &quot; +toFilename + &quot;]] | &quot;;
	text += backupDir + &quot; |&quot;;
	this.addText(text);
};

bidix.UploadLog.prototype.endUpload = function(status) {
	if (!this.tiddler)
		return;
	this.addText(&quot; &quot;+status+&quot; |&quot;);
};

//
// Utilities
// 

bidix.checkPlugin = function(plugin, major, minor, revision) {
	var ext = version.extensions[plugin];
	if (!
		(ext  &amp;&amp; 
			((ext.major &gt; major) || 
			((ext.major == major) &amp;&amp; (ext.minor &gt; minor))  ||
			((ext.major == major) &amp;&amp; (ext.minor == minor) &amp;&amp; (ext.revision &gt;= revision))))) {
			// write error in PluginManager
			if (pluginInfo)
				pluginInfo.log.push(&quot;Requires &quot; + plugin + &quot; &quot; + major + &quot;.&quot; + minor + &quot;.&quot; + revision);
			eval(plugin); // generate an error : &quot;Error: ReferenceError: xxxx is not defined&quot;
	}
};

bidix.dirname = function(filePath) {
	if (!filePath) 
		return;
	var lastpos;
	if ((lastpos = filePath.lastIndexOf(&quot;/&quot;)) != -1) {
		return filePath.substring(0, lastpos);
	} else {
		return filePath.substring(0, filePath.lastIndexOf(&quot;\\&quot;));
	}
};

bidix.basename = function(filePath) {
	if (!filePath) 
		return;
	var lastpos;
	if ((lastpos = filePath.lastIndexOf(&quot;#&quot;)) != -1) 
		filePath = filePath.substring(0, lastpos);
	if ((lastpos = filePath.lastIndexOf(&quot;/&quot;)) != -1) {
		return filePath.substring(lastpos + 1);
	} else
		return filePath.substring(filePath.lastIndexOf(&quot;\\&quot;)+1);
};

bidix.initOption = function(name,value) {
	if (!config.options[name])
		config.options[name] = value;
};

//
// Initializations
//

// require PasswordOptionPlugin 1.0.1 or better
bidix.checkPlugin(&quot;PasswordOptionPlugin&quot;, 1, 0, 1);

// styleSheet
setStylesheet('.txtUploadStoreUrl, .txtUploadBackupDir, .txtUploadDir {width: 22em;}',&quot;uploadPluginStyles&quot;);

//optionsDesc
merge(config.optionsDesc,{
	txtUploadStoreUrl: &quot;Url of the UploadService script (default: store.php)&quot;,
	txtUploadFilename: &quot;Filename of the uploaded file (default: in index.html)&quot;,
	txtUploadDir: &quot;Relative Directory where to store the file (default: . (downloadService directory))&quot;,
	txtUploadBackupDir: &quot;Relative Directory where to backup the file. If empty no backup. (default: ''(empty))&quot;,
	txtUploadUserName: &quot;Upload Username&quot;,
	pasUploadPassword: &quot;Upload Password&quot;,
	chkUploadLog: &quot;do Logging in UploadLog (default: true)&quot;,
	txtUploadLogMaxLine: &quot;Maximum of lines in UploadLog (default: 10)&quot;
});

// Options Initializations
bidix.initOption('txtUploadStoreUrl','');
bidix.initOption('txtUploadFilename','');
bidix.initOption('txtUploadDir','');
bidix.initOption('txtUploadBackupDir','');
bidix.initOption('txtUploadUserName','');
bidix.initOption('pasUploadPassword','');
bidix.initOption('chkUploadLog',true);
bidix.initOption('txtUploadLogMaxLine','10');


// Backstage
merge(config.tasks,{
	uploadOptions: {text: &quot;upload&quot;, tooltip: &quot;Change UploadOptions and Upload&quot;, content: '&lt;&lt;uploadOptions&gt;&gt;'}
});
config.backstageTasks.push(&quot;uploadOptions&quot;);


//}}}

</pre>
</div>
<div title="ViewTemplate" creator="YourName" modifier="YourName" created="201306061200" changecount="1">
<pre>&lt;!--{{{--&gt;
&lt;div class='toolbar' macro='toolbar [[ToolbarCommands::ViewToolbar]]'&gt;&lt;/div&gt;
&lt;span macro=&quot;tiddler ReplaceDoubleClick with: alt click&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;div class='title' macro='view title'&gt;&lt;/div&gt;
&lt;div class='viewer' macro='view text wikified'&gt;&lt;/div&gt;
&lt;!--}}}--&gt;</pre>
</div>
<div title="serĉu" creator="YourName" modifier="YourName" created="201306061202" modified="201312301250" changecount="45">
<pre>&lt;&lt;tiddler HideTiddlerTags&gt;&gt;{{small smallform{
&lt;html&gt;&lt;a href='index.html' class='link'&gt;&lt;u&gt;
<a href="" download></a>
&lt;/u&gt;&lt;/a&gt;&lt;form style='display:inline;white-space:nowrap;' onsubmit='this.pavysisku.click();return false;'&gt;
&lt;table&gt;&lt;tr&gt;&lt;td style='width:33%;font-size:1.4em;'&gt;
&lt;span id='nomesearch'&gt; &lt;/span&gt; &lt;input id='formulariopesquisa' name=pattern value='' title='' autofocus&gt;
&lt;input id='botaook' type=button name=pavysisku onkeyup="xAlUtf8(this.value, 'sercxata')" value='serĉu' onclick=&quot;
var f=this.form;
var target=f.nextSibling; removeChildren(target);
var arrRestStr=[];
var outa=[];
var outb=[];
var outc=[];
var outd=[];
var oute=[];
var Couta=[];
var Coutb=[];
var Coutc=[];
var Coutd=[];
var Coute=[];
var zil=[];
var tempa;
var tempb='';
var tempc;
var tempd;
var tempe;
var tb='[^\t]*?\t';
var fpvd;
var zi='@@background-color:#7FFF00;$1@@';
var sle='&gt;|&gt;|@@margin-top:0px;padding-left:0.5em;padding-right:0.5em;font-size:1em;float:right;font-weight:normal;border:1px solid #393939;margin-top:-1px;color:#fff;background:#db4;display:block;//[[';
var slewhite='&gt;|&gt;|@@margin-top:0px;padding-left:0.5em;padding-right:0.5em;font-size:1em;float:right;font-weight:normal;border:1px solid #222;margin-top:-1px;color:#fff;background:#999;display:block;//[[';
Array.prototype.diff = function(a) {
return this.filter(function(i) {return !(a.indexOf(i) &gt; -1);});
};

var tids=store.getTaggedTiddlers('dic');
fpv = f.pattern.value.toLowerCase();
fpvd=fpv;
if(fpv.length == 0) return;
for (var t=0; t&lt;tids.length; t++) {

	arrRestStr=store.getTiddlerText(tids[t].title,'').split('\n');
//precise
	tempa=arrRestStr.filter(/./.test.bind(new RegExp('^'+fpv+'\t','i')));
	arrRestStr = arrRestStr.diff(tempa);
	//tempb=arrRestStr.filter(/./.test.bind(new RegExp('^'+'(|[^\t]*?[;\.\042])'+fpv+'[!;\.\042\t]','i')));
	//arrRestStr = arrRestStr.diff(tempb);
	tempc=arrRestStr.filter(/./.test.bind(new RegExp('^'+'(|[^\t]*?[;\.\042, ])'+fpv+'[!;\.\042, \t]','i')));
	arrRestStr = arrRestStr.diff(tempc);
	if (tempa.length+tempb.length+tempc.length&gt;0) outa = outa.concat([sle+tids[t].title+']]//@@']);
	zil = zil.concat(tempa.slice(0,100)).concat(tempc.slice(0,100)).map(function(somet){return somet.replace(new RegExp('('+fpv+')', 'gi'),zi);});
outa = outa.concat(zil); zil=[];
//now vague
	tempd=arrRestStr.filter(/./.test.bind(new RegExp('^'+'(|[^\t]*?[;\.\042, ])'+fpv,'i')));
	arrRestStr = arrRestStr.diff(tempd);
	tempe=arrRestStr.filter(/./.test.bind(new RegExp('^'+'(|[^\t]*?)'+fpv,'i')));
	arrRestStr = arrRestStr.diff(tempe);
	if (tempd.length+tempe.length&gt;0) outd = outd.concat([slewhite+tids[t].title+']]//@@']);
	zil = zil.concat(tempd.slice(0,100)).concat(tempe.slice(0,100)).map(function(somet){return somet.replace(new RegExp('('+fpv+')', 'gi'),zi);});
outd = outd.concat(zil); zil=[];
//Cout precise
	tempa=arrRestStr.filter(/./.test.bind(new RegExp('^'+tb+tb+fpv+'([!;\.\042\t,]|$)','i')));
	arrRestStr = arrRestStr.diff(tempa);
	//tempb=arrRestStr.filter(/./.test.bind(new RegExp('^'+tb+'(|[^\t]*?[;\.\042])'+fpv+'([!;\.\042\t]|$)','i')));
	//arrRestStr = arrRestStr.diff(tempb);
	tempc=arrRestStr.filter(/./.test.bind(new RegExp('^'+tb+'(|[^\t]*?[;\.\042, ])'+fpv+'([!;\.\042, \t]|$)','i')));
	arrRestStr = arrRestStr.diff(tempc);
	if (tempa.length+tempb.length+tempc.length&gt;0) Couta = Couta.concat([sle+tids[t].title+']]//@@']);
	zil = zil.concat(tempa.slice(0,100)).concat(tempc.slice(0,100)).map(function(somet){return somet.replace(new RegExp('('+fpv+')', 'gi'),zi);});
Couta = Couta.concat(zil); zil=[];
//now vague
	tempd=arrRestStr.filter(/./.test.bind(new RegExp('^'+tb+'(|[^\t]*?[;\.\042, ])'+fpv+'([!;\.\042, \t]|$)','i')));
	arrRestStr = arrRestStr.diff(tempd);
	tempe=arrRestStr.filter(/./.test.bind(new RegExp('^'+tb+'(|[^\t]*?)'+fpv,'i')));
	arrRestStr = arrRestStr.diff(tempe);
	if (tempd.length+tempe.length&gt;0) Coutd = Coutd.concat([slewhite+tids[t].title+']]//@@']);
	zil = zil.concat(tempd.slice(0,100)).concat(tempe.slice(0,100)).map(function(somet){return somet.replace(new RegExp('('+fpv+')', 'gi'),zi);});
Coutd = Coutd.concat(zil); zil=[];
	//Coute = Coute.concat(tempe.slice(0,100));
}
//concat all arrays, reformat to tw-table formatting

if (Couta.length&gt;0) Couta = ['&gt;\t&gt;\t!in translation:'].concat(Couta);
if (outa.length+Couta.length&gt;0) outa = ['&gt;\t&gt;\t!prezice trafataj'].concat(outa);

//vague search output

if (Coutd.length&gt;0) Coutd = ['&gt;\t&gt;\tbackground-color:#999;!in translation:'].concat(Coutd);
if (outd.length+Coutd.length&gt;0) outd = ['&gt;\t&gt;\tbackground-color:#999;!intervorteraj'].concat(outd);
tids = outa.concat(Couta).concat(outd).concat(Coutd).join('\n').replace(/(^|\t|$)/img,'|');

//output this fucking string!
if (tids.length&gt;3) wikify(tids,target);
&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/form&gt;&lt;div&gt;&lt;/div&gt;&lt;/html&gt;
}}}</pre>
</div>
<div title="temp" creator="YourName" modifier="YourName" created="201306061158" modified="201312290617" tags="systemConfig" changecount="3">
<pre>config.messages.backstage.open.text=&quot;&quot;;
config.messages.backstage.close.text=&quot;&quot;;
config.options.chkShowRightSidebar=false;
config.options.txtToggleRightSideBarLabelShow=&quot;jbobau&quot;;
config.options.txtToggleRightSideBarLabelHide=&quot;jbobau&quot;;
config.options.chkSinglePageMode=true;
config.options.chkSinglePagePermalink=true;
config.options.chkDisableWikiLinks=true;
//{{{ 
// hacky solution to avoid scrolling header out of view 
window.ensureVisible = function(e) {return false} 

//}}} 
</pre>
</div>
</div>
<!--POST-STOREAREA-->
<!--POST-BODY-START-->

<!--POST-BODY-END-->
<script id="jsArea" type="text/javascript">
//<![CDATA[

//
// Please note:
//
// * This code is designed to be readable but for compactness it only includes brief comments. You can see fuller comments
//   in the project repository at https://github.com/TiddlyWiki/tiddlywiki
//
// * You should never need to modify this source code directly. TiddlyWiki is carefully designed to allow deep customisation
//   without changing the core code. Please consult the development group at http://groups.google.com/group/TiddlyWikiDev
//
// JSLint directives
/*global jQuery:false, version:false */
/*jslint bitwise:true, browser:true, confusion:true, eqeq:true, evil:true, forin:true, maxerr:100, plusplus:true, regexp:true, sloppy:true, sub:true, undef:true, unparam:true, vars:true, white:true */
//--
//-- Configuration repository
//--

// Miscellaneous options
var config = {
	numRssItems: 20, // Number of items in the RSS feed
	animDuration: 400, // Duration of UI animations in milliseconds
	cascadeFast: 20, // Speed for cascade animations (higher == slower)
	cascadeSlow: 60, // Speed for EasterEgg cascade animations
	cascadeDepth: 5, // Depth of cascade animation
	locale: "en" // W3C language tag
};

// Hashmap of alternative parsers for the wikifier
config.parsers = {};

// Adaptors
config.adaptors = {};
config.defaultAdaptor = null;

// Backstage tasks
config.tasks = {};

// Annotations
config.annotations = {};

// Custom fields to be automatically added to new tiddlers
config.defaultCustomFields = {};

// Messages
config.messages = {
	messageClose: {},
	dates: {},
	tiddlerPopup: {}
};

// Options that can be set in the options panel and/or cookies
config.options = {
	chkRegExpSearch: false,
	chkCaseSensitiveSearch: false,
	chkIncrementalSearch: true,
	chkAnimate: true,
	chkSaveBackups: true,
	chkAutoSave: false,
	chkGenerateAnRssFeed: false,
	chkSaveEmptyTemplate: false,
	chkOpenInNewWindow: true,
	chkToggleLinks: false,
	chkHttpReadOnly: true,
	chkForceMinorUpdate: false,
	chkConfirmDelete: true,
	chkInsertTabs: false,
	chkUsePreForStorage: true, // Whether to use <pre> format for storage
	chkDisplayInstrumentation: false,
	txtBackupFolder: "",
	txtEditorFocus: "text",
	txtMainTab: "tabTimeline",
	txtMoreTab: "moreTabAll",
	txtMaxEditRows: "30",
	txtFileSystemCharSet: "UTF-8",
	txtTheme: ""
	};
config.optionsDesc = {};

config.optionsSource = {};

// Default tiddler templates
var DEFAULT_VIEW_TEMPLATE = 1;
var DEFAULT_EDIT_TEMPLATE = 2;
config.tiddlerTemplates = {
	1: "ViewTemplate",
	2: "EditTemplate"
};

// More messages (rather a legacy layout that should not really be like this)
config.views = {
	wikified: {
		tag: {}
	},
	editor: {
		tagChooser: {}
	}
};

// Backstage tasks
config.backstageTasks = ["save","importTask","tweak","upgrade","plugins"];

// Extensions
config.extensions = {};

// Macros; each has a 'handler' member that is inserted later
config.macros = {
	today: {},
	version: {},
	search: {sizeTextbox: 15},
	tiddler: {},
	tag: {},
	tags: {},
	tagging: {},
	timeline: {},
	allTags: {},
	list: {
		all: {},
		missing: {},
		orphans: {},
		shadowed: {},
		touched: {},
		filter: {}
	},
	closeAll: {},
	permaview: {},
	saveChanges: {},
	slider: {},
	option: {},
	options: {},
	newTiddler: {},
	newJournal: {},
	tabs: {},
	gradient: {},
	message: {},
	view: {defaultView: "text"},
	edit: {},
	tagChooser: {},
	toolbar: {},
	plugins: {},
	refreshDisplay: {},
	importTiddlers: {},
	upgrade: {
		source: "http://tiddlywiki-releases.tiddlyspace.com/upgrade",
		backupExtension: "pre.core.upgrade"
	},
	sync: {},
	annotations: {}
};

// Commands supported by the toolbar macro
config.commands = {
	closeTiddler: {},
	closeOthers: {},
	editTiddler: {},
	saveTiddler: {hideReadOnly: true},
	cancelTiddler: {},
	deleteTiddler: {hideReadOnly: true},
	permalink: {},
	references: {type: "popup"},
	jump: {type: "popup"},
	syncing: {type: "popup"},
	fields: {type: "popup"}
};

// Control of macro parameter evaluation
config.evaluateMacroParameters = "all";

// Basic regular expressions
config.textPrimitives = {
	upperLetter: "[A-Z\u00c0-\u00de\u0150\u0170]",
	lowerLetter: "[a-z0-9_\\-\u00df-\u00ff\u0151\u0171]",
	anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]",
	anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff\u0150\u0170\u0151\u0171]"
};
if(!((new RegExp("[\u0150\u0170]","g")).test("\u0150"))) {
	config.textPrimitives = {
		upperLetter: "[A-Z\u00c0-\u00de]",
		lowerLetter: "[a-z0-9_\\-\u00df-\u00ff]",
		anyLetter:   "[A-Za-z0-9_\\-\u00c0-\u00de\u00df-\u00ff]",
		anyLetterStrict: "[A-Za-z0-9\u00c0-\u00de\u00df-\u00ff]"
	};
}
config.textPrimitives.sliceSeparator = "::";
config.textPrimitives.sectionSeparator = "##";
config.textPrimitives.urlPattern = "(?:file|http|https|mailto|ftp|irc|news|data):[^\\s'\"]+(?:/|\\b)";
config.textPrimitives.unWikiLink = "~";
config.textPrimitives.wikiLink = "(?:(?:" + config.textPrimitives.upperLetter + "+" +
	config.textPrimitives.lowerLetter + "+" +
	config.textPrimitives.upperLetter +
	config.textPrimitives.anyLetter + "*)|(?:" +
	config.textPrimitives.upperLetter + "{2,}" +
	config.textPrimitives.lowerLetter + "+))";

config.textPrimitives.cssLookahead = "(?:(" + config.textPrimitives.anyLetter + "+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:(" + config.textPrimitives.anyLetter + "+):([^;\\|\\n]+);)";
config.textPrimitives.cssLookaheadRegExp = new RegExp(config.textPrimitives.cssLookahead,"mg");

config.textPrimitives.brackettedLink = "\\[\\[([^\\]]+)\\]\\]";
config.textPrimitives.titledBrackettedLink = "\\[\\[([^\\[\\]\\|]+)\\|([^\\[\\]\\|]+)\\]\\]";
config.textPrimitives.tiddlerForcedLinkRegExp = new RegExp("(?:" + config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");
config.textPrimitives.tiddlerAnyLinkRegExp = new RegExp("("+ config.textPrimitives.wikiLink + ")|(?:" +
	config.textPrimitives.titledBrackettedLink + ")|(?:" +
	config.textPrimitives.brackettedLink + ")|(?:" +
	config.textPrimitives.urlPattern + ")","mg");

config.glyphs = {
	currBrowser: null,
	browsers: [],
	codes: {}
};

//--
//-- Shadow tiddlers
//--

config.shadowTiddlers = {
	StyleSheet: "",
	MarkupPreHead: "",
	MarkupPostHead: "",
	MarkupPreBody: "",
	MarkupPostBody: "",
	TabTimeline: '<<timeline>>',
	TabAll: '<<list all>>',
	TabTags: '<<allTags excludeLists>>',
	TabMoreMissing: '<<list missing>>',
	TabMoreOrphans: '<<list orphans>>',
	TabMoreShadowed: '<<list shadowed>>',
	AdvancedOptions: '<<options>>',
	PluginManager: '<<plugins>>',
	SystemSettings: '',
	ToolbarCommands: '|~ViewToolbar|closeTiddler closeOthers +editTiddler > fields syncing permalink references jump|\n|~EditToolbar|+saveTiddler -cancelTiddler deleteTiddler|',
	WindowTitle: '<<tiddler SiteTitle>> - <<tiddler SiteSubtitle>>'
};

// Browser detection... In a very few places, there's nothing else for it but to know what browser we're using.
config.userAgent = navigator.userAgent.toLowerCase();
config.browser = {
	isIE: config.userAgent.indexOf("msie") != -1 && config.userAgent.indexOf("opera") == -1,
	isGecko: navigator.product == "Gecko" && config.userAgent.indexOf("WebKit") == -1,
	ieVersion: /MSIE (\d{1,2}.\d)/i.exec(config.userAgent), // config.browser.ieVersion[1], if it exists, will be the IE version string, eg "6.0"
	isSafari: config.userAgent.indexOf("applewebkit") != -1,
	isBadSafari: !((new RegExp("[\u0150\u0170]","g")).test("\u0150")),
	firefoxDate: /gecko\/(\d{8})/i.exec(config.userAgent), // config.browser.firefoxDate[1], if it exists, will be Firefox release date as "YYYYMMDD"
	isOpera: config.userAgent.indexOf("opera") != -1,
	isChrome: config.userAgent.indexOf('chrome') > -1,
	isLinux: config.userAgent.indexOf("linux") != -1,
	isUnix: config.userAgent.indexOf("x11") != -1,
	isMac: config.userAgent.indexOf("mac") != -1,
	isWindows: config.userAgent.indexOf("win") != -1
};

merge(config.glyphs,{
	browsers: [
		function() {return config.browser.isIE;},
		function() {return true;}
		],
	codes: {
		downTriangle: ["\u25BC","\u25BE"],
		downArrow: ["\u2193","\u2193"],
		bentArrowLeft: ["\u2190","\u21A9"],
		bentArrowRight: ["\u2192","\u21AA"]
	}
});

//--
//-- Translateable strings
//--

// Strings in "double quotes" should be translated; strings in 'single quotes' should be left alone

merge(config.options,{
	txtUserName: "YourName"});

merge(config.tasks,{
	save: {text: "save", tooltip: "Save your changes to this TiddlyWiki"},
	importTask: {text: "import", tooltip: "Import tiddlers and plugins from other TiddlyWiki files and servers", content: '<<importTiddlers>>'},
	tweak: {text: "tweak", tooltip: "Tweak the appearance and behaviour of TiddlyWiki", content: '<<options>>'},
	upgrade: {text: "upgrade", tooltip: "Upgrade TiddlyWiki core code", content: '<<upgrade>>'},
	plugins: {text: "plugins", tooltip: "Manage installed plugins", content: '<<plugins>>'}
});

// Options that can be set in the options panel and/or cookies
merge(config.optionsDesc,{
	txtUserName: "Username for signing your edits",
	chkRegExpSearch: "Enable regular expressions for searches",
	chkCaseSensitiveSearch: "Case-sensitive searching",
	chkIncrementalSearch: "Incremental key-by-key searching",
	chkAnimate: "Enable animations",
	chkSaveBackups: "Keep backup file when saving changes",
	chkAutoSave: "Automatically save changes",
	chkGenerateAnRssFeed: "Generate an RSS feed when saving changes",
	chkSaveEmptyTemplate: "Generate an empty template when saving changes",
	chkOpenInNewWindow: "Open external links in a new window",
	chkToggleLinks: "Clicking on links to open tiddlers causes them to close",
	chkHttpReadOnly: "Hide editing features when viewed over HTTP",
	chkForceMinorUpdate: "Don't update modifier username and date when editing tiddlers",
	chkConfirmDelete: "Require confirmation before deleting tiddlers",
	chkInsertTabs: "Use the tab key to insert tab characters instead of moving between fields",
	txtBackupFolder: "Name of folder to use for backups",
	txtMaxEditRows: "Maximum number of rows in edit boxes",
	txtTheme: "Name of the theme to use",
	txtFileSystemCharSet: "Default character set for saving changes (Firefox/Mozilla only)"});

merge(config.messages,{
	customConfigError: "Problems were encountered loading plugins. See PluginManager for details",
	pluginError: "Error: %0",
	pluginDisabled: "Not executed because disabled via 'systemConfigDisable' tag",
	pluginForced: "Executed because forced via 'systemConfigForce' tag",
	pluginVersionError: "Not executed because this plugin needs a newer version of TiddlyWiki",
	nothingSelected: "Nothing is selected. You must select one or more items first",
	savedSnapshotError: "It appears that this TiddlyWiki has been incorrectly saved. Please see http://www.tiddlywiki.com/#Download for details",
	subtitleUnknown: "(unknown)",
	undefinedTiddlerToolTip: "The tiddler '%0' doesn't yet exist",
	shadowedTiddlerToolTip: "The tiddler '%0' doesn't yet exist, but has a pre-defined shadow value",
	tiddlerLinkTooltip: "%0 - %1, %2",
	externalLinkTooltip: "External link to %0",
	noTags: "There are no tagged tiddlers",
	notFileUrlError: "You need to save this TiddlyWiki to a file before you can save changes",
	cantSaveError: "It's not possible to save changes. Possible reasons include:\n- your browser doesn't support saving (Firefox, Internet Explorer, Safari and Opera all work if properly configured)\n- the pathname to your TiddlyWiki file contains illegal characters\n- the TiddlyWiki HTML file has been moved or renamed",
	invalidFileError: "The original file '%0' does not appear to be a valid TiddlyWiki",
	backupSaved: "Backup saved",
	backupFailed: "Failed to save backup file",
	rssSaved: "RSS feed saved",
	rssFailed: "Failed to save RSS feed file",
	emptySaved: "Empty template saved",
	emptyFailed: "Failed to save empty template file",
	mainSaved: "Main TiddlyWiki file saved",
	mainDownload: "Downloading/saving main TiddlyWiki file",
	mainDownloadManual: "RIGHT CLICK HERE to download/save main TiddlyWiki file",
	mainFailed: "Failed to save main TiddlyWiki file. Your changes have not been saved",
	macroError: "Error in macro <<0%0>>",
	macroErrorDetails: "Error while executing macro <<0%0>>:\n%1",
	missingMacro: "No such macro",
	overwriteWarning: "A tiddler named '%0' already exists. Choose OK to overwrite it",
	unsavedChangesWarning: "WARNING! There are unsaved changes in TiddlyWiki\n\nChoose OK to save\nChoose CANCEL to discard",
	confirmExit: "--------------------------------\n\nThere are unsaved changes in TiddlyWiki. If you continue you will lose those changes\n\n--------------------------------",
	saveInstructions: "SaveChanges",
	unsupportedTWFormat: "Unsupported TiddlyWiki format '%0'",
	tiddlerSaveError: "Error when saving tiddler '%0'",
	tiddlerLoadError: "Error when loading tiddler '%0'",
	wrongSaveFormat: "Cannot save with storage format '%0'. Using standard format for save.",
	invalidFieldName: "Invalid field name %0",
	fieldCannotBeChanged: "Field '%0' cannot be changed",
	loadingMissingTiddler: "Attempting to retrieve the tiddler '%0' from the '%1' server at:\n\n'%2' in the workspace '%3'",
	upgradeDone: "The upgrade to version %0 is now complete\n\nClick 'OK' to reload the newly upgraded TiddlyWiki",
	invalidCookie: "Invalid cookie '%0'"});

merge(config.messages.messageClose,{
	text: "close",
	tooltip: "close this message area"});

config.messages.backstage = {
	open: {text: "backstage", tooltip: "Open the backstage area to perform authoring and editing tasks"},
	close: {text: "close", tooltip: "Close the backstage area"},
	prompt: "backstage: ",
	decal: {
		edit: {text: "edit", tooltip: "Edit the tiddler '%0'"}
	}
};

config.messages.listView = {
	tiddlerTooltip: "Click for the full text of this tiddler",
	previewUnavailable: "(preview not available)"
};

config.messages.dates.months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"];
config.messages.dates.days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
config.messages.dates.shortMonths = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
config.messages.dates.shortDays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
// suffixes for dates, eg "1st","2nd","3rd"..."30th","31st"
config.messages.dates.daySuffixes = ["st","nd","rd","th","th","th","th","th","th","th",
		"th","th","th","th","th","th","th","th","th","th",
		"st","nd","rd","th","th","th","th","th","th","th",
		"st"];
config.messages.dates.am = "am";
config.messages.dates.pm = "pm";

merge(config.messages.tiddlerPopup,{
	});

merge(config.views.wikified.tag,{
	labelNoTags: "no tags",
	labelTags: "tags: ",
	openTag: "Open tag '%0'",
	tooltip: "Show tiddlers tagged with '%0'",
	openAllText: "Open all",
	openAllTooltip: "Open all of these tiddlers",
	popupNone: "No other tiddlers tagged with '%0'"});

merge(config.views.wikified,{
	defaultText: "The tiddler '%0' doesn't yet exist. Double-click to create it",
	defaultModifier: "(missing)",
	shadowModifier: "(built-in shadow tiddler)",
	dateFormat: "DD MMM YYYY",
	createdPrompt: "created"});

merge(config.views.editor,{
	tagPrompt: "Type tags separated with spaces, [[use double square brackets]] if necessary, or add existing",
	defaultText: "Type the text for '%0'"});

merge(config.views.editor.tagChooser,{
	text: "tags",
	tooltip: "Choose existing tags to add to this tiddler",
	popupNone: "There are no tags defined",
	tagTooltip: "Add the tag '%0'"});

merge(config.messages,{
	sizeTemplates:
		[
		{unit: 1024*1024*1024, template: "%0\u00a0GB"},
		{unit: 1024*1024, template: "%0\u00a0MB"},
		{unit: 1024, template: "%0\u00a0KB"},
		{unit: 1, template: "%0\u00a0B"}
		]});

merge(config.macros.search,{
	label: "search",
	prompt: "Search this TiddlyWiki",
	placeholder: "",
	accessKey: "F",
	successMsg: "%0 tiddlers found matching %1",
	failureMsg: "No tiddlers found matching %0"});

merge(config.macros.tagging,{
	label: "tagging: ",
	labelNotTag: "not tagging",
	tooltip: "List of tiddlers tagged with '%0'"});

merge(config.macros.timeline,{
	dateFormat: "DD MMM YYYY"});

merge(config.macros.allTags,{
	tooltip: "Show tiddlers tagged with '%0'",
	noTags: "There are no tagged tiddlers"});

config.macros.list.all.prompt = "All tiddlers in alphabetical order";
config.macros.list.missing.prompt = "Tiddlers that have links to them but are not defined";
config.macros.list.orphans.prompt = "Tiddlers that are not linked to from any other tiddlers";
config.macros.list.shadowed.prompt = "Tiddlers shadowed with default contents";
config.macros.list.touched.prompt = "Tiddlers that have been modified locally";

merge(config.macros.closeAll,{
	label: "close all",
	prompt: "Close all displayed tiddlers (except any that are being edited)"});

merge(config.macros.permaview,{
	label: "permaview",
	prompt: "Link to an URL that retrieves all the currently displayed tiddlers"});

merge(config.macros.saveChanges,{
	label: "save changes",
	prompt: "Save all tiddlers to create a new TiddlyWiki",
	accessKey: "S"});

merge(config.macros.newTiddler,{
	label: "new tiddler",
	prompt: "Create a new tiddler",
	title: "New Tiddler",
	accessKey: "N"});

merge(config.macros.newJournal,{
	label: "new journal",
	prompt: "Create a new tiddler from the current date and time",
	accessKey: "J"});

merge(config.macros.options,{
	wizardTitle: "Tweak advanced options",
	step1Title: "These options are saved in cookies in your browser",
	step1Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='false' name='chkUnknown'>Show unknown options</input>",
	unknownDescription: "//(unknown)//",
	listViewTemplate: {
		columns: [
			{name: 'Option', field: 'option', title: "Option", type: 'String'},
			{name: 'Description', field: 'description', title: "Description", type: 'WikiText'},
			{name: 'Name', field: 'name', title: "Name", type: 'String'}
			],
		rowClasses: [
			{className: 'lowlight', field: 'lowlight'}
			]}
	});

merge(config.macros.plugins,{
	wizardTitle: "Manage plugins",
	step1Title: "Currently loaded plugins",
	step1Html: "<input type='hidden' name='markList'></input>", // DO NOT TRANSLATE
	skippedText: "(This plugin has not been executed because it was added since startup)",
	noPluginText: "There are no plugins installed",
	confirmDeleteText: "Are you sure you want to delete these plugins:\n\n%0",
	removeLabel: "remove systemConfig tag",
	removePrompt: "Remove systemConfig tag",
	deleteLabel: "delete",
	deletePrompt: "Delete these tiddlers forever",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Forced', field: 'forced', title: "Forced", tag: 'systemConfigForce', type: 'TagCheckbox'},
			{name: 'Disabled', field: 'disabled', title: "Disabled", tag: 'systemConfigDisable', type: 'TagCheckbox'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]},
	listViewTemplateReadOnly: {
		columns: [
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Description', field: 'Description', title: "Description", type: 'String'},
			{name: 'Version', field: 'Version', title: "Version", type: 'String'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Executed', field: 'executed', title: "Loaded", type: 'Boolean', trueText: "Yes", falseText: "No"},
			{name: 'Startup Time', field: 'startupTime', title: "Startup Time", type: 'String'},
			{name: 'Error', field: 'error', title: "Status", type: 'Boolean', trueText: "Error", falseText: "OK"},
			{name: 'Log', field: 'log', title: "Log", type: 'StringList'}
			],
		rowClasses: [
			{className: 'error', field: 'error'},
			{className: 'warning', field: 'warning'}
			]}
	});

merge(config.macros.toolbar,{
	moreLabel: "more",
	morePrompt: "Show additional commands",
	lessLabel: "less",
	lessPrompt: "Hide additional commands",
	separator: "|"
	});

merge(config.macros.refreshDisplay,{
	label: "refresh",
	prompt: "Redraw the entire TiddlyWiki display"
	});

merge(config.macros.importTiddlers,{
	readOnlyWarning: "You cannot import into a read-only TiddlyWiki file. Try opening it from a file:// URL",
	wizardTitle: "Import tiddlers from another file or server",
	step1Title: "Step 1: Locate the server or TiddlyWiki file",
	step1Html: "Specify the type of the server: <select name='selTypes'><option value=''>Choose...</option></select><br>Enter the URL or pathname here: <input type='text' size=50 name='txtPath'><br>...or browse for a file: <input type='file' size=50 name='txtBrowse'><br><hr>...or select a pre-defined feed: <select name='selFeeds'><option value=''>Choose...</option></select>",
	openLabel: "open",
	openPrompt: "Open the connection to this file or server",
	statusOpenHost: "Opening the host",
	statusGetWorkspaceList: "Getting the list of available workspaces",
	step2Title: "Step 2: Choose the workspace",
	step2Html: "Enter a workspace name: <input type='text' size=50 name='txtWorkspace'><br>...or select a workspace: <select name='selWorkspace'><option value=''>Choose...</option></select>",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel this import",
	statusOpenWorkspace: "Opening the workspace",
	statusGetTiddlerList: "Getting the list of available tiddlers",
	errorGettingTiddlerList: "Error getting list of tiddlers, click Cancel to try again",
	errorGettingTiddlerListHttp404: "Error retrieving tiddlers from url, please ensure the url exists. Click Cancel to try again.",
	errorGettingTiddlerListHttp: "Error retrieving tiddlers from url, please ensure this url exists and is <a href='http://enable-cors.org/'>CORS</a> enabled",
	errorGettingTiddlerListFile: "Error retrieving tiddlers from local file, please make sure the file is in the same directory as your TiddlyWiki. Click Cancel to try again.",
	step3Title: "Step 3: Choose the tiddlers to import",
	step3Html: "<input type='hidden' name='markList'></input><br><input type='checkbox' checked='true' name='chkSync'>Keep these tiddlers linked to this server so that you can synchronise subsequent changes</input><br><input type='checkbox' name='chkSave'>Save the details of this server in a 'systemServer' tiddler called:</input> <input type='text' size=25 name='txtSaveTiddler'>",
	importLabel: "import",
	importPrompt: "Import these tiddlers",
	confirmOverwriteText: "Are you sure you want to overwrite these tiddlers:\n\n%0",
	step4Title: "Step 4: Importing %0 tiddler(s)",
	step4Html: "<input type='hidden' name='markReport'></input>", // DO NOT TRANSLATE
	doneLabel: "done",
	donePrompt: "Close this wizard",
	statusDoingImport: "Importing tiddlers",
	statusDoneImport: "All tiddlers imported",
	systemServerNamePattern: "%2 on %1",
	systemServerNamePatternNoWorkspace: "%1",
	confirmOverwriteSaveTiddler: "The tiddler '%0' already exists. Click 'OK' to overwrite it with the details of this server, or 'Cancel' to leave it unchanged",
	serverSaveTemplate: "|''Type:''|%0|\n|''URL:''|%1|\n|''Workspace:''|%2|\n\nThis tiddler was automatically created to record the details of this server",
	serverSaveModifier: "(System)",
	listViewTemplate: {
		columns: [
			{name: 'Selected', field: 'Selected', rowName: 'title', type: 'Selector'},
			{name: 'Tiddler', field: 'tiddler', title: "Tiddler", type: 'Tiddler'},
			{name: 'Size', field: 'size', tiddlerLink: 'size', title: "Size", type: 'Size'},
			{name: 'Tags', field: 'tags', title: "Tags", type: 'Tags'}
			],
		rowClasses: [
			]}
	});

merge(config.macros.upgrade,{
	wizardTitle: "Upgrade TiddlyWiki core code",
	step1Title: "Update or repair this TiddlyWiki to the latest release",
	step1Html: "You are about to upgrade to the latest release of the TiddlyWiki core code (from <a href='%0' class='externalLink' target='_blank'>%1</a>). Your content will be preserved across the upgrade.<br><br>Note that core upgrades have been known to interfere with older plugins. If you run into problems with the upgraded file, see <a href='http://www.tiddlywiki.org/wiki/CoreUpgrades' class='externalLink' target='_blank'>http://www.tiddlywiki.org/wiki/CoreUpgrades</a>",
	errorCantUpgrade: "Unable to upgrade this TiddlyWiki. You can only perform upgrades on TiddlyWiki files stored locally",
	errorNotSaved: "You must save changes before you can perform an upgrade",
	step2Title: "Confirm the upgrade details",
	step2Html_downgrade: "You are about to downgrade to TiddlyWiki version %0 from %1.<br><br>Downgrading to an earlier version of the core code is not recommended",
	step2Html_restore: "This TiddlyWiki appears to be already using the latest version of the core code (%0).<br><br>You can continue to upgrade anyway to ensure that the core code hasn't been corrupted or damaged",
	step2Html_upgrade: "You are about to upgrade to TiddlyWiki version %0 from %1",
	upgradeLabel: "upgrade",
	upgradePrompt: "Prepare for the upgrade process",
	statusPreparingBackup: "Preparing backup",
	statusSavingBackup: "Saving backup file",
	errorSavingBackup: "There was a problem saving the backup file",
	statusLoadingCore: "Loading core code",
	errorLoadingCore: "Error loading the core code",
	errorCoreFormat: "Error with the new core code",
	statusSavingCore: "Saving the new core code",
	statusReloadingCore: "Reloading the new core code",
	startLabel: "start",
	startPrompt: "Start the upgrade process",
	cancelLabel: "cancel",
	cancelPrompt: "Cancel the upgrade process",
	step3Title: "Upgrade cancelled",
	step3Html: "You have cancelled the upgrade process"
	});

merge(config.macros.annotations,{
	});

merge(config.commands.closeTiddler,{
	text: "close",
	tooltip: "Close this tiddler"});

merge(config.commands.closeOthers,{
	text: "close others",
	tooltip: "Close all other tiddlers"});

merge(config.commands.editTiddler,{
	text: "edit",
	tooltip: "Edit this tiddler",
	readOnlyText: "view",
	readOnlyTooltip: "View the source of this tiddler"});

merge(config.commands.saveTiddler,{
	text: "done",
	tooltip: "Save changes to this tiddler"});

merge(config.commands.cancelTiddler,{
	text: "cancel",
	tooltip: "Undo changes to this tiddler",
	warning: "Are you sure you want to abandon your changes to '%0'?",
	readOnlyText: "done",
	readOnlyTooltip: "View this tiddler normally"});

merge(config.commands.deleteTiddler,{
	text: "delete",
	tooltip: "Delete this tiddler",
	warning: "Are you sure you want to delete '%0'?"});

merge(config.commands.permalink,{
	text: "permalink",
	tooltip: "Permalink for this tiddler"});

merge(config.commands.references,{
	text: "references",
	tooltip: "Show tiddlers that link to this one",
	popupNone: "No references"});

merge(config.commands.jump,{
	text: "jump",
	tooltip: "Jump to another open tiddler"});

merge(config.commands.fields,{
	text: "fields",
	tooltip: "Show the extended fields of this tiddler",
	emptyText: "There are no extended fields for this tiddler",
	listViewTemplate: {
		columns: [
			{name: 'Field', field: 'field', title: "Field", type: 'String'},
			{name: 'Value', field: 'value', title: "Value", type: 'String'}
			],
		rowClasses: [
			],
		buttons: [
			]}});

merge(config.shadowTiddlers,{
	DefaultTiddlers: "[[GettingStarted]]",
	MainMenu: "[[GettingStarted]]",
	SiteTitle: "My TiddlyWiki",
	SiteSubtitle: "a reusable non-linear personal web notebook",
	SiteUrl: "",
	SideBarOptions: '<<search>><<closeAll>><<permaview>><<newTiddler>><<newJournal "DD MMM YYYY" "journal">><<saveChanges>><<slider chkSliderOptionsPanel OptionsPanel "options \u00bb" "Change TiddlyWiki advanced options">>',
	SideBarTabs: '<<tabs txtMainTab "Timeline" "Timeline" TabTimeline "All" "All tiddlers" TabAll "Tags" "All tags" TabTags "More" "More lists" TabMore>>',
	TabMore: '<<tabs txtMoreTab "Missing" "Missing tiddlers" TabMoreMissing "Orphans" "Orphaned tiddlers" TabMoreOrphans "Shadowed" "Shadowed tiddlers" TabMoreShadowed>>'
	});

merge(config.annotations,{
	AdvancedOptions: "This shadow tiddler provides access to several advanced options",
	ColorPalette: "These values in this shadow tiddler determine the colour scheme of the ~TiddlyWiki user interface",
	DefaultTiddlers: "The tiddlers listed in this shadow tiddler will be automatically displayed when ~TiddlyWiki starts up",
	EditTemplate: "The HTML template in this shadow tiddler determines how tiddlers look while they are being edited",
	GettingStarted: "This shadow tiddler provides basic usage instructions",
	ImportTiddlers: "This shadow tiddler provides access to importing tiddlers",
	MainMenu: "This shadow tiddler is used as the contents of the main menu in the left-hand column of the screen",
	MarkupPreHead: "This tiddler is inserted at the top of the <head> section of the TiddlyWiki HTML file",
	MarkupPostHead: "This tiddler is inserted at the bottom of the <head> section of the TiddlyWiki HTML file",
	MarkupPreBody: "This tiddler is inserted at the top of the <body> section of the TiddlyWiki HTML file",
	MarkupPostBody: "This tiddler is inserted at the end of the <body> section of the TiddlyWiki HTML file immediately after the script block",
	OptionsPanel: "This shadow tiddler is used as the contents of the options panel slider in the right-hand sidebar",
	PageTemplate: "The HTML template in this shadow tiddler determines the overall ~TiddlyWiki layout",
	PluginManager: "This shadow tiddler provides access to the plugin manager",
	SideBarOptions: "This shadow tiddler is used as the contents of the option panel in the right-hand sidebar",
	SideBarTabs: "This shadow tiddler is used as the contents of the tabs panel in the right-hand sidebar",
	SiteSubtitle: "This shadow tiddler is used as the second part of the page title",
	SiteTitle: "This shadow tiddler is used as the first part of the page title",
	SiteUrl: "This shadow tiddler should be set to the full target URL for publication",
	StyleSheetColors: "This shadow tiddler contains CSS definitions related to the color of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheet: "This tiddler can contain custom CSS definitions",
	StyleSheetLayout: "This shadow tiddler contains CSS definitions related to the layout of page elements. ''DO NOT EDIT THIS TIDDLER'', instead make your changes in the StyleSheet shadow tiddler",
	StyleSheetLocale: "This shadow tiddler contains CSS definitions related to the translation locale",
	StyleSheetPrint: "This shadow tiddler contains CSS definitions for printing",
	SystemSettings: "This tiddler is used to store configuration options for this TiddlyWiki document",
	TabAll: "This shadow tiddler contains the contents of the 'All' tab in the right-hand sidebar",
	TabMore: "This shadow tiddler contains the contents of the 'More' tab in the right-hand sidebar",
	TabMoreMissing: "This shadow tiddler contains the contents of the 'Missing' tab in the right-hand sidebar",
	TabMoreOrphans: "This shadow tiddler contains the contents of the 'Orphans' tab in the right-hand sidebar",
	TabMoreShadowed: "This shadow tiddler contains the contents of the 'Shadowed' tab in the right-hand sidebar",
	TabTags: "This shadow tiddler contains the contents of the 'Tags' tab in the right-hand sidebar",
	TabTimeline: "This shadow tiddler contains the contents of the 'Timeline' tab in the right-hand sidebar",
	ToolbarCommands: "This shadow tiddler determines which commands are shown in tiddler toolbars",
	ViewTemplate: "The HTML template in this shadow tiddler determines how tiddlers look"
	});
//--
//-- Main
//--

var params = null; // Command line parameters
var store = null; // TiddlyWiki storage
var story = null; // Main story
var formatter = null; // Default formatters for the wikifier
var anim = typeof Animator == "function" ? new Animator() : null; // Animation engine
var readOnly = false; // Whether we're in readonly mode
var highlightHack = null; // Embarrassing hack department...
var hadConfirmExit = false; // Don't warn more than once
var safeMode = false; // Disable all plugins and cookies
var showBackstage; // Whether to include the backstage area
var installedPlugins = []; // Information filled in when plugins are executed
var startingUp = false; // Whether we're in the process of starting up
var pluginInfo,tiddler; // Used to pass information to plugins in loadPlugins()

// Whether this file can be saved back to the same location [Preemption]
window.allowSave = window.allowSave || function(l)
{
	return true;
}

// Whether this file is being viewed locally
window.isLocal = function()
{
	return (document.location.protocol == "file:");
}

// Whether to use the JavaSaver applet
var useJavaSaver = window.isLocal() && (config.browser.isSafari || config.browser.isOpera);

// Allow preemption code a chance to tweak config and useJavaSaver [Preemption]
if (window.tweakConfig) window.tweakConfig();

if(!window || !window.console) {
	console = {tiddlywiki:true,log:function(message) {displayMessage(message);}};
}

// Starting up
function main()
{
	window.originalHTML=recreateOriginal();

	var t10,t9,t8,t7,t6,t5,t4,t3,t2,t1,t0 = new Date();
	startingUp = true;
	var doc = jQuery(document);
	jQuery.noConflict();
	window.onbeforeunload = function(e) {if(window.confirmExit) return confirmExit();};
	params = getParameters();
	if(params)
		params = params.parseParams("open",null,false);
	store = new TiddlyWiki({config:config});
	invokeParamifier(params,"oninit");
	story = new Story("tiddlerDisplay","tiddler");
	addEvent(document,"click",Popup.onDocumentClick);
	saveTest();
	var s;
	for(s=0; s<config.notifyTiddlers.length; s++)
		store.addNotification(config.notifyTiddlers[s].name,config.notifyTiddlers[s].notify);
	t1 = new Date();
	loadShadowTiddlers();
	doc.trigger("loadShadows");
	t2 = new Date();
	store.loadFromDiv("storeArea","store",true);
	doc.trigger("loadTiddlers");
	loadOptions();
	t3 = new Date();
	invokeParamifier(params,"onload");
	t4 = new Date();
	readOnly = window.isLocal() ? false : config.options.chkHttpReadOnly;
	var pluginProblem = loadPlugins("systemConfig");
	doc.trigger("loadPlugins");
	t5 = new Date();
	formatter = new Formatter(config.formatters);
	invokeParamifier(params,"onconfig");
	story.switchTheme(config.options.txtTheme);
	showBackstage = showBackstage !== undefined ? showBackstage : !readOnly;
	t6 = new Date();
	var m;
	for(m in config.macros) {
		if(config.macros[m].init)
			config.macros[m].init();
	}
	t7 = new Date();
	store.notifyAll();
	t8 = new Date();
	restart();
	refreshDisplay();
	t9 = new Date();
	if(pluginProblem) {
		story.displayTiddler(null,"PluginManager");
		displayMessage(config.messages.customConfigError);
	}
	if(showBackstage)
		backstage.init();
	t10 = new Date();
	if(config.options.chkDisplayInstrumentation) {
		displayMessage("LoadShadows " + (t2-t1) + " ms");
		displayMessage("LoadFromDiv " + (t3-t2) + " ms");
		displayMessage("LoadPlugins " + (t5-t4) + " ms");
		displayMessage("Macro init " + (t7-t6) + " ms");
		displayMessage("Notify " + (t8-t7) + " ms");
		displayMessage("Restart " + (t9-t8) + " ms");
		displayMessage("Total: " + (t10-t0) + " ms");
	}
	startingUp = false;
	doc.trigger("startup");
}

// Called on unload. All functions called conditionally since they themselves may have been unloaded.
function unload()
{
	if(window.checkUnsavedChanges)
		checkUnsavedChanges();
	if(window.scrubNodes)
		scrubNodes(document.body);
}

// Restarting
function restart()
{
	invokeParamifier(params,"onstart");
	if(story.isEmpty()) {
		story.displayDefaultTiddlers();
	}
	window.scrollTo(0,0);
}

function saveTest()
{
	var s = document.getElementById("saveTest");
	if(s.hasChildNodes())
		alert(config.messages.savedSnapshotError);
	s.appendChild(document.createTextNode("savetest"));
}

function loadShadowTiddlers()
{
	var shadows = new TiddlyWiki();
	shadows.loadFromDiv("shadowArea","shadows",true);
	shadows.forEachTiddler(function(title,tiddler){config.shadowTiddlers[title] = tiddler.text;});
}

function loadPlugins(tag)
{
	if(safeMode)
		return false;
	var tiddlers = store.getTaggedTiddlers(tag);
	tiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : 1);});
	var toLoad = [];
	var nLoaded = 0;
	var map = {};
	var nPlugins = tiddlers.length;
	installedPlugins = [];
	var i;
	for(i=0; i<nPlugins; i++) {
		var p = getPluginInfo(tiddlers[i]);
		installedPlugins[i] = p;
		var n = p.Name || p.title;
		if(n)
			map[n] = p;
		n = p.Source;
		if(n)
			map[n] = p;
	}
	var visit = function(p) {
		if(!p || p.done)
			return;
		p.done = 1;
		var reqs = p.Requires;
		if(reqs) {
			reqs = reqs.readBracketedList();
			var i;
			for(i=0; i<reqs.length; i++)
				visit(map[reqs[i]]);
		}
		toLoad.push(p);
	};
	for(i=0; i<nPlugins; i++)
		visit(installedPlugins[i]);
	for(i=0; i<toLoad.length; i++) {
		p = toLoad[i];
		pluginInfo = p;
		tiddler = p.tiddler;
		if(isPluginExecutable(p)) {
			if(isPluginEnabled(p)) {
				p.executed = true;
				var startTime = new Date();
				try {
					if(tiddler.text)
						window.eval(tiddler.text);
					nLoaded++;
				} catch(ex) {
					p.log.push(config.messages.pluginError.format([exceptionText(ex)]));
					p.error = true;
					if(!console.tiddlywiki) {
						console.log("error evaluating " + tiddler.title, ex);
					}
				}
				pluginInfo.startupTime = String((new Date()) - startTime) + "ms";
			} else {
				nPlugins--;
			}
		} else {
			p.warning = true;
		}
	}
	return nLoaded != nPlugins;
}

function getPluginInfo(tiddler)
{
	var p = store.getTiddlerSlices(tiddler.title,["Name","Description","Version","Requires","CoreVersion","Date","Source","Author","License","Browsers"]);
	p.tiddler = tiddler;
	p.title = tiddler.title;
	p.log = [];
	return p;
}

// Check that a particular plugin is valid for execution
function isPluginExecutable(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigForce")) {
		plugin.log.push(config.messages.pluginForced);
		return true;
	}
	if(plugin["CoreVersion"]) {
		var coreVersion = plugin["CoreVersion"].split(".");
		var w = parseInt(coreVersion[0],10) - version.major;
		if(w == 0 && coreVersion[1])
			w = parseInt(coreVersion[1],10) - version.minor;
		if(w == 0 && coreVersion[2])
			w = parseInt(coreVersion[2],10) - version.revision;
		if(w > 0) {
			plugin.log.push(config.messages.pluginVersionError);
			return false;
		}
	}
	return true;
}

function isPluginEnabled(plugin)
{
	if(plugin.tiddler.isTagged("systemConfigDisable")) {
		plugin.log.push(config.messages.pluginDisabled);
		return false;
	}
	return true;
}

//--
//-- Paramifiers
//--

function getParameters()
{
	var p = null;
	if(window.location.hash) {
		p = decodeURIComponent(window.location.hash.substr(1));
		if(config.browser.firefoxDate != null && config.browser.firefoxDate[1] < "20051111")
			p = convertUTF8ToUnicode(p);
	}
	return p;
}

function invokeParamifier(params,handler)
{
	if(!params || params.length == undefined || params.length <= 1)
		return;
	var i;
	for(i=1; i<params.length; i++) {
		var p = config.paramifiers[params[i].name];
		if(p && p[handler] instanceof Function)
			p[handler](params[i].value);
		else {
			var h = config.optionHandlers[params[i].name.substr(0,3)];
			if(h && h.set instanceof Function)
				h.set(params[i].name,params[i].value);
		}
	}
}

config.paramifiers = {};

config.paramifiers.start = {
	oninit: function(v) {
		safeMode = v.toLowerCase() == "safe";
	}
};

config.paramifiers.open = {
	onstart: function(v) {
		if(!readOnly || store.tiddlerExists(v) || store.isShadowTiddler(v))
			story.displayTiddler("bottom",v,null,false,null);
	}
};

config.paramifiers.story = {
	onstart: function(v) {
		var list = store.getTiddlerText(v,"").parseParams("open",null,false);
		invokeParamifier(list,"onstart");
	}
};

config.paramifiers.search = {
	onstart: function(v) {
		story.search(v,false,false);
	}
};

config.paramifiers.searchRegExp = {
	onstart: function(v) {
		story.prototype.search(v,false,true);
	}
};

config.paramifiers.tag = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers("[tag["+v+"]]"),null,false,null);
	}
};

config.paramifiers.newTiddler = {
	onstart: function(v) {
		var args = v.parseParams("anon", null, null)[0];
		var title = args.title ? args.title[0] : v;
		var customFields = args.fields ? args.fields[0] : null;
		if(!readOnly) {
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,customFields);
			story.focusTiddler(title,"text");
			var i,tags = args.tag || [];
			for(i=0;i<tags.length;i++) {
				story.setTiddlerTag(title,tags[i],+1);
			}
		}
	}
};

config.paramifiers.newJournal = {
	onstart: function(v) {
		if(!readOnly) {
			var now = new Date();
			var title = now.formatString(v.trim());
			story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE);
			story.focusTiddler(title,"text");
		}
	}
};

config.paramifiers.readOnly = {
	onconfig: function(v) {
		var p = v.toLowerCase();
		readOnly = p == "yes" ? true : (p == "no" ? false : readOnly);
	}
};

config.paramifiers.theme = {
	onconfig: function(v) {
		story.switchTheme(v);
	}
};

config.paramifiers.upgrade = {
	onstart: function(v) {
		upgradeFrom(v);
	}
};

config.paramifiers.recent= {
	onstart: function(v) {
		var titles=[];
		var i,tiddlers=store.getTiddlers("modified","excludeLists").reverse();
		for(i=0; i<v && i<tiddlers.length; i++)
			titles.push(tiddlers[i].title);
		story.displayTiddlers(null,titles);
	}
};

config.paramifiers.filter = {
	onstart: function(v) {
		story.displayTiddlers(null,store.filterTiddlers(v),null,false);
	}
};

//--
//-- Formatter helpers
//--

function Formatter(formatters)
{
	var n;
	this.formatters = [];
	var pattern = [];
	for(n=0; n<formatters.length; n++) {
		pattern.push("(" + formatters[n].match + ")");
		this.formatters.push(formatters[n]);
	}
	this.formatterRegExp = new RegExp(pattern.join("|"),"mg");
}

config.formatterHelpers = {

	createElementAndWikify: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,this.element),this.termRegExp);
	},

	inlineCssHelper: function(w)
	{
		var styles = [];
		config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var s,v;
			if(lookaheadMatch[1]) {
				s = lookaheadMatch[1].unDash();
				v = lookaheadMatch[2];
			} else {
				s = lookaheadMatch[3].unDash();
				v = lookaheadMatch[4];
			}
			if(s=="bgcolor")
				s = "backgroundColor";
			if(s=="float")
				s = "cssFloat";
			styles.push({style: s, value: v});
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
			config.textPrimitives.cssLookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = config.textPrimitives.cssLookaheadRegExp.exec(w.source);
		}
		return styles;
	},

	applyCssHelper: function(e,styles)
	{
		var t;
		for(t=0; t< styles.length; t++) {
			try {
				e.style[styles[t].style] = styles[t].value;
			} catch (ex) {
			}
		}
	},

	enclosedTextHelper: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var text = lookaheadMatch[1];
			if(config.browser.isIE && (config.browser.ieVersion[1] < 10))
				text = text.replace(/\n/g,"\r");
			createTiddlyElement(w.output,this.element,null,null,text);
			w.nextMatch = lookaheadMatch.index + lookaheadMatch[0].length;
		}
	},

	isExternalLink: function(link)
	{
		if(store.tiddlerExists(link) || store.isShadowTiddler(link)) {
			return false;
		}
		var urlRegExp = new RegExp(config.textPrimitives.urlPattern,"mg");
		if(urlRegExp.exec(link)) {
			return true;
		}
		if(link.indexOf(".")!=-1 || link.indexOf("\\")!=-1 || link.indexOf("/")!=-1 || link.indexOf("#")!=-1) {
			return true;
		}
		return false;
	}

};

//--
//-- Standard formatters
//--

config.formatters = [
{
	name: "table",
	match: "^\\|(?:[^\\n]*)\\|(?:[fhck]?)$",
	lookaheadRegExp: /^\|([^\n]*)\|([fhck]?)$/mg,
	rowTermRegExp: /(\|(?:[fhck]?)$\n?)/mg,
	cellRegExp: /(?:\|([^\n\|]*)\|)|(\|[fhck]?$\n?)/mg,
	cellTermRegExp: /((?:\x20*)\|)/mg,
	rowTypes: {"c":"caption", "h":"thead", "":"tbody", "f":"tfoot"},
	handler: function(w)
	{
		var table = createTiddlyElement(w.output,"table",null,"twtable");
		var prevColumns = [];
		var currRowType = null;
		var rowContainer;
		var rowCount = 0;
		var onmouseover = function() {jQuery(this).addClass("hoverRow");};
		var onmouseout = function() {jQuery(this).removeClass("hoverRow");};
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			var nextRowType = lookaheadMatch[2];
			if(nextRowType == "k") {
				table.className = lookaheadMatch[1];
				w.nextMatch += lookaheadMatch[0].length+1;
			} else {
				if(nextRowType != currRowType) {
					rowContainer = createTiddlyElement(table,this.rowTypes[nextRowType]);
					currRowType = nextRowType;
				}
				if(currRowType == "c") {
					// Caption
					w.nextMatch++;
					if(rowContainer != table.firstChild)
						table.insertBefore(rowContainer,table.firstChild);
					rowContainer.setAttribute("align",rowCount == 0?"top":"bottom");
					w.subWikifyTerm(rowContainer,this.rowTermRegExp);
				} else {
					var theRow = createTiddlyElement(rowContainer,"tr",null,rowCount%2?"oddRow":"evenRow");
					theRow.onmouseover = onmouseover;
					theRow.onmouseout = onmouseout;
					this.rowHandler(w,theRow,prevColumns);
					rowCount++;
				}
			}
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	},
	rowHandler: function(w,e,prevColumns)
	{
		var col = 0;
		var colSpanCount = 1;
		var prevCell = null;
		this.cellRegExp.lastIndex = w.nextMatch;
		var cellMatch = this.cellRegExp.exec(w.source);
		while(cellMatch && cellMatch.index == w.nextMatch) {
			if(cellMatch[1] == "~") {
				// Rowspan
				var last = prevColumns[col];
				if(last) {
					last.rowSpanCount++;
					last.element.setAttribute("rowspan",last.rowSpanCount);
					last.element.setAttribute("rowSpan",last.rowSpanCount); // Needed for IE
					last.element.valign = "center";
					if(colSpanCount > 1) {
						last.element.setAttribute("colspan",colSpanCount);
						last.element.setAttribute("colSpan",colSpanCount); // Needed for IE
						colSpanCount = 1;
					}
				}
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[1] == ">") {
				// Colspan
				colSpanCount++;
				w.nextMatch = this.cellRegExp.lastIndex-1;
			} else if(cellMatch[2]) {
				// End of row
				if(prevCell && colSpanCount > 1) {
					prevCell.setAttribute("colspan",colSpanCount);
					prevCell.setAttribute("colSpan",colSpanCount); // Needed for IE
				}
				w.nextMatch = this.cellRegExp.lastIndex;
				break;
			} else {
				// Cell
				w.nextMatch++;
				var styles = config.formatterHelpers.inlineCssHelper(w);
				var spaceLeft = false;
				var chr = w.source.substr(w.nextMatch,1);
				while(chr == " ") {
					spaceLeft = true;
					w.nextMatch++;
					chr = w.source.substr(w.nextMatch,1);
				}
				var cell;
				if(chr == "!") {
					cell = createTiddlyElement(e,"th");
					w.nextMatch++;
				} else {
					cell = createTiddlyElement(e,"td");
				}
				prevCell = cell;
				prevColumns[col] = {rowSpanCount:1,element:cell};
				if(colSpanCount > 1) {
					cell.setAttribute("colspan",colSpanCount);
					cell.setAttribute("colSpan",colSpanCount); // Needed for IE
					colSpanCount = 1;
				}
				config.formatterHelpers.applyCssHelper(cell,styles);
				w.subWikifyTerm(cell,this.cellTermRegExp);
				if(w.matchText.substr(w.matchText.length-2,1) == " ") // spaceRight
					cell.align = spaceLeft ? "center" : "left";
				else if(spaceLeft)
					cell.align = "right";
				w.nextMatch--;
			}
			col++;
			this.cellRegExp.lastIndex = w.nextMatch;
			cellMatch = this.cellRegExp.exec(w.source);
		}
	}
},

{
	name: "heading",
	match: "^!{1,6}",
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		w.subWikifyTerm(createTiddlyElement(w.output,"h" + w.matchLength),this.termRegExp);
	}
},

{
	name: "list",
	match: "^(?:[\\*#;:]+)",
	lookaheadRegExp: /^(?:(?:(\*)|(#)|(;)|(:))+)/mg,
	termRegExp: /(\n)/mg,
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0, currType = null;
		var listLevel, listType, itemType, baseType;
		w.nextMatch = w.matchStart;
		this.lookaheadRegExp.lastIndex = w.nextMatch;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		while(lookaheadMatch && lookaheadMatch.index == w.nextMatch) {
			if(lookaheadMatch[1]) {
				listType = "ul";
				itemType = "li";
			} else if(lookaheadMatch[2]) {
				listType = "ol";
				itemType = "li";
			} else if(lookaheadMatch[3]) {
				listType = "dl";
				itemType = "dt";
			} else if(lookaheadMatch[4]) {
				listType = "dl";
				itemType = "dd";
			}
			if(!baseType)
				baseType = listType;
			listLevel = lookaheadMatch[0].length;
			w.nextMatch += lookaheadMatch[0].length;
			var t;
			if(listLevel > currLevel) {
				for(t=currLevel; t<listLevel; t++) {
					var target = (currLevel == 0) ? stack[stack.length-1] : stack[stack.length-1].lastChild;
					stack.push(createTiddlyElement(target,listType));
				}
			} else if(listType!=baseType && listLevel==1) {
				w.nextMatch -= lookaheadMatch[0].length;
				return;
			} else if(listLevel < currLevel) {
				for(t=currLevel; t>listLevel; t--)
					stack.pop();
			} else if(listLevel == currLevel && listType != currType) {
				stack.pop();
				stack.push(createTiddlyElement(stack[stack.length-1].lastChild,listType));
			}
			currLevel = listLevel;
			currType = listType;
			var e = createTiddlyElement(stack[stack.length-1],itemType);
			w.subWikifyTerm(e,this.termRegExp);
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		}
	}
},

{
	name: "quoteByBlock",
	match: "^<<<\\n",
	termRegExp: /(^<<<(\n|$))/mg,
	element: "blockquote",
	handler: config.formatterHelpers.createElementAndWikify
},

{
	name: "quoteByLine",
	match: "^>+",
	lookaheadRegExp: /^>+/mg,
	termRegExp: /(\n)/mg,
	element: "blockquote",
	handler: function(w)
	{
		var stack = [w.output];
		var currLevel = 0;
		var newLevel = w.matchLength;
		var t,matched;
		do {
			if(newLevel > currLevel) {
				for(t=currLevel; t<newLevel; t++)
					stack.push(createTiddlyElement(stack[stack.length-1],this.element));
			} else if(newLevel < currLevel) {
				for(t=currLevel; t>newLevel; t--)
					stack.pop();
			}
			currLevel = newLevel;
			w.subWikifyTerm(stack[stack.length-1],this.termRegExp);
			createTiddlyElement(stack[stack.length-1],"br");
			this.lookaheadRegExp.lastIndex = w.nextMatch;
			var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
			matched = lookaheadMatch && lookaheadMatch.index == w.nextMatch;
			if(matched) {
				newLevel = lookaheadMatch[0].length;
				w.nextMatch += lookaheadMatch[0].length;
			}
		} while(matched);
	}
},

{
	name: "rule",
	match: "^----+$\\n?|<hr ?/?>\\n?",
	handler: function(w)
	{
		createTiddlyElement(w.output,"hr");
	}
},

{
	name: "monospacedByLine",
	match: "^(?:/\\*\\{\\{\\{\\*/|\\{\\{\\{|//\\{\\{\\{|<!--\\{\\{\\{-->)\\n",
	element: "pre",
	handler: function(w)
	{
		switch(w.matchText) {
		case "/*{{{*/\n": // CSS
			this.lookaheadRegExp = /\/\*\{\{\{\*\/\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\*\}\}\}\*\/$\n?)/mg;
			break;
		case "{{{\n": // monospaced block
			this.lookaheadRegExp = /^\{\{\{\n((?:^[^\n]*\n)+?)(^\f*\}\}\}$\n?)/mg;
			break;
		case "//{{{\n": // plugin
			this.lookaheadRegExp = /^\/\/\{\{\{\n\n*((?:^[^\n]*\n)+?)(\n*^\f*\/\/\}\}\}$\n?)/mg;
			break;
		case "<!--{{{-->\n": //template
			this.lookaheadRegExp = /<!--\{\{\{-->\n*((?:^[^\n]*\n)+?)(\n*^\f*<!--\}\}\}-->$\n?)/mg;
			break;
		default:
			break;
		}
		config.formatterHelpers.enclosedTextHelper.call(this,w);
	}
},

{
	name: "wikifyComment",
	match: "^(?:/\\*\\*\\*|<!---)\\n",
	handler: function(w)
	{
		var termRegExp = (w.matchText == "/***\n") ? (/(^\*\*\*\/\n)/mg) : (/(^--->\n)/mg);
		w.subWikifyTerm(w.output,termRegExp);
	}
},

{
	name: "macro",
	match: "<<",
	lookaheadRegExp: /<<([^>\s]+)(?:\s*)((?:[^>]|(?:>(?!>)))*)>>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart && lookaheadMatch[1]) {
			w.nextMatch = this.lookaheadRegExp.lastIndex;
			invokeMacro(w.output,lookaheadMatch[1],lookaheadMatch[2],w,w.tiddler);
		}
	}
},

{
	name: "prettyLink",
	match: "\\[\\[",
	lookaheadRegExp: /\[\[(.*?)(?:\|(~)?(.*?))?\]\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e;
			var text = lookaheadMatch[1];
			if(lookaheadMatch[3]) {
				// Pretty bracketted link
				var link = lookaheadMatch[3];
				e = (!lookaheadMatch[2] && config.formatterHelpers.isExternalLink(link)) ?
						createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
			} else {
				// Simple bracketted link
				e = createTiddlyLink(w.output,text,false,null,w.isStatic,w.tiddler);
			}
			createTiddlyText(e,text);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "wikiLink",
	match: config.textPrimitives.unWikiLink+"?"+config.textPrimitives.wikiLink,
	handler: function(w)
	{
		if(w.matchText.substr(0,1) == config.textPrimitives.unWikiLink) {
			w.outputText(w.output,w.matchStart+1,w.nextMatch);
			return;
		}
		if(w.matchStart > 0) {
			var preRegExp = new RegExp(config.textPrimitives.anyLetterStrict,"mg");
			preRegExp.lastIndex = w.matchStart-1;
			var preMatch = preRegExp.exec(w.source);
			if(preMatch.index == w.matchStart-1) {
				w.outputText(w.output,w.matchStart,w.nextMatch);
				return;
			}
		}
		if(w.autoLinkWikiWords || store.isShadowTiddler(w.matchText)) {
			var link = createTiddlyLink(w.output,w.matchText,false,null,w.isStatic,w.tiddler);
			w.outputText(link,w.matchStart,w.nextMatch);
		} else {
			w.outputText(w.output,w.matchStart,w.nextMatch);
		}
	}
},

{
	name: "urlLink",
	match: config.textPrimitives.urlPattern,
	handler: function(w)
	{
		w.outputText(createExternalLink(w.output,w.matchText),w.matchStart,w.nextMatch);
	}
},

{
	name: "image",
	match: "\\[[<>]?[Ii][Mm][Gg]\\[",
	lookaheadRegExp: /\[([<]?)(>?)[Ii][Mm][Gg]\[(?:([^\|\]]+)\|)?([^\[\]\|]+)\](?:\[([^\]]*)\])?\]/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			var e = w.output;
			if(lookaheadMatch[5]) {
				var link = lookaheadMatch[5];
				e = config.formatterHelpers.isExternalLink(link) ? createExternalLink(w.output,link) : createTiddlyLink(w.output,link,false,null,w.isStatic,w.tiddler);
				jQuery(e).addClass("imageLink");
			}
			var img = createTiddlyElement(e,"img");
			if(lookaheadMatch[1])
				img.align = "left";
			else if(lookaheadMatch[2])
				img.align = "right";
			if(lookaheadMatch[3]) {
				img.title = lookaheadMatch[3];
				img.setAttribute("alt",lookaheadMatch[3]);
			}
			img.src = lookaheadMatch[4];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "html",
	match: "<[Hh][Tt][Mm][Ll]>",
	lookaheadRegExp: /<[Hh][Tt][Mm][Ll]>((?:.|\n)*?)<\/[Hh][Tt][Mm][Ll]>/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span").innerHTML = lookaheadMatch[1];
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "commentByBlock",
	match: "/%",
	lookaheadRegExp: /\/%((?:.|\n)*?)%\//mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart)
			w.nextMatch = this.lookaheadRegExp.lastIndex;
	}
},

{
	name: "characterFormat",
	match: "''|//|__|\\^\\^|~~|--(?!\\s|$)|\\{\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "''":
			w.subWikifyTerm(w.output.appendChild(document.createElement("strong")),/('')/mg);
			break;
		case "//":
			w.subWikifyTerm(createTiddlyElement(w.output,"em"),/(\/\/)/mg);
			break;
		case "__":
			w.subWikifyTerm(createTiddlyElement(w.output,"u"),/(__)/mg);
			break;
		case "^^":
			w.subWikifyTerm(createTiddlyElement(w.output,"sup"),/(\^\^)/mg);
			break;
		case "~~":
			w.subWikifyTerm(createTiddlyElement(w.output,"sub"),/(~~)/mg);
			break;
		case "--":
			w.subWikifyTerm(createTiddlyElement(w.output,"strike"),/(--)/mg);
			break;
		case "{{{":
			var lookaheadRegExp = /\{\{\{((?:.|\n)*?)\}\}\}/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
				createTiddlyElement(w.output,"code",null,null,lookaheadMatch[1]);
				w.nextMatch = lookaheadRegExp.lastIndex;
			}
			break;
		}
	}
},

{
	name: "customFormat",
	match: "@@|\\{\\{",
	handler: function(w)
	{
		switch(w.matchText) {
		case "@@":
			var e = createTiddlyElement(w.output,"span");
			var styles = config.formatterHelpers.inlineCssHelper(w);
			if(styles.length == 0)
				e.className = "marked";
			else
				config.formatterHelpers.applyCssHelper(e,styles);
			w.subWikifyTerm(e,/(@@)/mg);
			break;
		case "{{":
			var lookaheadRegExp = /\{\{[\s]*([\w]+[\s\w]*)[\s]*\{(\n?)/mg;
			lookaheadRegExp.lastIndex = w.matchStart;
			var lookaheadMatch = lookaheadRegExp.exec(w.source);
			if(lookaheadMatch) {
				w.nextMatch = lookaheadRegExp.lastIndex;
				e = createTiddlyElement(w.output,lookaheadMatch[2] == "\n" ? "div" : "span",null,lookaheadMatch[1]);
				w.subWikifyTerm(e,/(\}\}\})/mg);
			}
			break;
		}
	}
},

{
	name: "mdash",
	match: "--",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = "&mdash;";
	}
},

{
	name: "lineBreak",
	match: "\\n|<br ?/?>",
	handler: function(w)
	{
		createTiddlyElement(w.output,"br");
	}
},

{
	name: "rawText",
	match: "\"{3}|<nowiki>",
	lookaheadRegExp: /(?:\"{3}|<nowiki>)((?:.|\n)*?)(?:\"{3}|<\/nowiki>)/mg,
	handler: function(w)
	{
		this.lookaheadRegExp.lastIndex = w.matchStart;
		var lookaheadMatch = this.lookaheadRegExp.exec(w.source);
		if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
			createTiddlyElement(w.output,"span",null,null,lookaheadMatch[1]);
			w.nextMatch = this.lookaheadRegExp.lastIndex;
		}
	}
},

{
	name: "htmlEntitiesEncoding",
	match: "(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",
	handler: function(w)
	{
		createTiddlyElement(w.output,"span").innerHTML = w.matchText;
	}
}

];

//--
//-- Wikifier
//--

function getParser(tiddler,format)
{
	if(tiddler) {
		if(!format)
			format = tiddler.fields["wikiformat"];
		var i;
		if(format) {
			for(i in config.parsers) {
				if(format == config.parsers[i].format)
					return config.parsers[i];
			}
		} else {
			for(i in config.parsers) {
				if(tiddler.isTagged(config.parsers[i].formatTag))
					return config.parsers[i];
			}
		}
	}
	return formatter;
}

function Wikifier(source,formatter,highlightRegExp,tiddler)
{
	this.source = source;
	this.output = null;
	this.formatter = formatter;
	this.nextMatch = 0;
	this.autoLinkWikiWords = tiddler && tiddler.autoLinkWikiWords() == false ? false : true;
	this.highlightRegExp = highlightRegExp;
	this.highlightMatch = null;
	this.isStatic = false;
	if(highlightRegExp) {
		highlightRegExp.lastIndex = 0;
		this.highlightMatch = highlightRegExp.exec(source);
	}
	this.tiddler = tiddler;
}

Wikifier.prototype.wikifyPlain = function()
{
	var e = createTiddlyElement(document.body,"div");
	e.style.display = "none";
	this.subWikify(e);
	var text = jQuery(e).text();
	jQuery(e).remove();
	return text;
};

Wikifier.prototype.subWikify = function(output,terminator)
{
	try {
		if(terminator)
			this.subWikifyTerm(output,new RegExp("(" + terminator + ")","mg"));
		else
			this.subWikifyUnterm(output);
	} catch(ex) {
		showException(ex);
	}
};

Wikifier.prototype.subWikifyUnterm = function(output)
{
	var oldOutput = this.output;
	this.output = output;
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	while(formatterMatch) {
		// Output any text before the match
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		// Set the match parameters for the handler
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		formatterMatch = this.formatter.formatterRegExp.exec(this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.subWikifyTerm = function(output,terminatorRegExp)
{
	var oldOutput = this.output;
	this.output = output;
	terminatorRegExp.lastIndex = this.nextMatch;
	var terminatorMatch = terminatorRegExp.exec(this.source);
	this.formatter.formatterRegExp.lastIndex = this.nextMatch;
	var formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	while(terminatorMatch || formatterMatch) {
		if(terminatorMatch && (!formatterMatch || terminatorMatch.index <= formatterMatch.index)) {
			if(terminatorMatch.index > this.nextMatch)
				this.outputText(this.output,this.nextMatch,terminatorMatch.index);
			this.matchText = terminatorMatch[1];
			this.matchLength = terminatorMatch[1].length;
			this.matchStart = terminatorMatch.index;
			this.nextMatch = this.matchStart + this.matchLength;
			this.output = oldOutput;
			return;
		}
		if(formatterMatch.index > this.nextMatch)
			this.outputText(this.output,this.nextMatch,formatterMatch.index);
		this.matchStart = formatterMatch.index;
		this.matchLength = formatterMatch[0].length;
		this.matchText = formatterMatch[0];
		this.nextMatch = this.formatter.formatterRegExp.lastIndex;
		var t;
		for(t=1; t<formatterMatch.length; t++) {
			if(formatterMatch[t]) {
				this.formatter.formatters[t-1].handler(this);
				this.formatter.formatterRegExp.lastIndex = this.nextMatch;
				break;
			}
		}
		terminatorRegExp.lastIndex = this.nextMatch;
		terminatorMatch = terminatorRegExp.exec(this.source);
		formatterMatch = this.formatter.formatterRegExp.exec(terminatorMatch ? this.source.substr(0,terminatorMatch.index) : this.source);
	}
	if(this.nextMatch < this.source.length) {
		this.outputText(this.output,this.nextMatch,this.source.length);
		this.nextMatch = this.source.length;
	}
	this.output = oldOutput;
};

Wikifier.prototype.outputText = function(place,startPos,endPos)
{
	while(this.highlightMatch && (this.highlightRegExp.lastIndex > startPos) && (this.highlightMatch.index < endPos) && (startPos < endPos)) {
		if(this.highlightMatch.index > startPos) {
			createTiddlyText(place,this.source.substring(startPos,this.highlightMatch.index));
			startPos = this.highlightMatch.index;
		}
		var highlightEnd = Math.min(this.highlightRegExp.lastIndex,endPos);
		createTiddlyElement(place,"span",null,"highlight",this.source.substring(startPos,highlightEnd));
		startPos = highlightEnd;
		if(startPos >= this.highlightRegExp.lastIndex)
			this.highlightMatch = this.highlightRegExp.exec(this.source);
	}
	if(startPos < endPos) {
		createTiddlyText(place,this.source.substring(startPos,endPos));
	}
};

function wikify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,getParser(tiddler),highlightRegExp,tiddler);
		var t0 = new Date();
		wikifier.subWikify(output);
		if(tiddler && config.options.chkDisplayInstrumentation)
			displayMessage("wikify:" +tiddler.title+ " in " + (new Date()-t0) + " ms");
	}
}

function wikifyStatic(source,highlightRegExp,tiddler,format)
{
	var e = createTiddlyElement(document.body,"pre");
	e.style.display = "none";
	var html = "";
	if(source && source != "") {
		if(!tiddler)
			tiddler = new Tiddler("temp");
		var wikifier = new Wikifier(source,getParser(tiddler,format),highlightRegExp,tiddler);
		wikifier.isStatic = true;
		wikifier.subWikify(e);
		html = e.innerHTML;
		jQuery(e).remove();
	}
	return html;
}

function wikifyPlainText(text,limit,tiddler)
{
	if(limit > 0)
		text = text.substr(0,limit);
	var wikifier = new Wikifier(text,formatter,null,tiddler);
	return wikifier.wikifyPlain();
}

function highlightify(source,output,highlightRegExp,tiddler)
{
	if(source) {
		var wikifier = new Wikifier(source,formatter,highlightRegExp,tiddler);
		wikifier.outputText(output,0,source.length);
	}
}

//--
//-- Macro definitions
//--

function invokeMacro(place,macro,params,wikifier,tiddler)
{
	try {
		var m = config.macros[macro];
		if(m && m.handler) {
			var tiddlerElem = story.findContainingTiddler(place);
			window.tiddler = tiddlerElem ? store.getTiddler(tiddlerElem.getAttribute("tiddler")) : null;
			window.place = place;
			var allowEval = true;
			if(config.evaluateMacroParameters=="system") {
				if(!tiddler || tiddler.tags.indexOf("systemAllowEval") == -1) {
					allowEval = false;
				}
			}
			m.handler(place,macro,m.noPreParse?null:params.readMacroParams(!allowEval),wikifier,params,tiddler);
		} else {
			createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,config.messages.missingMacro]));
		}
	} catch(ex) {
		createTiddlyError(place,config.messages.macroError.format([macro]),config.messages.macroErrorDetails.format([macro,ex.toString()]));
	}
}

config.macros.version.handler = function(place)
{
	jQuery("<span/>").text(formatVersion()).appendTo(place);
};

config.macros.today.handler = function(place,macroName,params)
{
	var now = new Date();
	var text = params[0] ? now.formatString(params[0].trim()) : now.toLocaleString();
	jQuery("<span/>").text(text).appendTo(place);
};

config.macros.list.template = "<<view title link>>";
config.macros.list.handler = function(place,macroName,params,wikifier,paramString)
{
	var list = document.createElement("ul");
	jQuery(list).attr({ refresh: "macro", macroName: macroName }).data("params", paramString);
	place.appendChild(list);
	this.refresh(list);
};

config.macros.list.refresh = function(list) {
	var paramString = jQuery(list).data("params");
	var params = paramString.readMacroParams();
	var args = paramString.parseParams("anon", null, null)[0];
	var type = args.anon ? args.anon[0] : "all";
	jQuery(list).empty().addClass("list list-" + type);
	var template = args.template ? store.getTiddlerText(args.template[0]) : false;
	if(!template) {
		template = config.macros.list.template;
	}
	if(this[type].prompt)
		createTiddlyElement(list,"li",null,"listTitle",this[type].prompt);
	var results;
	if(this[type].handler)
		results = this[type].handler(params);
	var t;
	for(t = 0; t < results.length; t++) {
		var li = document.createElement("li");
		list.appendChild(li);
		var tiddler = results[t];
		if(typeof(tiddler) == 'string') { // deal with missing etc..
				tiddler = store.getTiddler(tiddler) || new Tiddler(tiddler);
		}
		wikify(template, li, null, tiddler);
	}
	if(results.length === 0 && args.emptyMessage) {
		jQuery(list).addClass("emptyList");
		jQuery("<li />").text(args.emptyMessage[0]).appendTo(list);
	}
};

config.macros.list.all.handler = function(params)
{
	return store.reverseLookup("tags","excludeLists",false,"title");
};

config.macros.list.missing.handler = function(params)
{
	return store.getMissingLinks();
};

config.macros.list.orphans.handler = function(params)
{
	return store.getOrphans();
};

config.macros.list.shadowed.handler = function(params)
{
	return store.getShadowed();
};

config.macros.list.touched.handler = function(params)
{
	return store.getTouched();
};

config.macros.list.filter.handler = function(params)
{
	var filter = params[1];
	var results = [];
	if(filter) {
		var tiddlers = store.filterTiddlers(filter);
		var t;
		for(t=0; t<tiddlers.length; t++)
			results.push(tiddlers[t].title);
	}
	return results;
};

config.macros.allTags.handler = function(place,macroName,params)
{
	var tags = store.getTags(params[0]);
	var ul = createTiddlyElement(place,"ul");
	if(tags.length == 0)
		createTiddlyElement(ul,"li",null,"listTitle",this.noTags);
	var t;
	for(t=0; t<tags.length; t++) {
		var title = tags[t][0];
		var info = getTiddlyLinkInfo(title);
		var li = createTiddlyElement(ul,"li");
		var btn = createTiddlyButton(li,title + " (" + tags[t][1] + ")",this.tooltip.format([title]),onClickTag,info.classes);
		btn.setAttribute("tag",title);
		btn.setAttribute("refresh","link");
		btn.setAttribute("tiddlyLink",title);
		if(params[1]) {
			btn.setAttribute("sortby",params[1]);
		}
	}
};

var macro = config.macros.timeline;
merge(macro, {
	handler: function(place,macroName,params, wikifier, paramString, tiddler) {
		var container = jQuery("<div />").attr("params", paramString).
			attr("macroName", macroName).appendTo(place)[0];
		macro.refresh(container);
	},
	refresh: function(container) {
		jQuery(container).attr("refresh", "macro").empty();
		var paramString = jQuery(container).attr("params");
		var args = paramString.parseParams("anon", null, null)[0];
		var params = args.anon || [];

		var field = params[0] || "modified";
		var prefix = field.charAt(0);
		var no_prefix_field = prefix === "-" || prefix === "+" ? field.substr(1, field.length) : field;
		var dateFormat = params[2] || this.dateFormat;
		var groupTemplate = macro.groupTemplate.format(no_prefix_field, dateFormat);
		groupTemplate = args.groupTemplate ? store.getTiddlerText(args.groupTemplate[0]) || groupTemplate :
			groupTemplate;

		var itemTemplate = macro.itemTemplate;
		itemTemplate = args.template ? store.getTiddlerText(args.template[0]) || itemTemplate :
			itemTemplate;

		var tiddlers = args.filter ? store.sortTiddlers(store.filterTiddlers(args.filter[0]), field) :
			store.reverseLookup("tags", "excludeLists", false, field);
		var lastGroup = "", ul;
		var last = params[1] ? tiddlers.length-Math.min(tiddlers.length,parseInt(params[1],10)) : 0;
		var t;
		for(t=tiddlers.length-1; t>=last; t--) {
			var tiddler = tiddlers[t];
			var theGroup = wikifyPlainText(groupTemplate,0,tiddler);
			if(typeof(ul) == "undefined" || theGroup != lastGroup) {
				ul = document.createElement("ul");
				jQuery(ul).addClass("timeline");
				container.appendChild(ul);
				createTiddlyElement(ul,"li",null,"listTitle",theGroup);
				lastGroup = theGroup;
			}
			var item = createTiddlyElement(ul,"li",null,"listLink");
			wikify(itemTemplate,item,null,tiddler);
		}
	},
	groupTemplate: "<<view %0 date '%1'>>", 
	itemTemplate: "<<view title link>>"
});

config.macros.tiddler.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var allowEval = true;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.length > 0 && config.evaluateMacroParameters == "system") {
		// included tiddler and "system" evaluation required, so check tiddler tagged appropriately
		var title = stack[stack.length-1];
		var pos = title.indexOf(config.textPrimitives.sectionSeparator);
		if(pos != -1) {
			title = title.substr(0,pos); // get the base tiddler title
		}
		var t = store.getTiddler(title);
		if(!t || t.tags.indexOf("systemAllowEval") == -1) {
			allowEval = false;
		}
	}
	params = paramString.parseParams("name",null,allowEval,false,true);
	var names = params[0]["name"];
	var tiddlerName = names[0];
	var className = names[1] || null;
	var args = params[0]["with"];
	var wrapper = createTiddlyElement(place,"span",null,className,null,{
		refresh: "content", tiddler: tiddlerName
	});
	if(args!==undefined)
		wrapper.setAttribute("args","[["+args.join("]] [[")+"]]");
	this.transclude(wrapper,tiddlerName,args);
};

config.macros.tiddler.transclude = function(wrapper,tiddlerName,args)
{
	var text = store.getTiddlerText(tiddlerName);
	if(!text)
		return;
	var stack = config.macros.tiddler.tiddlerStack;
	if(stack.indexOf(tiddlerName) !== -1)
		return;
	stack.push(tiddlerName);
	try {
		if(typeof args == "string")
			args = args.readBracketedList();
		var n = args ? Math.min(args.length,9) : 0;
		var i;
		for(i=0; i<n; i++) {
			var placeholderRE = new RegExp("\\$" + (i + 1),"mg");
			text = text.replace(placeholderRE,args[i]);
		}
		config.macros.tiddler.renderText(wrapper,text,tiddlerName);
	} finally {
		stack.pop();
	}
};

config.macros.tiddler.renderText = function(place,text,tiddlerName)
{
	wikify(text,place,null,store.getTiddler(tiddlerName));
};

config.macros.tiddler.tiddlerStack = [];

config.macros.tag.handler = function(place,macroName,params)
{
	var btn = createTagButton(place,params[0],null,params[1],params[2]);
	if(params[3]) {
		btn.setAttribute('sortby',params[3]);
	}
};

config.macros.tags.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title && store.tiddlerExists(title))
		tiddler = store.getTiddler(title);
	var sep = getParam(params,"sep"," ");
	var lingo = config.views.wikified.tag;
	var label = null;
	var t;
	for(t=0; t<tiddler.tags.length; t++) {
		var tag = store.getTiddler(tiddler.tags[t]);
		if(!tag || !tag.tags.contains("excludeLists")) {
			if(!label)
				label = createTiddlyElement(ul,"li",null,"listTitle",lingo.labelTags.format([tiddler.title]));
			createTagButton(createTiddlyElement(ul,"li"),tiddler.tags[t],tiddler.title);
			if(t<tiddler.tags.length-1)
				createTiddlyText(ul,sep);
		}
	}
	if(!label)
		createTiddlyElement(ul,"li",null,"listTitle",lingo.labelNoTags.format([tiddler.title]));
};

config.macros.tagging.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,true,false,false);
	var ul = createTiddlyElement(place,"ul");
	var title = getParam(params,"anon","");
	if(title == "" && tiddler instanceof Tiddler)
		title = tiddler.title;
	var sep = getParam(params,"sep"," ");
	ul.setAttribute("title",this.tooltip.format([title]));
	var sortby = getParam(params,"sortBy",false);
	var tagged = store.getTaggedTiddlers(title,sortby);
	var prompt = tagged.length == 0 ? this.labelNotTag : this.label;
	createTiddlyElement(ul,"li",null,"listTitle",prompt.format([title,tagged.length]));
	var t;
	for(t=0; t<tagged.length; t++) {
		createTiddlyLink(createTiddlyElement(ul,"li"),tagged[t].title,true);
		if(t<tagged.length-1)
			createTiddlyText(ul,sep);
	}
};

config.macros.closeAll.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.closeAll.onClick = function(e)
{
	story.closeAllTiddlers();
	return false;
};

config.macros.permaview.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.permaview.onClick = function(e)
{
	story.permaView();
	return false;
};

config.macros.saveChanges.handler = function(place,macroName,params)
{
	if(!readOnly)
		createTiddlyButton(place,params[0] || this.label,params[1] || this.prompt,this.onClick,null,null,this.accessKey);
};

config.macros.saveChanges.onClick = function(e)
{
	saveChanges();
	return false;
};

config.macros.slider.onClickSlider = function(ev)
{
	var n = this.nextSibling;
	var cookie = n.getAttribute("cookie");
	var isOpen = n.style.display != "none";
	if(config.options.chkAnimate && anim && typeof Slider == "function")
		anim.startAnimating(new Slider(n,!isOpen,null,"none"));
	else
		n.style.display = isOpen ? "none" : "block";
	config.options[cookie] = !isOpen;
	saveOption(cookie);
	return false;
};

config.macros.slider.createSlider = function(place,cookie,title,tooltip)
{
	var c = cookie || "";
	createTiddlyButton(place,title,tooltip,this.onClickSlider);
	var panel = createTiddlyElement(null,"div",null,"sliderPanel");
	panel.setAttribute("cookie",c);
	panel.style.display = config.options[c] ? "block" : "none";
	place.appendChild(panel);
	return panel;
};

config.macros.slider.handler = function(place,macroName,params)
{
	var panel = this.createSlider(place,params[0],params[2],params[3]);
	var text = store.getTiddlerText(params[1]);
	panel.setAttribute("refresh","content");
	panel.setAttribute("tiddler",params[1]);
	if(text)
		wikify(text,panel,null,store.getTiddler(params[1]));
};

// <<gradient [[tiddler name]] vert|horiz rgb rgb rgb rgb... >>
config.macros.gradient.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var panel = wikifier ? createTiddlyElement(place,"div",null,"gradient") : place;
	panel.style.position = "relative";
	panel.style.overflow = "hidden";
	panel.style.zIndex = "0";
	if(wikifier) {
		var styles = config.formatterHelpers.inlineCssHelper(wikifier);
		config.formatterHelpers.applyCssHelper(panel,styles);
	}
	params = paramString.parseParams("color");
	var locolors = [], hicolors = [];
	var t;
	for(t=2; t<params.length; t++) {
		var c = params[t].value;
		if(params[t].name == "snap") {
			hicolors[hicolors.length-1] = c;
		} else {
			locolors.push(c);
			hicolors.push(c);
		}
	}
	drawGradient(panel,params[1].value != "vert",locolors,hicolors);
	if(wikifier)
		wikifier.subWikify(panel,">>");
	if(document.all) {
		panel.style.height = "100%";
		panel.style.width = "100%";
	}
};

config.macros.message.handler = function(place,macroName,params)
{
	if(params[0]) {
		var names = params[0].split(".");
		var lookupMessage = function(root,nameIndex) {
				if(root[names[nameIndex]]) {
					if(nameIndex < names.length-1)
						return (lookupMessage(root[names[nameIndex]],nameIndex+1));
					else
						return root[names[nameIndex]];
				} else
					return null;
			};
		var m = lookupMessage(config,0);
		if(m == null)
			m = lookupMessage(window,0);
		createTiddlyText(place,m.toString().format(params.splice(1)));
	}
};


config.macros.view.depth = 0;
config.macros.view.values = [];
config.macros.view.views = {
	text: function(value,place,params,wikifier,paramString,tiddler) {
		highlightify(value,place,highlightHack,tiddler);
	},
	link: function(value,place,params,wikifier,paramString,tiddler) {
		createTiddlyLink(place,value,true);
	},
	wikified: function(value,place,params,wikifier,paramString,tiddler) {
		if(config.macros.view.depth>50)
			return;
		if(config.macros.view.depth>0) {
			if (value==config.macros.view.values[config.macros.view.depth-1]) {
				return;
			}
		}
		config.macros.view.values[config.macros.view.depth] = value;
		config.macros.view.depth++;
		if(params[2])
			value=params[2].unescapeLineBreaks().format([value]);
		wikify(value,place,highlightHack,tiddler);
		config.macros.view.depth--;
		config.macros.view.values[config.macros.view.depth] = null;
	},
	date: function(value,place,params,wikifier,paramString,tiddler) {
		value = Date.convertFromYYYYMMDDHHMM(value);
		createTiddlyText(place,value.formatString(params[2] || config.views.wikified.dateFormat));
	}
};

config.macros.view.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if((tiddler instanceof Tiddler) && params[0]) {
		var value = store.getValue(tiddler,params[0]);
		if(value) {
			var type = params[1] || config.macros.view.defaultView;
			var handler = config.macros.view.views[type];
			if(handler)
				handler(value,place,params,wikifier,paramString,tiddler);
		}
	}
};

config.macros.edit.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var field = params[0];
	var rows = params[1] || 0;
	var defVal = params[2] || '';
	if((tiddler instanceof Tiddler) && field) {
		story.setDirty(tiddler.title,true);
		var e,v;
		if(field != "text" && !rows) {
			e = createTiddlyElement(null,"input",null,null,null,{
				type: "text", edit: field, size: "40", autocomplete: "off"
			});
			e.value = store.getValue(tiddler,field) || defVal;
			place.appendChild(e);
		} else {
			var wrapper1 = createTiddlyElement(null,"fieldset",null,"fieldsetFix");
			var wrapper2 = createTiddlyElement(wrapper1,"div");
			e = createTiddlyElement(wrapper2,"textarea");
			e.value = v = store.getValue(tiddler,field) || defVal;
			rows = rows || 10;
			var lines = v.match(/\n/mg);
			var maxLines = Math.max(parseInt(config.options.txtMaxEditRows,10),5);
			if(lines != null && lines.length > rows)
				rows = lines.length + 5;
			rows = Math.min(rows,maxLines);
			e.setAttribute("rows",rows);
			e.setAttribute("edit",field);
			place.appendChild(wrapper1);
		}
		if(tiddler.isReadOnly()) {
			e.setAttribute("readOnly","readOnly");
			jQuery(e).addClass("readOnly");
		}
		return e;
	}
};

config.macros.tagChooser.onClick = function(ev)
{
	var e = ev || window.event;
	var lingo = config.views.editor.tagChooser;
	var popup = Popup.create(this);
	var tags = store.getTags(this.getAttribute("tags"));
	if(tags.length == 0)
		jQuery("<li/>").text(lingo.popupNone).appendTo(popup);
	var t;
	for(t=0; t<tags.length; t++) {
		var tag = createTiddlyButton(createTiddlyElement(popup,"li"),tags[t][0],lingo.tagTooltip.format([tags[t][0]]),config.macros.tagChooser.onTagClick);
		tag.setAttribute("tag",tags[t][0]);
		tag.setAttribute("tiddler",this.getAttribute("tiddler"));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
};

config.macros.tagChooser.onTagClick = function(ev)
{
	var e = ev || window.event;
	if(e.metaKey || e.ctrlKey) stopEvent(e); //# keep popup open on CTRL-click
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(!readOnly)
		story.setTiddlerTag(title,tag,0);
	return false;
};

config.macros.tagChooser.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(tiddler instanceof Tiddler) {
		var lingo = config.views.editor.tagChooser;
		var btn = createTiddlyButton(place,lingo.text,lingo.tooltip,this.onClick);
		btn.setAttribute("tiddler",tiddler.title);
		btn.setAttribute("tags",params[0]);
	}
};

config.macros.refreshDisplay.handler = function(place)
{
	createTiddlyButton(place,this.label,this.prompt,this.onClick);
};

config.macros.refreshDisplay.onClick = function(e)
{
	refreshAll();
	return false;
};

config.macros.annotations.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var title = tiddler ? tiddler.title : null;
	var a = title ? config.annotations[title] : null;
	if(!tiddler || !title || !a)
		return;
	var text = a.format([title]);
	wikify(text,createTiddlyElement(place,"div",null,"annotation"),null,tiddler);
};
//--
//-- NewTiddler and NewJournal macros
//--

config.macros.newTiddler.createNewTiddlerButton = function(place,title,params,label,prompt,accessKey,newFocus,isJournal)
{
	var tags = [];
	var t;
	for(t=1; t<params.length; t++) {
		if((params[t].name == "anon" && t != 1) || (params[t].name == "tag"))
			tags.push(params[t].value);
	}
	label = getParam(params,"label",label);
	prompt = getParam(params,"prompt",prompt);
	accessKey = getParam(params,"accessKey",accessKey);
	newFocus = getParam(params,"focus",newFocus);
	var customFields = getParam(params,"fields","");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	var btn = createTiddlyButton(place,label,prompt,this.onClickNewTiddler,null,null,accessKey);
	btn.setAttribute("newTitle",title);
	btn.setAttribute("isJournal",isJournal ? "true" : "false");
	if(tags.length > 0)
		btn.setAttribute("params",tags.join("|"));
	btn.setAttribute("newFocus",newFocus);
	btn.setAttribute("newTemplate",getParam(params,"template",DEFAULT_EDIT_TEMPLATE));
	if(customFields !== "")
		btn.setAttribute("customFields",customFields);
	var text = getParam(params,"text");
	if(text !== undefined)
		btn.setAttribute("newText",text);
	return btn;
};

config.macros.newTiddler.onClickNewTiddler = function()
{
	var title = this.getAttribute("newTitle");
	if(this.getAttribute("isJournal") == "true") {
		title = new Date().formatString(title.trim());
	}
	var params = this.getAttribute("params");
	var tags = params ? params.split("|") : [];
	var focus = this.getAttribute("newFocus");
	var template = this.getAttribute("newTemplate");
	var customFields = this.getAttribute("customFields");
	if(!customFields && !store.isShadowTiddler(title))
		customFields = String.encodeHashMap(config.defaultCustomFields);
	story.displayTiddler(null,title,template,false,null,null);
	var tiddlerElem = story.getTiddler(title);
	if(customFields)
		story.addCustomFields(tiddlerElem,customFields);
	var text = this.getAttribute("newText");
	if(typeof text == "string" && story.getTiddlerField(title,"text"))
		story.getTiddlerField(title,"text").value = text.format([title]);
	var t;
	for(t=0;t<tags.length;t++)
		story.setTiddlerTag(title,tags[t],+1);
	story.focusTiddler(title,focus);
	return false;
};

config.macros.newTiddler.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : this.title;
		title = getParam(params,"title",title);
		this.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"title",false);
	}
};

config.macros.newJournal.handler = function(place,macroName,params,wikifier,paramString)
{
	if(!readOnly) {
		params = paramString.parseParams("anon",null,true,false,false);
		var title = params[1] && params[1].name == "anon" ? params[1].value : config.macros.timeline.dateFormat;
		title = getParam(params,"title",title);
		config.macros.newTiddler.createNewTiddlerButton(place,title,params,this.label,this.prompt,this.accessKey,"text",true);
	}
};

//--
//-- Search macro
//--

config.macros.search.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	params = paramString.parseParams("anon",null,false,false,false);
	createTiddlyButton(place,this.label,this.prompt,this.onClick,"searchButton");
	var txt = createTiddlyElement(null,"input",null,"txtOptionInput searchField");
	txt.value = getParam(params,"anon","");
	if(config.browser.isSafari) {
		txt.setAttribute("type","search");
		txt.setAttribute("results","5");
	} else {
		txt.setAttribute("type","text");
	}
	place.appendChild(txt);
	txt.onkeyup = this.onKeyPress;
	txt.onfocus = this.onFocus;
	txt.setAttribute("size",this.sizeTextbox);
	txt.setAttribute("accessKey",getParam(params,"accesskey",this.accessKey));
	txt.setAttribute("autocomplete","off");
	txt.setAttribute("lastSearchText","");
	txt.setAttribute("placeholder",getParam(params,"placeholder",this.placeholder));
};

// Global because there's only ever one outstanding incremental search timer
config.macros.search.timeout = null;

config.macros.search.doSearch = function(txt)
{
	if(txt.value.length > 0) {
		story.search(txt.value,config.options.chkCaseSensitiveSearch,config.options.chkRegExpSearch);
		txt.setAttribute("lastSearchText",txt.value);
	}
};

config.macros.search.onClick = function(e)
{
	config.macros.search.doSearch(this.nextSibling);
	return false;
};

config.macros.search.onKeyPress = function(ev)
{
	var me = config.macros.search;
	var e = ev || window.event;
	switch(e.keyCode) {
		case 9: // Tab
			return;
		case 13: // Ctrl-Enter
		case 10: // Ctrl-Enter on IE PC
			me.doSearch(this);
			break;
		case 27: // Escape
			this.value = "";
			clearMessage();
			break;
	}
	if(config.options.chkIncrementalSearch) {
		if(this.value.length > 2) {
			if(this.value != this.getAttribute("lastSearchText")) {
				if(me.timeout) {
					clearTimeout(me.timeout);
				}
				var txt = this;
				me.timeout = setTimeout(function() {me.doSearch(txt);},500);
			}
		} else {
			if(me.timeout) {
				clearTimeout(me.timeout);
			}
		}
	}
};

config.macros.search.onFocus = function(e)
{
	this.select();
};

//--
//-- Tabs macro
//--

config.macros.tabs.handler = function(place,macroName,params)
{
	var cookie = params[0];
	var numTabs = (params.length-1)/3;
	var wrapper = createTiddlyElement(null,"div",null,"tabsetWrapper " + cookie);
	var tabset = createTiddlyElement(wrapper,"div",null,"tabset");
	tabset.setAttribute("cookie",cookie);
	var validTab = false;
	var t;
	for(t=0; t<numTabs; t++) {
		var label = params[t*3+1];
		var prompt = params[t*3+2];
		var content = params[t*3+3];
		var tab = createTiddlyButton(tabset,label,prompt,this.onClickTab,"tab tabUnselected");
		createTiddlyElement(tab,"span",null,null," ",{style:"font-size:0pt;line-height:0px"});
		tab.setAttribute("tab",label);
		tab.setAttribute("content",content);
		tab.title = prompt;
		if(config.options[cookie] == label)
			validTab = true;
	}
	if(!validTab)
		config.options[cookie] = params[1];
	place.appendChild(wrapper);
	this.switchTab(tabset,config.options[cookie]);
};

config.macros.tabs.onClickTab = function(e)
{
	config.macros.tabs.switchTab(this.parentNode,this.getAttribute("tab"));
	return false;
};

config.macros.tabs.switchTab = function(tabset,tab)
{
	var cookie = tabset.getAttribute("cookie");
	var theTab = null;
	var nodes = tabset.childNodes;
	var t;
	for(t=0; t<nodes.length; t++) {
		if(nodes[t].getAttribute && nodes[t].getAttribute("tab") == tab) {
			theTab = nodes[t];
			theTab.className = "tab tabSelected";
		} else {
			nodes[t].className = "tab tabUnselected";
		}
	}
	if(theTab) {
		if(tabset.nextSibling && tabset.nextSibling.className == "tabContents")
			jQuery(tabset.nextSibling).remove();
		var tabContent = createTiddlyElement(null,"div",null,"tabContents");
		tabset.parentNode.insertBefore(tabContent,tabset.nextSibling);
		var contentTitle = theTab.getAttribute("content");
		wikify(store.getTiddlerText(contentTitle),tabContent,null,store.getTiddler(contentTitle));
		if(cookie) {
			config.options[cookie] = tab;
			saveOption(cookie);
		}
	}
};

//--
//-- Tiddler toolbar
//--

// Create a toolbar command button
config.macros.toolbar.createCommand = function(place,commandName,tiddler,className)
{
	if(typeof commandName != "string") {
		var c = null;
		var t;
		for(t in config.commands) {
			if(config.commands[t] == commandName)
				c = t;
		}
		commandName = c;
	}
	if((tiddler instanceof Tiddler) && (typeof commandName == "string")) {
		var command = config.commands[commandName];
		if(command.isEnabled ? command.isEnabled(tiddler) : this.isCommandEnabled(command,tiddler)) {
			var text = command.getText ? command.getText(tiddler) : this.getCommandText(command,tiddler);
			var tooltip = command.getTooltip ? command.getTooltip(tiddler) : this.getCommandTooltip(command,tiddler);
			var cmd = command.type == "popup" ? this.onClickPopup : this.onClickCommand;
			var btn = createTiddlyButton(null,text,tooltip,cmd);
			btn.setAttribute("commandName",commandName);
			btn.setAttribute("tiddler",tiddler.title);
			jQuery(btn).addClass("command_" + commandName);
			if(className)
				jQuery(btn).addClass(className);
			place.appendChild(btn);
		}
	}
};

config.macros.toolbar.isCommandEnabled = function(command,tiddler)
{
	var title = tiddler.title;
	var ro = tiddler.isReadOnly();
	var shadow = store.isShadowTiddler(title) && !store.tiddlerExists(title);
	return (!ro || (ro && !command.hideReadOnly)) && !(shadow && command.hideShadow);
};

config.macros.toolbar.getCommandText = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyText) || command.text;
};

config.macros.toolbar.getCommandTooltip = function(command,tiddler)
{
	return (tiddler.isReadOnly() && command.readOnlyTooltip) || command.tooltip;
};

config.macros.toolbar.onClickCommand = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var command = config.commands[this.getAttribute("commandName")];
	return command.handler(e,this,this.getAttribute("tiddler"));
};

config.macros.toolbar.onClickPopup = function(ev)
{
	var e = ev || window.event;
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	var popup = Popup.create(this);
	var command = config.commands[this.getAttribute("commandName")];
	var title = this.getAttribute("tiddler");
	popup.setAttribute("tiddler",title);
	command.handlePopup(popup,title);
	Popup.show();
	return false;
};

// Invoke the first command encountered from a given place that is tagged with a specified class
config.macros.toolbar.invokeCommand = function(place,className,event)
{
	var children = place.getElementsByTagName("a");
	var t;
	for(t=0; t<children.length; t++) {
		var c = children[t];
		if(jQuery(c).hasClass(className) && c.getAttribute && c.getAttribute("commandName")) {
			if(c.onclick instanceof Function)
				c.onclick.call(c,event);
			break;
		}
	}
};

config.macros.toolbar.onClickMore = function(ev)
{
	var e = this.nextSibling;
	e.style.display = "inline";
	this.style.display = "none";
	return false;
};

config.macros.toolbar.onClickLess = function(ev)
{
	var e = this.parentNode;
	var m = e.previousSibling;
	e.style.display = "none";
	m.style.display = "inline";
	return false;
};

config.macros.toolbar.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	var t;
	for(t=0; t<params.length; t++) {
		var btn;
		var c = params[t];
		switch(c) {
		case "!":
			createTiddlyText(place,this.separator);
			break;
		case "*":
			createTiddlyElement(place,"br");
			break;
		case "<":
			btn = createTiddlyButton(place,this.lessLabel,this.lessPrompt,config.macros.toolbar.onClickLess);
			jQuery(btn).addClass("lessCommand");
			break;
		case ">":
			btn = createTiddlyButton(place,this.moreLabel,this.morePrompt,config.macros.toolbar.onClickMore);
			jQuery(btn).addClass("moreCommand");
			var e = createTiddlyElement(place,"span",null,"moreCommand");
			e.style.display = "none";
			place = e;
			break;
		default:
			var className = "";
			switch(c.substr(0,1)) {
			case "+":
				className = "defaultCommand";
				c = c.substr(1);
				break;
			case "-":
				className = "cancelCommand";
				c = c.substr(1);
				break;
			}
			if(config.commands[c]) {
				this.createCommand(place,c,tiddler,className);
			} else {
				this.customCommand(place,c,wikifier,tiddler);
			}
			break;
		}
	}
};

// Overrideable function to extend toolbar handler
config.macros.toolbar.customCommand = function(place,command,wikifier,tiddler)
{
};

//--
//-- Menu and toolbar commands
//--

config.commands.closeTiddler.handler = function(event,src,title)
{
	if(story.isDirty(title) && !readOnly) {
		if(!confirm(config.commands.cancelTiddler.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.closeTiddler(title,true);
	return false;
};

config.commands.closeOthers.handler = function(event,src,title)
{
	story.closeAllTiddlers(title);
	return false;
};

config.commands.editTiddler.handler = function(event,src,title)
{
	clearMessage();
	var tiddlerElem = story.getTiddler(title);
	var fields = tiddlerElem.getAttribute("tiddlyFields");
	story.displayTiddler(null,title,DEFAULT_EDIT_TEMPLATE,false,null,fields);
	var e = story.getTiddlerField(title,config.options.txtEditorFocus||"text");
	if(e) {
		setCaretPosition(e,0);
	}
	return false;
};

config.commands.saveTiddler.handler = function(event,src,title)
{
	var newTitle = story.saveTiddler(title,event.shiftKey);
	if(newTitle)
		story.displayTiddler(null,newTitle);
	return false;
};

config.commands.cancelTiddler.handler = function(event,src,title)
{
	if(story.hasChanges(title) && !readOnly) {
		if(!confirm(this.warning.format([title])))
			return false;
	}
	story.setDirty(title,false);
	story.displayTiddler(null,title);
	return false;
};

config.commands.deleteTiddler.handler = function(event,src,title)
{
	var deleteIt = true;
	if(config.options.chkConfirmDelete)
		deleteIt = confirm(this.warning.format([title]));
	if(deleteIt) {
		store.removeTiddler(title);
		story.closeTiddler(title,true);
		autoSaveChanges();
	}
	return false;
};

config.commands.permalink.handler = function(event,src,title)
{
	var t = encodeURIComponent(String.encodeTiddlyLink(title));
	if(window.location.hash != t)
		window.location.hash = t;
	return false;
};

config.commands.references.handlePopup = function(popup,title)
{
	var references = store.getReferringTiddlers(title);
	var c = false;
	var r;
	for(r=0; r<references.length; r++) {
		if(references[r].title != title && !references[r].isTagged("excludeLists")) {
			createTiddlyLink(createTiddlyElement(popup,"li"),references[r].title,true);
			c = true;
		}
	}
	if(!c)
		createTiddlyElement(popup,"li",null,"disabled",this.popupNone);
};

config.commands.jump.handlePopup = function(popup,title)
{
	story.forEachTiddler(function(title,element) {
		createTiddlyLink(createTiddlyElement(popup,"li"),title,true,null,false,null,true);
		});
};

config.commands.fields.handlePopup = function(popup,title)
{
	var tiddler = store.fetchTiddler(title);
	if(!tiddler)
		return;
	var items = [];
	store.forEachField(tiddler,function(tiddler,fieldName,value){items.push({field:fieldName,value:value});},true);
	items.sort(function(a,b) {return a.field < b.field ? -1 : (a.field == b.field ? 0 : +1);});
	if(items.length > 0)
		ListView.create(popup,items,this.listViewTemplate);
	else
		createTiddlyElement(popup,"div",null,null,this.emptyText);
};

//--
//-- Tiddler() object
//--

function Tiddler(title)
{
	this.title = title;
	this.text = "";
	this.creator = null;
	this.modifier = null;
	this.created = new Date();
	this.modified = this.created;
	this.links = [];
	this.linksUpdated = false;
	this.tags = [];
	this.fields = {};
	return this;
}

Tiddler.prototype.getLinks = function()
{
	if(this.linksUpdated==false)
		this.changed();
	return this.links;
};

// Returns the fields that are inherited in string field:"value" field2:"value2" format
Tiddler.prototype.getInheritedFields = function()
{
	var f = {};
	var i;
	for(i in this.fields) {
		if(i=="server.host" || i=="server.workspace" || i=="wikiformat"|| i=="server.type") {
			f[i] = this.fields[i];
		}
	}
	return String.encodeHashMap(f);
};

// Increment the changeCount of a tiddler
Tiddler.prototype.incChangeCount = function()
{
	var c = this.fields['changecount'];
	c = c ? parseInt(c,10) : 0;
	this.fields['changecount'] = String(c+1);
};

// Clear the changeCount of a tiddler
Tiddler.prototype.clearChangeCount = function()
{
	if(this.fields['changecount']) {
		delete this.fields['changecount'];
	}
};

Tiddler.prototype.doNotSave = function()
{
	return this.fields['doNotSave'];
};

// Returns true if the tiddler has been updated since the tiddler was created or downloaded
Tiddler.prototype.isTouched = function()
{
	var changecount = this.fields.changecount || 0;
	return changecount > 0;
};

// Change the text and other attributes of a tiddler
Tiddler.prototype.set = function(title,text,modifier,modified,tags,created,fields,creator)
{
	this.assign(title,text,modifier,modified,tags,created,fields,creator);
	this.changed();
	return this;
};

// Change the text and other attributes of a tiddler without triggered a tiddler.changed() call
Tiddler.prototype.assign = function(title,text,modifier,modified,tags,created,fields,creator)
{
	if(title != undefined)
		this.title = title;
	if(text != undefined)
		this.text = text;
	if(modifier != undefined)
		this.modifier = modifier;
	if(modified != undefined)
		this.modified = modified;
	if(creator != undefined)
		this.creator = creator;
	if(created != undefined)
		this.created = created;
	if(fields != undefined)
		this.fields = fields;
	if(tags != undefined)
		this.tags = (typeof tags == "string") ? tags.readBracketedList() : tags;
	else if(this.tags == undefined)
		this.tags = [];
	return this;
};

// Get the tags for a tiddler as a string (space delimited, using [[brackets]] for tags containing spaces)
Tiddler.prototype.getTags = function()
{
	return String.encodeTiddlyLinkList(this.tags);
};

// Test if a tiddler carries a tag
Tiddler.prototype.isTagged = function(tag)
{
	return this.tags.indexOf(tag) != -1;
};

// Static method to convert "\n" to newlines, "\s" to "\"
Tiddler.unescapeLineBreaks = function(text)
{
	return text ? text.unescapeLineBreaks() : "";
};

// Convert newlines to "\n", "\" to "\s"
Tiddler.prototype.escapeLineBreaks = function()
{
	return this.text.escapeLineBreaks();
};

// Updates the secondary information (like links[] array) after a change to a tiddler
Tiddler.prototype.changed = function()
{
	this.links = [];
	var text = this.text;
	// remove 'quoted' text before scanning tiddler source
	text = text.replace(/\/%((?:.|\n)*?)%\//g,"").
		replace(/\{{3}((?:.|\n)*?)\}{3}/g,"").
		replace(/"""((?:.|\n)*?)"""/g,"").
		replace(/<nowiki\>((?:.|\n)*?)<\/nowiki\>/g,"").
		replace(/<html\>((?:.|\n)*?)<\/html\>/g,"").
		replace(/<script((?:.|\n)*?)<\/script\>/g,"");
	var t = this.autoLinkWikiWords() ? 0 : 1;
	var tiddlerLinkRegExp = t==0 ? config.textPrimitives.tiddlerAnyLinkRegExp : config.textPrimitives.tiddlerForcedLinkRegExp;
	tiddlerLinkRegExp.lastIndex = 0;
	var formatMatch = tiddlerLinkRegExp.exec(text);
	while(formatMatch) {
		var lastIndex = tiddlerLinkRegExp.lastIndex;
		if(t==0 && formatMatch[1] && formatMatch[1] != this.title) {
			// wikiWordLink
			if(formatMatch.index > 0) {
				var preRegExp = new RegExp(config.textPrimitives.unWikiLink+"|"+config.textPrimitives.anyLetter,"mg");
				preRegExp.lastIndex = formatMatch.index-1;
				var preMatch = preRegExp.exec(text);
				if(preMatch.index != formatMatch.index-1)
					this.links.pushUnique(formatMatch[1]);
			} else {
				this.links.pushUnique(formatMatch[1]);
			}
		}
		else if(formatMatch[2-t] && !config.formatterHelpers.isExternalLink(formatMatch[3-t])) // titledBrackettedLink
			this.links.pushUnique(formatMatch[3-t]);
		else if(formatMatch[4-t] && formatMatch[4-t] != this.title) // brackettedLink
			this.links.pushUnique(formatMatch[4-t]);
		tiddlerLinkRegExp.lastIndex = lastIndex;
		formatMatch = tiddlerLinkRegExp.exec(text);
	}
	this.linksUpdated = true;
};

Tiddler.prototype.getSubtitle = function()
{
	var modifier = this.modifier;
	if(!modifier)
		modifier = config.messages.subtitleUnknown || "";
	var modified = this.modified;
	if(modified)
		modified = modified.toLocaleString();
	else
		modified = config.messages.subtitleUnknown || "";
	var f = config.messages.tiddlerLinkTooltip || "%0 - %1, %2";
	return f.format([this.title,modifier,modified]);
};

Tiddler.prototype.isReadOnly = function()
{
	return readOnly;
};

Tiddler.prototype.autoLinkWikiWords = function()
{
	return !(this.isTagged("systemConfig") || this.isTagged("excludeMissing"));
};

Tiddler.prototype.getServerType = function()
{
	var serverType = null;
	if(this.fields['server.type'])
		serverType = this.fields['server.type'];
	if(!serverType)
		serverType = this.fields['wikiformat'];
	if(serverType && !config.adaptors[serverType])
		serverType = null;
	return serverType;
};

Tiddler.prototype.getAdaptor = function()
{
	var serverType = this.getServerType();
	return serverType ? new config.adaptors[serverType]() : null;
};

//--
//-- TiddlyWiki instance contains TiddlerS
//--

function TiddlyWiki(params)
{
	var tiddlers = {}; // Hashmap by name of tiddlers
	if(params && params.config) {
		this.config = config;
	}
	this.tiddlersUpdated = false;
	this.namedNotifications = []; // Array of {name:,notify:} of notification functions
	this.notificationLevel = 0;
	this.slices = {}; // map tiddlerName->(map sliceName->sliceValue). Lazy.
	this.clear = function() {
		tiddlers = {};
		this.setDirty(false);
	};
	this.fetchTiddler = function(title) {
		var t = tiddlers[title];
		return t instanceof Tiddler ? t : null;
	};
	this.deleteTiddler = function(title) {
		delete this.slices[title];
		delete tiddlers[title];
	};
	this.addTiddler = function(tiddler) {
		delete this.slices[tiddler.title];
		tiddlers[tiddler.title] = tiddler;
	};
	this.forEachTiddler = function(callback) {
		var t;
		for(t in tiddlers) {
			var tiddler = tiddlers[t];
			if(tiddler instanceof Tiddler)
				callback.call(this,t,tiddler);
		}
	};
}

TiddlyWiki.prototype.setDirty = function(dirty)
{
	this.dirty = dirty;
};

TiddlyWiki.prototype.isDirty = function()
{
	return this.dirty;
};

TiddlyWiki.prototype.tiddlerExists = function(title)
{
	var t = this.fetchTiddler(title);
	return t != undefined;
};

TiddlyWiki.prototype.isShadowTiddler = function(title)
{
	return config.shadowTiddlers[title] === undefined ? false : true;
};

TiddlyWiki.prototype.isAvailable = function(title) {
	if (!title)
		return false;
	var s = title ? title.indexOf(config.textPrimitives.sectionSeparator) : -1;
	if(s!=-1)
		title = title.substr(0,s);
	return this.tiddlerExists(title) || this.isShadowTiddler(title);
};

TiddlyWiki.prototype.createTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler) {
		tiddler = new Tiddler(title);
		this.addTiddler(tiddler);
		this.setDirty(true);
	}
	return tiddler;
};

TiddlyWiki.prototype.getTiddler = function(title)
{
	var t = this.fetchTiddler(title);
	if(t != undefined)
		return t;
	else
		return null;
};

TiddlyWiki.prototype.getShadowTiddlerText = function(title)
{
	if(typeof config.shadowTiddlers[title] == "string")
		return config.shadowTiddlers[title];
	else
		return "";
};

// Retrieve tiddler contents
TiddlyWiki.prototype.getTiddlerText = function(title,defaultText)
{
	if(!title)
		return defaultText;
	var pos = title.indexOf(config.textPrimitives.sectionSeparator);
	var section = null;
	if(pos != -1) {
		section = title.substr(pos + config.textPrimitives.sectionSeparator.length);
		title = title.substr(0,pos);
	}
	pos = title.indexOf(config.textPrimitives.sliceSeparator);
	if(pos != -1) {
		var slice = this.getTiddlerSlice(title.substr(0,pos),title.substr(pos + config.textPrimitives.sliceSeparator.length));
		if(slice)
			return slice;
	}
	var tiddler = this.fetchTiddler(title);
	var text = tiddler ? tiddler.text : null;
	if(!tiddler && this.isShadowTiddler(title)) {
		text = this.getShadowTiddlerText(title);
	}
	if(text) {
		if(!section)
			return text;
		var re = new RegExp("(^!{1,6}[ \t]*" + section.escapeRegExp() + "[ \t]*\n)","mg");
		re.lastIndex = 0;
		var match = re.exec(text);
		if(match) {
			var t = text.substr(match.index+match[1].length);
			var re2 = /^!/mg;
			re2.lastIndex = 0;
			match = re2.exec(t); //# search for the next heading
			if(match)
				t = t.substr(0,match.index-1);//# don't include final \n
			return t;
		}
		return defaultText;
	}
	if(defaultText != undefined)
		return defaultText;
	return null;
};

TiddlyWiki.prototype.getRecursiveTiddlerText = function(title,defaultText,depth)
{
	var bracketRegExp = new RegExp("(?:\\[\\[([^\\]]+)\\]\\])","mg");
	var text = this.getTiddlerText(title,null);
	if(text == null)
		return defaultText;
	var textOut = [];
	var match,lastPos = 0;
	do {
		match = bracketRegExp.exec(text);
		if(match) {
			textOut.push(text.substr(lastPos,match.index-lastPos));
			if(match[1]) {
				if(depth <= 0)
					textOut.push(match[1]);
				else
					textOut.push(this.getRecursiveTiddlerText(match[1],"",depth-1));
			}
			lastPos = match.index + match[0].length;
		} else {
			textOut.push(text.substr(lastPos));
		}
	} while(match);
	return textOut.join("");
};

//TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]+)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\n]+)[\t\x20]*\|$)/gm;
TiddlyWiki.prototype.slicesRE = /(?:^([\'\/]{0,2})~?([\.\w]+)\:\1[\t\x20]*([^\n]*)[\t\x20]*$)|(?:^\|([\'\/]{0,2})~?([\.\w]+)\:?\4\|[\t\x20]*([^\|\n]*)[\t\x20]*\|$)/gm;
// @internal
TiddlyWiki.prototype.calcAllSlices = function(title)
{
	var slices = {};
	var text = this.getTiddlerText(title,"");
	this.slicesRE.lastIndex = 0;
	var m = this.slicesRE.exec(text);
	while(m) {
		if(m[2])
			slices[m[2]] = m[3];
		else
			slices[m[5]] = m[6];
		m = this.slicesRE.exec(text);
	}
	return slices;
};

// Returns the slice of text of the given name
TiddlyWiki.prototype.getTiddlerSlice = function(title,sliceName)
{
	var slices = this.slices[title];
	if(!slices) {
		slices = this.calcAllSlices(title);
		this.slices[title] = slices;
	}
	return slices[sliceName];
};

// Build an hashmap of the specified named slices of a tiddler
TiddlyWiki.prototype.getTiddlerSlices = function(title,sliceNames)
{
	var t,r = {};
	for(t=0; t<sliceNames.length; t++) {
		var slice = this.getTiddlerSlice(title,sliceNames[t]);
		if(slice)
			r[sliceNames[t]] = slice;
	}
	return r;
};

TiddlyWiki.prototype.suspendNotifications = function()
{
	this.notificationLevel--;
};

TiddlyWiki.prototype.resumeNotifications = function()
{
	this.notificationLevel++;
};

// Invoke the notification handlers for a particular tiddler
TiddlyWiki.prototype.notify = function(title,doBlanket)
{
	if(!this.notificationLevel) {
	var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if((n.name == null && doBlanket) || (n.name == title))
				n.notify(title);
		}
	}
};

// Invoke the notification handlers for all tiddlers
TiddlyWiki.prototype.notifyAll = function()
{
	if(!this.notificationLevel) {
	var t;
		for(t=0; t<this.namedNotifications.length; t++) {
			var n = this.namedNotifications[t];
			if(n.name)
				n.notify(n.name);
		}
	}
};

// Add a notification handler to a tiddler
TiddlyWiki.prototype.addNotification = function(title,fn)
{
	var i;
	for(i=0; i<this.namedNotifications.length; i++) {
		if((this.namedNotifications[i].name == title) && (this.namedNotifications[i].notify == fn))
			return this;
	}
	this.namedNotifications.push({name: title, notify: fn});
	return this;
};

TiddlyWiki.prototype.removeTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		this.deleteTiddler(title);
		this.notify(title,true);
		this.setDirty(true);
	}
};

// Reset the sync status of a freshly synced tiddler
TiddlyWiki.prototype.resetTiddler = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		tiddler.clearChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.setTiddlerTag = function(title,status,tag)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler) {
		var t = tiddler.tags.indexOf(tag);
		if(t != -1)
			tiddler.tags.splice(t,1);
		if(status)
			tiddler.tags.push(tag);
		tiddler.changed();
		tiddler.incChangeCount();
		this.notify(title,true);
		this.setDirty(true);
	}
};

TiddlyWiki.prototype.addTiddlerFields = function(title,fields)
{
	var tiddler = this.fetchTiddler(title);
	if(!tiddler)
		return;
	merge(tiddler.fields,fields);
	tiddler.changed();
	tiddler.incChangeCount();
	this.notify(title,true);
	this.setDirty(true);
};

// Store tiddler in TiddlyWiki instance
TiddlyWiki.prototype.saveTiddler = function(title,newTitle,newBody,modifier,modified,tags,fields,clearChangeCount,created,creator)
{
	var tiddler;
	if(title instanceof Tiddler) {
		tiddler = title;
		tiddler.fields = merge(merge({},tiddler.fields),config.defaultCustomFields,true);
		title = tiddler.title;
		newTitle = title;
	} else {
		tiddler = this.fetchTiddler(title);
		if(tiddler) {
			created = created || tiddler.created; // Preserve created date
			creator = creator || tiddler.creator;
			this.deleteTiddler(title);
		} else {
			created = created || modified;
			tiddler = new Tiddler();
		}
		fields = merge(merge({},fields),config.defaultCustomFields,true);
		tiddler.set(newTitle,newBody,modifier,modified,tags,created,fields,creator);
	}
	this.addTiddler(tiddler);
	if(clearChangeCount)
		tiddler.clearChangeCount();
	else
		tiddler.incChangeCount();
	if(title != newTitle)
		this.notify(title,true);
	this.notify(newTitle,true);
	this.setDirty(true);
	return tiddler;
};

TiddlyWiki.prototype.incChangeCount = function(title)
{
	var tiddler = this.fetchTiddler(title);
	if(tiddler)
		tiddler.incChangeCount();
};

TiddlyWiki.prototype.getLoader = function()
{
	if(!this.loader)
		this.loader = new TW21Loader();
	return this.loader;
};

TiddlyWiki.prototype.getSaver = function()
{
	if(!this.saver)
		this.saver = new TW21Saver();
	return this.saver;
};

// Return all tiddlers formatted as an HTML string
TiddlyWiki.prototype.allTiddlersAsHtml = function()
{
	return this.getSaver().externalize(store);
};

// Load contents of a TiddlyWiki from an HTML DIV
TiddlyWiki.prototype.loadFromDiv = function(src,idPrefix,noUpdate)
{
	this.idPrefix = idPrefix;
	var storeElem = (typeof src == "string") ? document.getElementById(src) : src;
	if(!storeElem)
		return;
	var tiddlers = this.getLoader().loadTiddlers(this,storeElem.childNodes);
	this.setDirty(false);
	if(!noUpdate) {
		var i;
		for(i = 0;i<tiddlers.length; i++)
			tiddlers[i].changed();
	}
	jQuery(document).trigger("loadTiddlers");
};

// Load contents of a TiddlyWiki from a string
// Returns null if there's an error
TiddlyWiki.prototype.importTiddlyWiki = function(text)
{
	var posDiv = locateStoreArea(text);
	if(!posDiv)
		return null;
	var content = "<" + "html><" + "body>" + text.substring(posDiv[0],posDiv[1] + endSaveArea.length) + "<" + "/body><" + "/html>";
	// Create the iframe
	var iframe = document.createElement("iframe");
	iframe.style.display = "none";
	document.body.appendChild(iframe);
	var doc = iframe.document;
	if(iframe.contentDocument)
		doc = iframe.contentDocument; // For NS6
	else if(iframe.contentWindow)
		doc = iframe.contentWindow.document; // For IE5.5 and IE6
	// Put the content in the iframe
	doc.open();
	doc.writeln(content);
	doc.close();
	// Load the content into a TiddlyWiki() object
	var storeArea = doc.getElementById("storeArea");
	this.loadFromDiv(storeArea,"store");
	// Get rid of the iframe
	iframe.parentNode.removeChild(iframe);
	return this;
};

TiddlyWiki.prototype.updateTiddlers = function()
{
	this.tiddlersUpdated = true;
	this.forEachTiddler(function(title,tiddler) {
		tiddler.changed();
	});
};

// Return an array of tiddlers matching a search regular expression
TiddlyWiki.prototype.search = function(searchRegExp,sortField,excludeTag,match)
{
	var candidates = this.reverseLookup("tags",excludeTag,!!match);
	var t,results = [];
	for(t=0; t<candidates.length; t++) {
		if((candidates[t].title.search(searchRegExp) != -1) || (candidates[t].text.search(searchRegExp) != -1))
			results.push(candidates[t]);
	}
	if(!sortField)
		sortField = "title";
	results.sort(function(a,b) {return a[sortField] < b[sortField] ? -1 : (a[sortField] == b[sortField] ? 0 : +1);});
	return results;
};

// Returns a list of all tags in use
//   excludeTag - if present, excludes tags that are themselves tagged with excludeTag
// Returns an array of arrays where [tag][0] is the name of the tag and [tag][1] is the number of occurances
TiddlyWiki.prototype.getTags = function(excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
	var g,c;
		for(g=0; g<tiddler.tags.length; g++) {
			var tag = tiddler.tags[g];
			var n = true;
			for(c=0; c<results.length; c++) {
				if(results[c][0] == tag) {
					n = false;
					results[c][1]++;
				}
			}
			if(n && excludeTag) {
				var t = this.fetchTiddler(tag);
				if(t && t.isTagged(excludeTag))
					n = false;
			}
			if(n)
				results.push([tag,1]);
		}
	});
	results.sort(function(a,b) {return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : (a[0].toLowerCase() == b[0].toLowerCase() ? 0 : +1);});
	return results;
};

// Return an array of the tiddlers that are tagged with a given tag
TiddlyWiki.prototype.getTaggedTiddlers = function(tag,sortField)
{
	return this.reverseLookup("tags",tag,true,sortField);
};

TiddlyWiki.prototype.getValueTiddlers = function(field,value,sortField)
{
	return this.reverseLookup(field,value,true,sortField);
};

// Return an array of the tiddlers that link to a given tiddler
TiddlyWiki.prototype.getReferringTiddlers = function(title,unusedParameter,sortField)
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	return this.reverseLookup("links",title,true,sortField);
};

// Return an array of the tiddlers that do or do not have a specified entry in the specified storage array (ie, "links" or "tags")
// lookupMatch == true to match tiddlers, false to exclude tiddlers
TiddlyWiki.prototype.reverseLookup = function(lookupField,lookupValue,lookupMatch,sortField)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		var f = !lookupMatch;
		var values;
		if(["links", "tags"].contains(lookupField)) {
			values = tiddler[lookupField];
		} else {
			var accessor = TiddlyWiki.standardFieldAccess[lookupField];
			if(accessor) {
				values = [ accessor.get(tiddler) ];
			} else {
				values = tiddler.fields[lookupField] ? [tiddler.fields[lookupField]] : [];
			}
		}
		var lookup;
		for(lookup=0; lookup<values.length; lookup++) {
			if(values[lookup] == lookupValue)
				f = lookupMatch;
		}
		if(f)
			results.push(tiddler);
	});
	if(!sortField)
		sortField = "title";
	return this.sortTiddlers(results,sortField);
};

// Return the tiddlers as a sorted array
TiddlyWiki.prototype.getTiddlers = function(field,excludeTag)
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(excludeTag == undefined || !tiddler.isTagged(excludeTag))
			results.push(tiddler);
	});
	if(field)
		results.sort(function(a,b) {return a[field] < b[field] ? -1 : (a[field] == b[field] ? 0 : +1);});
	return results;
};

// Return array of names of tiddlers that are referred to but not defined
TiddlyWiki.prototype.getMissingLinks = function()
{
	if(!this.tiddlersUpdated)
		this.updateTiddlers();
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(tiddler.isTagged("excludeMissing") || tiddler.isTagged("systemConfig"))
			return;
		var n;
		for(n=0; n<tiddler.links.length;n++) {
			var link = tiddler.links[n];
			if(this.getTiddlerText(link,null) == null && !this.isShadowTiddler(link) && !config.macros[link])
				results.pushUnique(link);
		}
	});
	results.sort();
	return results;
};

// Return an array of names of tiddlers that are defined but not referred to
TiddlyWiki.prototype.getOrphans = function()
{
	var results = [];
	this.forEachTiddler(function (title,tiddler) {
		if(this.getReferringTiddlers(title).length == 0 && !tiddler.isTagged("excludeLists"))
			results.push(title);
	});
	results.sort();
	return results;
};

// Return an array of names of all the shadow tiddlers
TiddlyWiki.prototype.getShadowed = function()
{
	var t,results = [];
	for(t in config.shadowTiddlers) {
		if(this.isShadowTiddler(t))
			results.push(t);
	}
	results.sort();
	return results;
};

// Return an array of tiddlers that have been touched since they were downloaded or created
TiddlyWiki.prototype.getTouched = function()
{
	var results = [];
	this.forEachTiddler(function(title,tiddler) {
		if(tiddler.isTouched())
			results.push(tiddler);
		});
	results.sort();
	return results;
};

// Resolves a Tiddler reference or tiddler title into a Tiddler object, or null if it doesn't exist
TiddlyWiki.prototype.resolveTiddler = function(tiddler)
{
	var t = (typeof tiddler == "string") ? this.getTiddler(tiddler) : tiddler;
	return t instanceof Tiddler ? t : null;
};

// Sort a list of tiddlers
TiddlyWiki.prototype.sortTiddlers = function(tiddlers,field)
{
	var asc = +1;
	switch(field.substr(0,1)) {
	case "-":
		asc = -1;
		field = field.substr(1);
		break;
	case "+":
		field = field.substr(1);
		break;
	}
	if(TiddlyWiki.standardFieldAccess[field]) {
		if(field=="title") {
			tiddlers.sort(function(a,b) {return a[field].toLowerCase() < b[field].toLowerCase() ? -asc : (a[field].toLowerCase() == b[field].toLowerCase() ? 0 : asc);});
		} else {
			tiddlers.sort(function(a,b) {return a[field] < b[field] ? -asc : (a[field] == b[field] ? 0 : asc);});
		}
	} else {
		tiddlers.sort(function(a,b) {return a.fields[field] < b.fields[field] ? -asc : (a.fields[field] == b.fields[field] ? 0 : +asc);});
	}
	return tiddlers;
};

//--
//-- Filter a list of tiddlers
//--

config.filters = {
	tiddler: function(results,match) {
		var title = match[1]||match[4];
		var tiddler = this.fetchTiddler(title);
		if(tiddler) {
			results.pushUnique(tiddler);
		} else if(this.isShadowTiddler(title)) {
			tiddler = new Tiddler();
			tiddler.set(title,this.getTiddlerText(title));
			results.pushUnique(tiddler);
		} else {
			results.pushUnique(new Tiddler(title));
		}
		return results;
	},
	tag: function(results,match) {
		var m,matched = this.getTaggedTiddlers(match[3]);
		for(m=0; m<matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	},
	sort: function(results,match) {
		return this.sortTiddlers(results,match[3]);
	},
	limit: function(results,match) {
		return results.slice(0,parseInt(match[3],10));
	},
	field: function(results,match) {
		var m,matched = this.getValueTiddlers(match[2],match[3]);
		for (m = 0; m < matched.length; m++) {
			results.pushUnique(matched[m]);
		}
		return results;
	}
};

// Filter a list of tiddlers
TiddlyWiki.prototype.filterTiddlers = function(filter)
{
	var re = /([^\s\[\]]+)|(?:\[([ \w\.\-]+)\[([^\]]+)\]\])|(?:\[\[([^\]]+)\]\])/mg;

	var results = [];
	if(filter) {
		var match = re.exec(filter);
		while(match) {
			var handler = (match[1]||match[4])?'tiddler':config.filters[match[2]]?match[2]:'field';
			results = config.filters[handler].call(this,results,match);
			match = re.exec(filter);
		}
	}
	return results;
};
// Returns true if path is a valid field name (path),
// i.e. a sequence of identifiers, separated by "."
TiddlyWiki.isValidFieldName = function(name)
{
	var match = /[a-zA-Z_]\w*(\.[a-zA-Z_]\w*)*/.exec(name);
	return match && (match[0] == name);
};

// Throws an exception when name is not a valid field name.
TiddlyWiki.checkFieldName = function(name)
{
	if(!TiddlyWiki.isValidFieldName(name))
		throw config.messages.invalidFieldName.format([name]);
};

function StringFieldAccess(n,readOnly)
{
	this.set = readOnly ?
			function(t,v) {if(v != t[n]) throw config.messages.fieldCannotBeChanged.format([n]);} :
			function(t,v) {if(v != t[n]) {t[n] = v; return true;}};
	this.get = function(t) {return t[n];};
}

function DateFieldAccess(n)
{
	this.set = function(t,v) {
		var d = v instanceof Date ? v : Date.convertFromYYYYMMDDHHMM(v);
		if(d != t[n]) {
			t[n] = d; return true;
		}
	};
	this.get = function(t) {return t[n].convertToYYYYMMDDHHMM();};
}

function LinksFieldAccess(n)
{
	this.set = function(t,v) {
		var s = (typeof v == "string") ? v.readBracketedList() : v;
		if(s.toString() != t[n].toString()) {
			t[n] = s; return true;
		}
	};
	this.get = function(t) {return String.encodeTiddlyLinkList(t[n]);};
}

TiddlyWiki.standardFieldAccess = {
	// The set functions return true when setting the data has changed the value.
	"title":new StringFieldAccess("title",true),
	// Handle the "tiddler" field name as the title
	"tiddler":  new StringFieldAccess("title",true),
	"text": new StringFieldAccess("text"),
	"modifier": new StringFieldAccess("modifier"),
	"modified": new DateFieldAccess("modified"),
	"creator":  new StringFieldAccess("creator"),
	"created":  new DateFieldAccess("created"),
	"tags": new LinksFieldAccess("tags")
};

TiddlyWiki.isStandardField = function(name)
{
	return TiddlyWiki.standardFieldAccess[name] != undefined;
};

// Sets the value of the given field of the tiddler to the value.
// Setting an ExtendedField's value to null or undefined removes the field.
// Setting a namespace to undefined removes all fields of that namespace.
// The fieldName is case-insensitive.
// All values will be converted to a string value.
TiddlyWiki.prototype.setValue = function(tiddler,fieldName,value)
{
	TiddlyWiki.checkFieldName(fieldName);
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return;
	fieldName = fieldName.toLowerCase();
	var isRemove = (value === undefined) || (value === null);
	var accessor = TiddlyWiki.standardFieldAccess[fieldName];
	if(accessor) {
		if(isRemove)
			// don't remove StandardFields
			return;
		var h = TiddlyWiki.standardFieldAccess[fieldName];
		if(!h.set(t,value))
			return;
	} else {
		var oldValue = t.fields[fieldName];
		if(isRemove) {
			if(oldValue !== undefined) {
				// deletes a single field
				delete t.fields[fieldName];
			} else {
				// no concrete value is defined for the fieldName
				// so we guess this is a namespace path.
				// delete all fields in a namespace
				var re = new RegExp("^"+fieldName+"\\.");
				var dirty = false;
				var n;
				for(n in t.fields) {
					if(n.match(re)) {
						delete t.fields[n];
						dirty = true;
					}
				}
				if(!dirty)
					return;
			}
		} else {
			// the "normal" set case. value is defined (not null/undefined)
			// For convenience provide a nicer conversion Date->String
			value = value instanceof Date ? value.convertToYYYYMMDDHHMMSSMMM() : String(value);
			if(oldValue == value)
				return;
			t.fields[fieldName] = value;
		}
	}
	// When we are here the tiddler/store really was changed.
	this.notify(t.title,true);
	if(!fieldName.match(/^temp\./))
		this.setDirty(true);
};

// Returns the value of the given field of the tiddler.
// The fieldName is case-insensitive.
// Will only return String values (or undefined).
TiddlyWiki.prototype.getValue = function(tiddler,fieldName)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	if(fieldName.indexOf(config.textPrimitives.sectionSeparator) === 0 || fieldName.indexOf(config.textPrimitives.sliceSeparator) === 0) {
		var sliceType = fieldName.substr(0, 2);
		var sliceName = fieldName.substring(2);
		return store.getTiddlerText("%0%1%2".format(t.title,sliceType,sliceName));
	} else {
		fieldName = fieldName.toLowerCase();
		var accessor = TiddlyWiki.standardFieldAccess[fieldName];
		if(accessor) {
			return accessor.get(t);
		}
	}
	return t.fields[fieldName];
};

// Calls the callback function for every field in the tiddler.
// When callback function returns a non-false value the iteration stops
// and that value is returned.
// The order of the fields is not defined.
// @param callback a function(tiddler,fieldName,value).
TiddlyWiki.prototype.forEachField = function(tiddler,callback,onlyExtendedFields)
{
	var t = this.resolveTiddler(tiddler);
	if(!t)
		return undefined;
	var n,result;
	for(n in t.fields) {
		result = callback(t,n,t.fields[n]);
		if(result)
			return result;
		}
	if(onlyExtendedFields)
		return undefined;
	for(n in TiddlyWiki.standardFieldAccess) {
		if(n != "tiddler") {
			// even though the "title" field can also be referenced through the name "tiddler"
			// we only visit this field once.
			result = callback(t,n,TiddlyWiki.standardFieldAccess[n].get(t));
			if(result)
				return result;
		}
	}
	return undefined;
};

//--
//-- Story functions
//--

function Story(containerId,idPrefix)
{
	this.container = containerId;
	this.idPrefix = idPrefix;
	this.highlightRegExp = null;
	this.tiddlerId = function(title) {
		title = title.replace(/_/g, "__").replace(/ /g, "_");
		var id = this.idPrefix + title;
		return id==this.container ? this.idPrefix + "_" + title : id;
	};
	this.containerId = function() {
		return this.container;
	};
}

Story.prototype.getTiddler = function(title)
{
	return document.getElementById(this.tiddlerId(title));
};

Story.prototype.getContainer = function()
{
	return document.getElementById(this.containerId());
};

Story.prototype.forEachTiddler = function(fn)
{
	var place = this.getContainer();
	if(!place)
		return;
	var e = place.firstChild;
	while(e) {
		var n = e.nextSibling;
		var title = e.getAttribute("tiddler");
		if(title) {
			fn.call(this,title,e);
		}
		e = n;
	}
};

Story.prototype.displayDefaultTiddlers = function()
{
	this.displayTiddlers(null,store.filterTiddlers(store.getTiddlerText("DefaultTiddlers")));
};

Story.prototype.displayTiddlers = function(srcElement,titles,template,animate,unused,customFields,toggle)
{
	var t;
	for(t = titles.length-1;t>=0;t--)
		this.displayTiddler(srcElement,titles[t],template,animate,unused,customFields);
};

Story.prototype.displayTiddler = function(srcElement,tiddler,template,animate,unused,customFields,toggle,animationSrc)
{
	var title = (tiddler instanceof Tiddler) ? tiddler.title : tiddler;
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(toggle) {
			if(tiddlerElem.getAttribute("dirty") != "true")
				this.closeTiddler(title,true);
		} else {
			this.refreshTiddler(title,template,false,customFields);
		}
	} else {
		var place = this.getContainer();
		var before = this.positionTiddler(srcElement);
		tiddlerElem = this.createTiddler(place,before,title,template,customFields);
	}
	if(animationSrc && typeof animationSrc !== "string") {
		srcElement = animationSrc;
	}
	if(srcElement && typeof srcElement !== "string") {
		if(config.options.chkAnimate && (animate == undefined || animate == true) && anim && typeof Zoomer == "function" && typeof Scroller == "function")
			anim.startAnimating(new Zoomer(title,srcElement,tiddlerElem),new Scroller(tiddlerElem));
		else
			window.scrollTo(0,ensureVisible(tiddlerElem));
	}
	return tiddlerElem;
};

Story.prototype.positionTiddler = function(srcElement)
{
	var place = this.getContainer();
	var before = null;
	if(typeof srcElement == "string") {
		switch(srcElement) {
		case "top":
			before = place.firstChild;
			break;
		case "bottom":
			before = null;
			break;
		}
	} else {
		var after = this.findContainingTiddler(srcElement);
		if(after == null) {
			before = place.firstChild;
		} else if(after.nextSibling) {
			before = after.nextSibling;
			if(before.nodeType != 1)
				before = null;
		}
	}
	return before;
};

Story.prototype.createTiddler = function(place,before,title,template,customFields)
{
	var tiddlerElem = createTiddlyElement(null,"div",this.tiddlerId(title),"tiddler");
	tiddlerElem.setAttribute("refresh","tiddler");
	if(customFields)
		tiddlerElem.setAttribute("tiddlyFields",customFields);
	place.insertBefore(tiddlerElem,before);
	var defaultText = null;
	if(!store.tiddlerExists(title) && !store.isShadowTiddler(title))
		defaultText = this.loadMissingTiddler(title,customFields);
	this.refreshTiddler(title,template,false,customFields,defaultText);
	return tiddlerElem;
};

Story.prototype.loadMissingTiddler = function(title,fields,callback)
{
	var getTiddlerCallback = function(context)
	{
		if(context.status) {
			var t = context.tiddler;
			if(!t.created)
				t.created = new Date();
			if(!t.modified)
				t.modified = t.created;
			var dirty = store.isDirty();
			context.tiddler = store.saveTiddler(t.title,t.title,t.text,t.modifier,t.modified,t.tags,t.fields,true,t.created,t.creator);
			if(!window.allowSave())
				store.setDirty(dirty);
			autoSaveChanges();
		} else {
			story.refreshTiddler(context.title,null,true);
		}
		context.adaptor.close();
		if(callback) {
			callback(context);
		}
	};
	var tiddler = new Tiddler(title);
	tiddler.fields = typeof fields == "string" ? fields.decodeHashMap() : fields||{};
	var context = {serverType:tiddler.getServerType()};
	if(!context.serverType)
		return "";
	context.host = tiddler.fields['server.host'];
	context.workspace = tiddler.fields['server.workspace'];
	var adaptor = new config.adaptors[context.serverType]();
	adaptor.getTiddler(title,context,null,getTiddlerCallback);
	return config.messages.loadingMissingTiddler.format([title,context.serverType,context.host,context.workspace]);
};

Story.prototype.chooseTemplateForTiddler = function(title,template)
{
	if(!template)
		template = DEFAULT_VIEW_TEMPLATE;
	if(template == DEFAULT_VIEW_TEMPLATE || template == DEFAULT_EDIT_TEMPLATE)
		template = config.tiddlerTemplates[template];
	return template;
};

Story.prototype.getTemplateForTiddler = function(title,template,tiddler)
{
	return store.getRecursiveTiddlerText(template,null,10);
};

Story.prototype.refreshTiddler = function(title,template,force,customFields,defaultText)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		if(tiddlerElem.getAttribute("dirty") == "true" && !force)
			return tiddlerElem;
		template = this.chooseTemplateForTiddler(title,template);
		var currTemplate = tiddlerElem.getAttribute("template");
		if((template != currTemplate) || force) {
			var tiddler = store.getTiddler(title);
			if(!tiddler) {
				tiddler = new Tiddler();
				if(store.isShadowTiddler(title)) {
					var tags = [];
					tiddler.set(title,store.getTiddlerText(title),config.views.wikified.shadowModifier,version.date,tags,version.date);
				} else {
					var text = template=="EditTemplate" ?
								config.views.editor.defaultText.format([title]) :
								config.views.wikified.defaultText.format([title]);
					text = defaultText || text;
					var fields = customFields ? customFields.decodeHashMap() : null;
					tiddler.set(title,text,config.views.wikified.defaultModifier,version.date,[],version.date,fields);
				}
			}
			tiddlerElem.setAttribute("tags",tiddler.tags.join(" "));
			tiddlerElem.setAttribute("tiddler",title);
			tiddlerElem.setAttribute("template",template);
			tiddlerElem.onmouseover = this.onTiddlerMouseOver;
			tiddlerElem.onmouseout = this.onTiddlerMouseOut;
			tiddlerElem.ondblclick = this.onTiddlerDblClick;
			tiddlerElem[window.event?"onkeydown":"onkeypress"] = this.onTiddlerKeyPress;
			tiddlerElem.innerHTML = this.getTemplateForTiddler(title,template,tiddler);
			applyHtmlMacros(tiddlerElem,tiddler);
			if(store.getTaggedTiddlers(title).length > 0)
				jQuery(tiddlerElem).addClass("isTag");
			else
				jQuery(tiddlerElem).removeClass("isTag");
			if(store.tiddlerExists(title)) {
				jQuery(tiddlerElem).removeClass("shadow");
				jQuery(tiddlerElem).removeClass("missing");
			} else {
				jQuery(tiddlerElem).addClass(store.isShadowTiddler(title) ? "shadow" : "missing");
			}
			if(customFields)
				this.addCustomFields(tiddlerElem,customFields);
		}
	}
	return tiddlerElem;
};

Story.prototype.addCustomFields = function(place,customFields)
{
	var fields = customFields.decodeHashMap();
	var w = createTiddlyElement(place,"div",null,"customFields");
	w.style.display = "none";
	var t;
	for(t in fields) {
		var e = document.createElement("input");
		e.setAttribute("type","text");
		e.setAttribute("value",fields[t]);
		w.appendChild(e);
		e.setAttribute("edit",t);
	}
};

Story.prototype.refreshAllTiddlers = function(force)
{
	var e = this.getContainer().firstChild;
	while(e) {
		var template = e.getAttribute("template");
		if(template && e.getAttribute("dirty") != "true") {
			this.refreshTiddler(e.getAttribute("tiddler"),force ? null : template,true);
		}
		e = e.nextSibling;
	}
};

Story.prototype.onTiddlerMouseOver = function(e)
{
	jQuery(this).addClass("selected");
};

Story.prototype.onTiddlerMouseOut = function(e)
{
	jQuery(this).removeClass("selected");
};

Story.prototype.onTiddlerDblClick = function(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	if(target && target.nodeName.toLowerCase() != "input" && target.nodeName.toLowerCase() != "textarea") {
		if(document.selection && document.selection.empty)
			document.selection.empty();
		config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
		e.cancelBubble = true;
		if(e.stopPropagation) e.stopPropagation();
		return true;
	}
	return false;
};

Story.prototype.onTiddlerKeyPress = function(ev)
{
	var e = ev || window.event;
	clearMessage();
	var consume = false;
	var title = this.getAttribute("tiddler");
	var target = resolveTarget(e);
	switch(e.keyCode) {
	case 9: // Tab
		var ed = story.getTiddlerField(title,"text");
		if(target.tagName.toLowerCase() == "input" && ed.value==config.views.editor.defaultText.format([title])) {
			// moving from input field and editor still contains default text, so select it
			ed.focus();
			ed.select();
			consume = true;
		}
		if(config.options.chkInsertTabs && target.tagName.toLowerCase() == "textarea") {
			replaceSelection(target,String.fromCharCode(9));
			consume = true;
		}
		if(config.isOpera) {
			target.onblur = function() {
				this.focus();
				this.onblur = null;
			};
		}
		break;
	case 13: // Ctrl-Enter
	case 10: // Ctrl-Enter on IE PC
	case 77: // Ctrl-Enter is "M" on some platforms
		if(e.ctrlKey) {
			blurElement(this);
			config.macros.toolbar.invokeCommand(this,"defaultCommand",e);
			consume = true;
		}
		break;
	case 27: // Escape
		blurElement(this);
		config.macros.toolbar.invokeCommand(this,"cancelCommand",e);
		consume = true;
		break;
	}
	e.cancelBubble = consume;
	if(consume) {
		if(e.stopPropagation) e.stopPropagation(); // Stop Propagation
		e.returnValue = true; // Cancel The Event in IE
		if(e.preventDefault ) e.preventDefault(); // Cancel The Event in Moz
	}
	return !consume;
};

Story.prototype.getTiddlerField = function(title,field)
{
	var tiddlerElem = this.getTiddler(title);
	var e = null;
	if(tiddlerElem) {
		var t,children = tiddlerElem.getElementsByTagName("*");
		for(t=0; t<children.length; t++) {
			var c = children[t];
			if(c.tagName.toLowerCase() == "input" || c.tagName.toLowerCase() == "textarea") {
				if(!e)
					e = c;
				if(c.getAttribute("edit") == field)
					e = c;
			}
		}
	}
	return e;
};

Story.prototype.focusTiddler = function(title,field)
{
	var e = this.getTiddlerField(title,field);
	if(e) {
		e.focus();
		e.select();
	}
};

Story.prototype.blurTiddler = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem && tiddlerElem.focus && tiddlerElem.blur) {
		tiddlerElem.focus();
		tiddlerElem.blur();
	}
};

Story.prototype.setTiddlerField = function(title,tag,mode,field)
{
	var c = this.getTiddlerField(title,field);
	var tags = c.value.readBracketedList();
	tags.setItem(tag,mode);
	c.value = String.encodeTiddlyLinkList(tags);
};

Story.prototype.setTiddlerTag = function(title,tag,mode)
{
	this.setTiddlerField(title,tag,mode,"tags");
};

Story.prototype.closeTiddler = function(title,animate,unused)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		clearMessage();
		this.scrubTiddler(tiddlerElem);
		if(config.options.chkAnimate && animate && anim && typeof Slider == "function")
			anim.startAnimating(new Slider(tiddlerElem,false,null,"all"));
		else {
			jQuery(tiddlerElem).remove();
		}
	}
};

Story.prototype.scrubTiddler = function(tiddlerElem)
{
	tiddlerElem.id = null;
};

Story.prototype.setDirty = function(title,dirty)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		tiddlerElem.setAttribute("dirty",dirty ? "true" : "false");
};

Story.prototype.isDirty = function(title)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem)
		return tiddlerElem.getAttribute("dirty") == "true";
	return null;
};

Story.prototype.areAnyDirty = function()
{
	var r = false;
	this.forEachTiddler(function(title,element) {
		if(this.isDirty(title))
			r = true;
	});
	return r;
};

Story.prototype.closeAllTiddlers = function(exclude)
{
	clearMessage();
	this.forEachTiddler(function(title,element) {
		if((title != exclude) && element.getAttribute("dirty") != "true")
			this.closeTiddler(title);
	});
	window.scrollTo(0,ensureVisible(this.container));
};

Story.prototype.isEmpty = function()
{
	var place = this.getContainer();
	return place && place.firstChild == null;
};

Story.prototype.search = function(text,useCaseSensitive,useRegExp)
{
	this.closeAllTiddlers();
	highlightHack = new RegExp(useRegExp ? text : text.escapeRegExp(),useCaseSensitive ? "mg" : "img");
	var matches = store.search(highlightHack,"title","excludeSearch");
	this.displayTiddlers(null,matches);
	highlightHack = null;
	var q = useRegExp ? "/" : "'";
	if(matches.length > 0)
		displayMessage(config.macros.search.successMsg.format([matches.length.toString(),q + text + q]));
	else
		displayMessage(config.macros.search.failureMsg.format([q + text + q]));
};

Story.prototype.findContainingTiddler = function(e)
{
	while(e && !jQuery(e).hasClass("tiddler")) {
		e = jQuery(e).hasClass("popup") && Popup.stack[0] ? Popup.stack[0].root : e.parentNode;
	}
	return e;
};

Story.prototype.gatherSaveFields = function(e,fields)
{
	if(e && e.getAttribute) {
		var f = e.getAttribute("edit");
		if(f)
			fields[f] = e.value.replace(/\r/mg,"");
		if(e.hasChildNodes()) {
			var t,c = e.childNodes;
			for(t=0; t<c.length; t++)
				this.gatherSaveFields(c[t],fields);
		}
	}
};

Story.prototype.hasChanges = function(title)
{
	var e = this.getTiddler(title);
	if(e) {
		var fields = {};
		this.gatherSaveFields(e,fields);
		if(store.fetchTiddler(title)) {
		var n;
			for(n in fields) {
				if(store.getValue(title,n) != fields[n]) //# tiddler changed
					return true;
			}
		} else {
			if(store.isShadowTiddler(title) && store.getShadowTiddlerText(title) == fields.text) { //# not checking for title or tags
				return false;
			} else { //# changed shadow or new tiddler
				return true;
			}
		}
	}
	return false;
};

Story.prototype.saveTiddler = function(title,minorUpdate)
{
	var tiddlerElem = this.getTiddler(title);
	if(tiddlerElem) {
		var fields = {};
		this.gatherSaveFields(tiddlerElem,fields);
		var newTitle = fields.title || title;
		if(!store.tiddlerExists(newTitle)) {
			newTitle = newTitle.trim();
			var creator = config.options.txtUserName;
		}
		if(store.tiddlerExists(newTitle) && newTitle != title) {
			if(!confirm(config.messages.overwriteWarning.format([newTitle.toString()])))
				return null;
				title = newTitle;
		}
		if(newTitle != title)
			this.closeTiddler(newTitle,false);
		tiddlerElem.id = this.tiddlerId(newTitle);
		tiddlerElem.setAttribute("tiddler",newTitle);
		tiddlerElem.setAttribute("template",DEFAULT_VIEW_TEMPLATE);
		tiddlerElem.setAttribute("dirty","false");
		if(config.options.chkForceMinorUpdate)
			minorUpdate = !minorUpdate;
		if(!store.tiddlerExists(newTitle))
			minorUpdate = false;
		var newDate = new Date();
		if(store.tiddlerExists(title)) {
			var t = store.fetchTiddler(title);
			var extendedFields = t.fields;
			creator = t.creator;
		} else {
			extendedFields = merge({},config.defaultCustomFields);
		}
		var n;
		for(n in fields) {
			if(!TiddlyWiki.isStandardField(n))
				extendedFields[n] = fields[n];
		}
		var tiddler = store.saveTiddler(title,newTitle,fields.text,minorUpdate ? undefined : config.options.txtUserName,minorUpdate ? undefined : newDate,fields.tags,extendedFields,null,null,creator);
		autoSaveChanges(null,[tiddler]);
		return newTitle;
	}
	return null;
};

Story.prototype.permaView = function()
{
	var links = [];
	this.forEachTiddler(function(title,element) {
		links.push(String.encodeTiddlyLink(title));
	});
	var t = encodeURIComponent(links.join(" "));
	if(t == "")
		t = "#";
	if(window.location.hash != t)
		window.location.hash = t;
};

Story.prototype.switchTheme = function(theme)
{
	if(safeMode)
		return;

	var getSlice = function(theme,slice) {
		var r;
		if(readOnly)
			r = store.getTiddlerSlice(theme,slice+"ReadOnly") || store.getTiddlerSlice(theme,"Web"+slice);
		r = r || store.getTiddlerSlice(theme,slice);
		if(r && r.indexOf(config.textPrimitives.sectionSeparator)==0)
			r = theme + r;
		return store.isAvailable(r) ? r : slice;
	};

	var replaceNotification = function(i,name,theme,slice) {
		var newName = getSlice(theme,slice);
		if(name!=newName && store.namedNotifications[i].name==name) {
			store.namedNotifications[i].name = newName;
			return newName;
		}
		return name;
	};

	var pt = config.refresherData.pageTemplate;
	var vi = DEFAULT_VIEW_TEMPLATE;
	var vt = config.tiddlerTemplates[vi];
	var ei = DEFAULT_EDIT_TEMPLATE;
	var et = config.tiddlerTemplates[ei];

	var i;
	for(i=0; i<config.notifyTiddlers.length; i++) {
		var name = config.notifyTiddlers[i].name;
		switch(name) {
		case "PageTemplate":
			config.refresherData.pageTemplate = replaceNotification(i,config.refresherData.pageTemplate,theme,name);
			break;
		case "StyleSheet":
			removeStyleSheet(config.refresherData.styleSheet);
			config.refresherData.styleSheet = replaceNotification(i,config.refresherData.styleSheet,theme,name);
			break;
		case "ColorPalette":
			config.refresherData.colorPalette = replaceNotification(i,config.refresherData.colorPalette,theme,name);
			break;
		default:
			break;
		}
	}
	config.tiddlerTemplates[vi] = getSlice(theme,"ViewTemplate");
	config.tiddlerTemplates[ei] = getSlice(theme,"EditTemplate");
	if(!startingUp) {
		if(config.refresherData.pageTemplate!=pt || config.tiddlerTemplates[vi]!=vt || config.tiddlerTemplates[ei]!=et) {
			refreshAll();
			this.refreshAllTiddlers(true);
		} else {
			setStylesheet(store.getRecursiveTiddlerText(config.refresherData.styleSheet,"",10),config.refreshers.styleSheet);
		}
		config.options.txtTheme = theme;
		saveOption("txtTheme");
	}
};

//--
//-- Backstage
//--
// Backstage tasks
config.tasks.save.action = saveChanges;

var backstage = {
	area: null,
	toolbar: null,
	button: null,
	showButton: null,
	hideButton: null,
	cloak: null,
	panel: null,
	panelBody: null,
	panelFooter: null,
	currTabName: null,
	currTabElem: null,
	content: null,

	init: function() {
		var cmb = config.messages.backstage;
		this.area = document.getElementById("backstageArea");
		this.toolbar = jQuery("#backstageToolbar").empty()[0];
		this.button = jQuery("#backstageButton").empty()[0];
		this.button.style.display = "block";
		var t = cmb.open.text + " " + glyph("bentArrowLeft");
		this.showButton = createTiddlyButton(this.button,t,cmb.open.tooltip,
						function(e) {backstage.show(); return false;},null,"backstageShow");
		t = glyph("bentArrowRight") + " " + cmb.close.text;
		this.hideButton = createTiddlyButton(this.button,t,cmb.close.tooltip,
						function(e) {backstage.hide(); return false;},null,"backstageHide");
		this.cloak = document.getElementById("backstageCloak");
		this.panel = document.getElementById("backstagePanel");
		this.panelFooter = createTiddlyElement(this.panel,"div",null,"backstagePanelFooter");
		this.panelBody = createTiddlyElement(this.panel,"div",null,"backstagePanelBody");
		this.cloak.onmousedown = function(e) {backstage.switchTab(null);};
		createTiddlyText(this.toolbar,cmb.prompt);
		for(t=0; t<config.backstageTasks.length; t++) {
			var taskName = config.backstageTasks[t];
			var task = config.tasks[taskName];
			var handler = task.action ? this.onClickCommand : this.onClickTab;
			var text = task.text + (task.action ? "" : glyph("downTriangle"));
			var btn = createTiddlyButton(this.toolbar,text,task.tooltip,handler,"backstageTab");
			jQuery(btn).addClass(task.action ? "backstageAction" : "backstageTask");
			btn.setAttribute("task", taskName);
			}
		this.content = document.getElementById("contentWrapper");
		if(config.options.chkBackstage)
			this.show();
		else
			this.hide();
	},

	isVisible: function() {
		return this.area ? this.area.style.display == "block" : false;
	},

	show: function() {
		this.area.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.toolbar.style.left = findWindowWidth() + "px";
			var p = [{style: "left", start: findWindowWidth(), end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p));
		} else {
			backstage.area.style.left = "0px";
		}
		jQuery(this.showButton).hide();
		jQuery(this.hideButton).show();
		config.options.chkBackstage = true;
		saveOption("chkBackstage");
		jQuery(this.content).addClass("backstageVisible");
	},

	hide: function() {
		if(this.currTabElem) {
			this.switchTab(null);
		} else {
			backstage.toolbar.style.left = "0px";
			if(anim && config.options.chkAnimate) {
				var p = [{style: "left", start: 0, end: findWindowWidth(), template: "%0px"}];
				var c = function(element,properties) {backstage.area.style.display = "none";};
				anim.startAnimating(new Morpher(backstage.toolbar,config.animDuration,p,c));
			} else {
				this.area.style.display = "none";
			}
			this.showButton.style.display = "block";
			this.hideButton.style.display = "none";
			config.options.chkBackstage = false;
			saveOption("chkBackstage");
			jQuery(this.content).removeClass("backstageVisible");
		}
	},

	onClickCommand: function(e) {
		var task = config.tasks[this.getAttribute("task")];
		if(task.action) {
			backstage.switchTab(null);
			task.action();
		}
		return false;
	},

	onClickTab: function(e) {
		backstage.switchTab(this.getAttribute("task"));
		return false;
	},

	// Switch to a given tab, or none if null is passed
	switchTab: function(tabName) {
		var tabElem = null;
		var e = this.toolbar.firstChild;
		while(e) {
			if(e.getAttribute && e.getAttribute("task") == tabName)
				tabElem = e;
			e = e.nextSibling;
		}
		if(tabName == backstage.currTabName) {
			backstage.hidePanel();
			return;
		}
		if(backstage.currTabElem) {
			jQuery(this.currTabElem).removeClass("backstageSelTab");
		}
		if(tabElem && tabName) {
			backstage.preparePanel();
			jQuery(tabElem).addClass("backstageSelTab");
			var task = config.tasks[tabName];
			wikify(task.content,backstage.panelBody,null,null);
			backstage.showPanel();
		} else if(backstage.currTabElem) {
			backstage.hidePanel();
		}
		backstage.currTabName = tabName;
		backstage.currTabElem = tabElem;
	},

	isPanelVisible: function() {
		return backstage.panel ? backstage.panel.style.display == "block" : false;
	},

	preparePanel: function() {
		backstage.cloak.style.height = findDocHeight() + "px";
		backstage.cloak.style.display = "block";
		jQuery(backstage.panelBody).empty();
		return backstage.panelBody;
	},

	showPanel: function() {
		backstage.panel.style.display = "block";
		if(anim && config.options.chkAnimate) {
			backstage.panel.style.top = (-backstage.panel.offsetHeight) + "px";
			var p = [{style: "top", start: -backstage.panel.offsetHeight, end: 0, template: "%0px"}];
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p),new Scroller(backstage.panel,false));
		} else {
			backstage.panel.style.top = "0px";
		}
		return backstage.panelBody;
	},

	hidePanel: function() {
		if(backstage.currTabElem)
			jQuery(backstage.currTabElem).removeClass("backstageSelTab");
		backstage.currTabElem = null;
		backstage.currTabName = null;
		if(anim && config.options.chkAnimate) {
			var p = [
				{style: "top", start: 0, end: -(backstage.panel.offsetHeight), template: "%0px"},
				{style: "display", atEnd: "none"}
			];
			var c = function(element,properties) {backstage.cloak.style.display = "none";};
			anim.startAnimating(new Morpher(backstage.panel,config.animDuration,p,c));
		} else {
			jQuery([backstage.panel,backstage.cloak]).hide();
		}
	}
};

config.macros.backstage = {};

config.macros.backstage.handler = function(place,macroName,params)
{
	var backstageTask = config.tasks[params[0]];
	if(backstageTask)
		createTiddlyButton(place,backstageTask.text,backstageTask.tooltip,function(e) {backstage.switchTab(params[0]); return false;});
};

//--
//-- ImportTiddlers macro
//--

config.macros.importTiddlers.handler = function(place,macroName,params,wikifier,paramString,tiddler)
{
	if(readOnly) {
		createTiddlyElement(place,"div",null,"marked",this.readOnlyWarning);
		return;
	}
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	this.restart(w);
};

config.macros.importTiddlers.onCancel = function(e)
{
	var wizard = new Wizard(this);
	wizard.clear();
	config.macros.importTiddlers.restart(wizard);
	return false;
};

config.macros.importTiddlers.onClose = function(e)
{
	backstage.hidePanel();
	return false;
};

config.macros.importTiddlers.restart = function(wizard)
{
	var me = config.macros.importTiddlers;
	wizard.addStep(this.step1Title,this.step1Html);
	var t,s = wizard.getElement("selTypes");
	for(t in config.adaptors) {
		var e = createTiddlyElement(s,"option",null,null,config.adaptors[t].serverLabel || t);
		e.value = t;
	}
	if(config.defaultAdaptor)
		s.value = config.defaultAdaptor;
	s = wizard.getElement("selFeeds");
	var feeds = this.getFeeds();
	for(t in feeds) {
		e = createTiddlyElement(s,"option",null,null,t);
		e.value = t;
	}
	wizard.setValue("feeds",feeds);
	s.onchange = me.onFeedChange;
	var fileInput = wizard.getElement("txtBrowse");
	fileInput.onchange = me.onBrowseChange;
	fileInput.onkeyup = me.onBrowseChange;
	wizard.setButtons([{caption: this.openLabel, tooltip: this.openPrompt, onClick: me.onOpen}]);
	wizard.formElem.action = "javascript:;";
	wizard.formElem.onsubmit = function() {
		if(!this.txtPath || this.txtPath.value.length) //# check for manually entered path in first step
			this.lastChild.firstChild.onclick();
	};
};

config.macros.importTiddlers.getFeeds = function()
{
	var feeds = {};
	var t,tagged = store.getTaggedTiddlers("systemServer","title");
	for(t=0; t<tagged.length; t++) {
		var title = tagged[t].title;
		var serverType = store.getTiddlerSlice(title,"Type");
		if(!serverType)
			serverType = "file";
		feeds[title] = {title: title,
						url: store.getTiddlerSlice(title,"URL"),
						workspace: store.getTiddlerSlice(title,"Workspace"),
						workspaceList: store.getTiddlerSlice(title,"WorkspaceList"),
						tiddlerFilter: store.getTiddlerSlice(title,"TiddlerFilter"),
						serverType: serverType,
						description: store.getTiddlerSlice(title,"Description")};
	}
	return feeds;
};

config.macros.importTiddlers.onFeedChange = function(e)
{
	var wizard = new Wizard(this);
	var selTypes = wizard.getElement("selTypes");
	var fileInput = wizard.getElement("txtPath");
	var feeds = wizard.getValue("feeds");
	var f = feeds[this.value];
	if(f) {
		selTypes.value = f.serverType;
		fileInput.value = f.url;
		wizard.setValue("feedName",f.serverType);
		wizard.setValue("feedHost",f.url);
		wizard.setValue("feedWorkspace",f.workspace);
		wizard.setValue("feedWorkspaceList",f.workspaceList);
		wizard.setValue("feedTiddlerFilter",f.tiddlerFilter);
	}
	return false;
};

config.macros.importTiddlers.onBrowseChange = function(e)
{
	var wizard = new Wizard(this);
	var file = this.value;
	file = file.replace(/^C:\\fakepath\\/i,''); // remove fakepath (chrome/opera/safari)
	if(this.files && this.files[0]) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalFileRead");
			file = this.files[0].fileName; // REQUIRES PRIVILEGES.. NULL otherwise
		} catch (ex) {
			// non-priv fallback: combine filename with path to current document
			var path=getLocalPath(document.location.href);
			var slashpos=path.lastIndexOf('/'); if (slashpos==-1) slashpos=path.lastIndexOf('\\'); 
			if (slashpos!=-1) path=path.substr(0,slashpos+1); // remove filename, leave trailing 	slash
			file=path+file;
		}
	}
	var fileInput = wizard.getElement("txtPath");
	fileInput.value = config.macros.importTiddlers.getURLFromLocalPath(file);
	var serverType = wizard.getElement("selTypes");
	serverType.value = "file";
	return true;
};

config.macros.importTiddlers.getURLFromLocalPath = function(v)
{
	if(!v || !v.length)
		return v;
	v = v.replace(/\\/g,"/"); // use "/" for cross-platform consistency
	var u;
	var t = v.split(":");
	var p = t[1] || t[0]; // remove drive letter (if any)
	if(t[1] && (t[0] == "http" || t[0] == "https" || t[0] == "file")) {
		u = v;
	} else if(p.substr(0,1)=="/") {
		u = document.location.protocol + "//" + document.location.hostname + (t[1] ? "/" : "") + v;
	} else {
		var c = document.location.href.replace(/\\/g,"/");
		var pos = c.lastIndexOf("/");
		if(pos!=-1)
			c = c.substr(0,pos); // remove filename
		u = c + "/" + p;
	}
	return u;
};

config.macros.importTiddlers.onOpen = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var fileInput = wizard.getElement("txtPath");
	var url = fileInput.value;
	var serverType = wizard.getElement("selTypes").value || config.defaultAdaptor;
	var adaptor = new config.adaptors[serverType]();
	wizard.setValue("adaptor",adaptor);
	wizard.setValue("serverType",serverType);
	wizard.setValue("host",url);
	adaptor.openHost(url,null,wizard,me.onOpenHost);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenHost);
	return false;
};

config.macros.importTiddlers.onOpenHost = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	var adaptor = wizard.getValue("adaptor");
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenHost: " + context.statusText);
	adaptor.getWorkspaceList(context,wizard,me.onGetWorkspaceList);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetWorkspaceList);
};

config.macros.importTiddlers.onGetWorkspaceList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onGetWorkspaceList: " + context.statusText);
	wizard.setValue("context",context);
	var workspace = wizard.getValue("feedWorkspace");
	if(!workspace && context.workspaces.length==1)
		workspace = context.workspaces[0].title;
	if(workspace) {
		context.adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
		wizard.setValue("workspace",workspace);
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
		return;
	}
	wizard.addStep(me.step2Title,me.step2Html);
	var t,s = wizard.getElement("selWorkspace");
	s.onchange = me.onWorkspaceChange;
	for(t=0; t<context.workspaces.length; t++) {
		var e = createTiddlyElement(s,"option",null,null,context.workspaces[t].title);
		e.value = context.workspaces[t].title;
	}
	var workspaceList = wizard.getValue("feedWorkspaceList");
	if(workspaceList) {
		var n,list = workspaceList.parseParams("workspace",null,false,true);
		for(n=1; n<list.length; n++) {
			if(context.workspaces.findByField("title",list[n].value) == null) {
				e = createTiddlyElement(s,"option",null,null,list[n].value);
				e.value = list[n].value;
			}
		}
	}
	if(workspace) {
		t = wizard.getElement("txtWorkspace");
		t.value = workspace;
	}
	wizard.setButtons([{caption: me.openLabel, tooltip: me.openPrompt, onClick: me.onChooseWorkspace}]);
};

config.macros.importTiddlers.onWorkspaceChange = function(e)
{
	var wizard = new Wizard(this);
	var t = wizard.getElement("txtWorkspace");
	t.value = this.value;
	this.selectedIndex = 0;
	return false;
};

config.macros.importTiddlers.onChooseWorkspace = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	var adaptor = wizard.getValue("adaptor");
	var workspace = wizard.getElement("txtWorkspace").value;
	wizard.setValue("workspace",workspace);
	var context = wizard.getValue("context");
	adaptor.openWorkspace(workspace,context,wizard,me.onOpenWorkspace);
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusOpenWorkspace);
	return false;
};

config.macros.importTiddlers.onOpenWorkspace = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true)
		displayMessage("Error in importTiddlers.onOpenWorkspace: " + context.statusText);
	var adaptor = wizard.getValue("adaptor");
	var browse=wizard.getElement("txtBrowse");
	if (browse.files) context.file=browse.files[0]; // for HTML5 FileReader
	adaptor.getTiddlerList(context,wizard,me.onGetTiddlerList,wizard.getValue("feedTiddlerFilter"));
	wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],me.statusGetTiddlerList);
};

config.macros.importTiddlers.onGetTiddlerList = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(context.status !== true) {
		var error = context.statusText||me.errorGettingTiddlerList;
		if(context.host.indexOf("file://") === 0) {
			error = me.errorGettingTiddlerListFile;
		} else {
			error = context.xhr && context.xhr.status == 404 ? me.errorGettingTiddlerListHttp404 :
				me.errorGettingTiddlerListHttp;
		}
		wizard.setButtons([{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}],"");
		jQuery("span.status", wizard.footerEl).html(error); // so error message can be html
		return;
	}
	// Extract data for the listview
	var listedTiddlers = [];
	if(context.tiddlers) {
		var n;
		for(n=0; n<context.tiddlers.length; n++) {
			var tiddler = context.tiddlers[n];
			listedTiddlers.push({
				title: tiddler.title,
				modified: tiddler.modified,
				modifier: tiddler.modifier,
				text: tiddler.text ? wikifyPlainText(tiddler.text,100) : "",
				tags: tiddler.tags,
				size: tiddler.text ? tiddler.text.length : 0,
				tiddler: tiddler
			});
		}
	}
	listedTiddlers.sort(function(a,b) {return a.title < b.title ? -1 : (a.title == b.title ? 0 : +1);});
	// Display the listview
	wizard.addStep(me.step3Title,me.step3Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	var listView = ListView.create(listWrapper,listedTiddlers,me.listViewTemplate);
	wizard.setValue("listView",listView);
	wizard.setValue("context",context);
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler");
	txtSaveTiddler.value = me.generateSystemServerName(wizard);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel},
			{caption: me.importLabel, tooltip: me.importPrompt, onClick: me.doImport}
		]);
};

config.macros.importTiddlers.generateSystemServerName = function(wizard)
{
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var pattern = config.macros.importTiddlers[workspace ? "systemServerNamePattern" : "systemServerNamePatternNoWorkspace"];
	return pattern.format([serverType,host,workspace]);
};

config.macros.importTiddlers.saveServerTiddler = function(wizard)
{
	var me = config.macros.importTiddlers;
	var txtSaveTiddler = wizard.getElement("txtSaveTiddler").value;
	if(store.tiddlerExists(txtSaveTiddler)) {
		if(!confirm(me.confirmOverwriteSaveTiddler.format([txtSaveTiddler])))
			return;
		store.suspendNotifications();
		store.removeTiddler(txtSaveTiddler);
		store.resumeNotifications();
	}
	var serverType = wizard.getValue("serverType");
	var host = wizard.getValue("host");
	var workspace = wizard.getValue("workspace");
	var text = me.serverSaveTemplate.format([serverType,host,workspace]);
	store.saveTiddler(txtSaveTiddler,txtSaveTiddler,text,me.serverSaveModifier,new Date(),["systemServer"]);
};

config.macros.importTiddlers.doImport = function(e)
{
	var me = config.macros.importTiddlers;
	var wizard = new Wizard(this);
	if(wizard.getElement("chkSave").checked)
		me.saveServerTiddler(wizard);
	var chkSync = wizard.getElement("chkSync").checked;
	wizard.setValue("sync",chkSync);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	var adaptor = wizard.getValue("adaptor");
	var overwrite = [];
	var t;
	for(t=0; t<rowNames.length; t++) {
		if(store.tiddlerExists(rowNames[t]))
			overwrite.push(rowNames[t]);
	}
	if(overwrite.length > 0) {
		if(!confirm(me.confirmOverwriteText.format([overwrite.join(", ")])))
			return false;
	}
	wizard.addStep(me.step4Title.format([rowNames.length]),me.step4Html);
	for(t=0; t<rowNames.length; t++) {
		var link = document.createElement("div");
		createTiddlyLink(link,rowNames[t],true);
		var place = wizard.getElement("markReport");
		place.parentNode.insertBefore(link,place);
	}
	wizard.setValue("remainingImports",rowNames.length);
	wizard.setButtons([
			{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}
		],me.statusDoingImport);
	var wizardContext = wizard.getValue("context");
	var tiddlers = wizardContext ? wizardContext.tiddlers : [];
	for(t=0; t<rowNames.length; t++) {
		var context = {
			allowSynchronous:true,
			tiddler:tiddlers[tiddlers.findByField("title",rowNames[t])]
		};
		adaptor.getTiddler(rowNames[t],context,wizard,me.onGetTiddler);
	}
	return false;
};

config.macros.importTiddlers.onGetTiddler = function(context,wizard)
{
	var me = config.macros.importTiddlers;
	if(!context.status)
		displayMessage("Error in importTiddlers.onGetTiddler: " + context.statusText);
	var tiddler = context.tiddler;
	store.suspendNotifications();
	store.saveTiddler(tiddler.title, tiddler.title, tiddler.text, tiddler.modifier, tiddler.modified, tiddler.tags, tiddler.fields, true, tiddler.created);
	if(!wizard.getValue("sync")) {
		store.setValue(tiddler.title,'server',null);
	}
	store.resumeNotifications();
	if(!context.isSynchronous)
		store.notify(tiddler.title,true);
	var remainingImports = wizard.getValue("remainingImports")-1;
	wizard.setValue("remainingImports",remainingImports);
	if(remainingImports == 0) {
		if(context.isSynchronous) {
			store.notifyAll();
			refreshDisplay();
		}
		wizard.setButtons([
				{caption: me.doneLabel, tooltip: me.donePrompt, onClick: me.onClose}
			],me.statusDoneImport);
		autoSaveChanges();
	}
};

//--
//-- Upgrade macro
//--

config.macros.upgrade.handler = function(place)
{
	var w = new Wizard();
	w.createWizard(place,this.wizardTitle);
	w.addStep(this.step1Title,this.step1Html.format([this.source,this.source]));
	w.setButtons([{caption: this.upgradeLabel, tooltip: this.upgradePrompt, onClick: this.onClickUpgrade}]);
};

config.macros.upgrade.onClickUpgrade = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	if(!window.allowSave()) {
		alert(me.errorCantUpgrade);
		return false;
	}
	if(story.areAnyDirty() || store.isDirty()) {
		alert(me.errorNotSaved);
		return false;
	}
	var localPath = getLocalPath(document.location.toString());
	var backupPath = getBackupPath(localPath,me.backupExtension);
	w.setValue("backupPath",backupPath);
	w.setButtons([],me.statusPreparingBackup);
	var original = loadOriginal(localPath);
	w.setButtons([],me.statusSavingBackup);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(!backup) {
		w.setButtons([],me.errorSavingBackup);
		alert(me.errorSavingBackup);
		return false;
	}
	w.setButtons([],me.statusLoadingCore);
	var options = {
		type:"GET",
		url:me.source,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			me.onLoadCore(true,w,jqXHR.responseText,me.source,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			me.onLoadCore(false,w,null,me.source,jqXHR);
		}
	};
	ajaxReq(options);
	return false;
};

config.macros.upgrade.onLoadCore = function(status,params,responseText,url,xhr)
{
	var me = config.macros.upgrade;
	var w = params;
	var errMsg;
	if(!status)
		errMsg = me.errorLoadingCore;
	var newVer = me.extractVersion(responseText);
	if(!newVer)
		errMsg = me.errorCoreFormat;
	if(errMsg) {
		w.setButtons([],errMsg);
		alert(errMsg);
		return;
	}
	var onStartUpgrade = function(e) {
		w.setButtons([],me.statusSavingCore);
		var localPath = getLocalPath(document.location.toString());
		saveFile(localPath,responseText);
		w.setButtons([],me.statusReloadingCore);
		var backupPath = w.getValue("backupPath");
		var newLoc = document.location.toString() + "?time=" + new Date().convertToYYYYMMDDHHMM() + "#upgrade:[[" + encodeURI(backupPath) + "]]";
		window.setTimeout(function () {window.location = newLoc;},10);
	};
	var step2 = [me.step2Html_downgrade,me.step2Html_restore,me.step2Html_upgrade][compareVersions(version,newVer) + 1];
	w.addStep(me.step2Title,step2.format([formatVersion(newVer),formatVersion(version)]));
	w.setButtons([{caption: me.startLabel, tooltip: me.startPrompt, onClick: onStartUpgrade},{caption: me.cancelLabel, tooltip: me.cancelPrompt, onClick: me.onCancel}]);
};

config.macros.upgrade.onCancel = function(e)
{
	var me = config.macros.upgrade;
	var w = new Wizard(this);
	w.addStep(me.step3Title,me.step3Html);
	w.setButtons([]);
	return false;
};

config.macros.upgrade.extractVersion = function(upgradeFile)
{
	var re = /^var version = \{title: "([^"]+)", major: (\d+), minor: (\d+), revision: (\d+)(, beta: (\d+)){0,1}, date: new Date\("([^"]+)"\)/mg;
	var m = re.exec(upgradeFile);
	return m ? {title: m[1], major: m[2], minor: m[3], revision: m[4], beta: m[6], date: new Date(m[7])} : null;
};

function upgradeFrom(path)
{
	var importStore = new TiddlyWiki();
	var tw = loadFile(path);
	if(window.netscape !== undefined)
		tw = convertUTF8ToUnicode(tw);
	importStore.importTiddlyWiki(tw);
	importStore.forEachTiddler(function(title,tiddler) {
		if(!store.getTiddler(title)) {
			store.addTiddler(tiddler);
		}
	});
	refreshDisplay();
	saveChanges(); //# To create appropriate Markup* sections
	alert(config.messages.upgradeDone.format([formatVersion()]));
	window.location = window.location.toString().substr(0,window.location.toString().lastIndexOf("?"));
}

//--
//-- Manager UI for groups of tiddlers
//--

config.macros.plugins.handler = function(place,macroName,params,wikifier,paramString)
{
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement("markList");
	var listWrapper = document.createElement("div");
	markList.parentNode.insertBefore(listWrapper,markList);
	listWrapper.setAttribute("refresh","macro");
	listWrapper.setAttribute("macroName","plugins");
	listWrapper.setAttribute("params",paramString);
	this.refresh(listWrapper,paramString);
};

config.macros.plugins.refresh = function(listWrapper,params)
{
	var me = config.macros.plugins;
	var wizard = new Wizard(listWrapper);
	var selectedRows = [];
	ListView.forEachSelector(listWrapper,function(e,rowName) {
			if(e.checked)
				selectedRows.push(e.getAttribute("rowName"));
		});
	jQuery(listWrapper).empty();
	params = params.parseParams("anon");
	var plugins = installedPlugins.slice(0);
	var t,tiddler,p;
	var configTiddlers = store.getTaggedTiddlers("systemConfig");
	for(t=0; t<configTiddlers.length; t++) {
		tiddler = configTiddlers[t];
		if(plugins.findByField("title",tiddler.title) == null) {
			p = getPluginInfo(tiddler);
			p.executed = false;
			p.log.splice(0,0,this.skippedText);
			plugins.push(p);
		}
	}
	for(t=0; t<plugins.length; t++) {
		p = plugins[t];
		p.size = p.tiddler.text ? p.tiddler.text.length : 0;
		p.forced = p.tiddler.isTagged("systemConfigForce");
		p.disabled = p.tiddler.isTagged("systemConfigDisable");
		p.Selected = selectedRows.indexOf(plugins[t].title) != -1;
	}
	if(plugins.length == 0) {
		createTiddlyElement(listWrapper,"em",null,null,this.noPluginText);
		wizard.setButtons([]);
	} else {
		var template = readOnly ? this.listViewTemplateReadOnly : this.listViewTemplate;
		var listView = ListView.create(listWrapper,plugins,template,this.onSelectCommand);
		wizard.setValue("listView",listView);
		if(!readOnly) {
			wizard.setButtons([
				{caption: me.removeLabel, tooltip: me.removePrompt, onClick: me.doRemoveTag},
				{caption: me.deleteLabel, tooltip: me.deletePrompt, onClick: me.doDelete}
			]);
		}
	}
};

config.macros.plugins.doRemoveTag = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		var t;
		for(t=0; t<rowNames.length; t++) {
			store.setTiddlerTag(rowNames[t],false,"systemConfig");
		}
		autoSaveChanges();
	}
};

config.macros.plugins.doDelete = function(e)
{
	var wizard = new Wizard(this);
	var listView = wizard.getValue("listView");
	var rowNames = ListView.getSelectedRows(listView);
	if(rowNames.length == 0) {
		alert(config.messages.nothingSelected);
	} else {
		if(confirm(config.macros.plugins.confirmDeleteText.format([rowNames.join(", ")]))) {
			var t;
			for(t=0; t<rowNames.length; t++) {
				store.removeTiddler(rowNames[t]);
				story.closeTiddler(rowNames[t],true);
			}
		}
		autoSaveChanges();
	}
};

//--
//-- Message area
//--

function getMessageDiv()
{
	var msgArea = document.getElementById("messageArea");
	if(!msgArea)
		return null;
	if(!msgArea.hasChildNodes())
		createTiddlyButton(createTiddlyElement(msgArea,"div",null,"messageToolbar"),
			config.messages.messageClose.text,
			config.messages.messageClose.tooltip,
			clearMessage);
	msgArea.style.display = "block";
	return createTiddlyElement(msgArea,"div");
}

function displayMessage(text,linkText)
{
	var e = getMessageDiv();
	if(!e) {
		alert(text);
		return;
	}
	if(linkText) {
		var link = createTiddlyElement(e,"a",null,null,text);
		link.href = linkText;
		link.target = "_blank";
	} else {
		e.appendChild(document.createTextNode(text));
	}
}

function clearMessage()
{
	var msgArea = document.getElementById("messageArea");
	if(msgArea) {
		jQuery(msgArea).empty();
		msgArea.style.display = "none";
	}
	return false;
}

//--
//-- Refresh mechanism
//--

config.notifyTiddlers = [
	{name: "SystemSettings", notify: onSystemSettingsChange},
	{name: "StyleSheetLayout", notify: refreshStyles},
	{name: "StyleSheetColors", notify: refreshStyles},
	{name: "StyleSheet", notify: refreshStyles},
	{name: "StyleSheetPrint", notify: refreshStyles},
	{name: "PageTemplate", notify: refreshPageTemplate},
	{name: "SiteTitle", notify: refreshPageTitle},
	{name: "SiteSubtitle", notify: refreshPageTitle},
	{name: "WindowTitle", notify: refreshPageTitle},
	{name: "ColorPalette", notify: refreshColorPalette},
	{name: null, notify: refreshDisplay}
];

config.refreshers = {
	link: function(e,changeList)
		{
		var title = e.getAttribute("tiddlyLink");
		refreshTiddlyLink(e,title);
		return true;
		},

	tiddler: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var template = e.getAttribute("template");
		if(changeList && (changeList.indexOf && changeList.indexOf(title) != -1) && !story.isDirty(title))
			story.refreshTiddler(title,template,true);
		else
			refreshElements(e,changeList);
		return true;
		},

	content: function(e,changeList)
		{
		var title = e.getAttribute("tiddler");
		var force = e.getAttribute("force");
		var args = e.getAttribute("args");
		if(force != null || changeList == null || (changeList.indexOf && changeList.indexOf(title) != -1)) {
			jQuery(e).empty();
			config.macros.tiddler.transclude(e,title,args);
			return true;
		} else
			return false;
		},

	macro: function(e,changeList)
		{
		var macro = e.getAttribute("macroName");
		var params = e.getAttribute("params");
		if(macro)
			macro = config.macros[macro];
		if(macro && macro.refresh)
			macro.refresh(e,params);
		return true;
		}
};

config.refresherData = {
	styleSheet: "StyleSheet",
	defaultStyleSheet: "StyleSheet",
	pageTemplate: "PageTemplate",
	defaultPageTemplate: "PageTemplate",
	colorPalette: "ColorPalette",
	defaultColorPalette: "ColorPalette"
};

function refreshElements(root,changeList)
{
	var c,nodes = root.childNodes;
	for(c=0; c<nodes.length; c++) {
		var e = nodes[c], type = null;
		if(e.getAttribute && (e.tagName ? e.tagName != "IFRAME" : true))
			type = e.getAttribute("refresh");
		var refresher = config.refreshers[type];
		var refreshed = false;
		if(refresher != undefined)
			refreshed = refresher(e,changeList);
		if(e.hasChildNodes() && !refreshed)
			refreshElements(e,changeList);
	}
}

function applyHtmlMacros(root,tiddler)
{
	var e = root.firstChild;
	while(e) {
		var nextChild = e.nextSibling;
		if(e.getAttribute) {
			var macro = e.getAttribute("macro");
			if(macro) {
				e.removeAttribute("macro");
				var params = "";
				var p = macro.indexOf(" ");
				if(p != -1) {
					params = macro.substr(p+1);
					macro = macro.substr(0,p);
				}
				invokeMacro(e,macro,params,null,tiddler);
			}
		}
		if(e.hasChildNodes())
			applyHtmlMacros(e,tiddler);
		e = nextChild;
	}
}

function refreshPageTemplate(title)
{
	var stash = jQuery("<div/>").appendTo("body").hide()[0];
	var display = story.getContainer();
	var nodes,t;
	if(display) {
		nodes = display.childNodes;
		for(t=nodes.length-1; t>=0; t--)
			stash.appendChild(nodes[t]);
	}
	var wrapper = document.getElementById("contentWrapper");

	if(!title || !store.isAvailable(title))
		title = config.refresherData.pageTemplate;
	if(!store.isAvailable(title))
		title = config.refresherData.defaultPageTemplate; //# this one is always avaialable
	wrapper.innerHTML = store.getRecursiveTiddlerText(title,null,10);
	applyHtmlMacros(wrapper);
	refreshElements(wrapper);
	display = story.getContainer();
	jQuery(display).empty();
	if(!display)
		display = createTiddlyElement(wrapper,"div",story.containerId());
	nodes = stash.childNodes;
	for(t=nodes.length-1; t>=0; t--)
		display.appendChild(nodes[t]);
	jQuery(stash).remove();
}

function refreshDisplay(hint)
{
	if(typeof hint == "string")
		hint = [hint];
	var e = document.getElementById("contentWrapper");
	refreshElements(e,hint);
	if(backstage.isPanelVisible()) {
		e = document.getElementById("backstage");
		refreshElements(e,hint);
	}
}

function refreshPageTitle()
{
	document.title = getPageTitle();
}

function getPageTitle()
{
	return wikifyPlainText(store.getTiddlerText("WindowTitle",""),null,tiddler);
}

function refreshStyles(title,doc)
{
	setStylesheet(title == null ? "" : store.getRecursiveTiddlerText(title,"",10),title,doc || document);
}

function refreshColorPalette(title)
{
	if(!startingUp)
		refreshAll();
}

function refreshAll()
{
	refreshPageTemplate();
	refreshDisplay();
	refreshStyles("StyleSheetLayout");
	refreshStyles("StyleSheetColors");
	refreshStyles(config.refresherData.styleSheet);
	refreshStyles("StyleSheetPrint");
}

//--
//-- Option handling
//--

config.optionHandlers = {
	'txt': {
		get: function(name) {return encodeCookie(config.options[name].toString());},
		set: function(name,value) {config.options[name] = decodeCookie(value);}
	},
	'chk': {
		get: function(name) {return config.options[name] ? 'true' : 'false';},
		set: function(name,value) {config.options[name] = value == 'true';}
	}
};

function setOption(name,value)
{
	var optType = name.substr(0,3);
	if(config.optionHandlers[optType] && config.optionHandlers[optType].set)
		config.optionHandlers[optType].set(name,value);
}

// Gets the value of an option as a string. Most code should just read from config.options.* directly
function getOption(name)
{
	var optType = name.substr(0,3);
	return config.optionHandlers[optType] && config.optionHandlers[optType].get ? config.optionHandlers[optType].get(name) : null;
}

function loadOptions()
{
	if(safeMode)
		return;
	loadCookies();
	loadSystemSettings();
}
// @Deprecated; retained for backwards compatibility
var loadOptionsCookie = loadOptions;

function getCookies()
{
	var cookieList = document.cookie.split(';');
	var i,cookies = {};
	for(i=0; i<cookieList.length; i++) {
		var p = cookieList[i].indexOf('=');
		if(p != -1) {
			var name = cookieList[i].substr(0,p).trim();
			var value = cookieList[i].substr(p+1).trim();
			cookies[name] = value;
		}
	}
	return cookies;
}

function loadCookies()
{
	var i,cookies = getCookies();
	if(cookies['TiddlyWiki']) {
		cookies = cookies['TiddlyWiki'].decodeHashMap();
	}
	for(i in cookies) {
		if(config.optionsSource[i] != 'setting') {
			setOption(i,cookies[i]);
		}
	}
}

function loadSystemSettings()
{
	var key,settings = store.calcAllSlices('SystemSettings');
	config.optionsSource = {};
	for(key in settings) {
		setOption(key,settings[key]);
		config.optionsSource[key] = 'setting';
	}
}

function onSystemSettingsChange()
{
	if(!startingUp) {
		loadSystemSettings();
	}
}

function saveOption(name)
{
	if(safeMode)
		return;
	if(name.match(/[()\s]/g, '_')) {
		alert(config.messages.invalidCookie.format([name]));
		return;
	}
	saveCookie(name);
	if(config.optionsSource[name] == 'setting') {
		saveSystemSetting(name,true);
	}
}
// @Deprecated; retained for backwards compatibility
var saveOptionCookie = saveOption;

function removeCookie(name)
{
	document.cookie = name + '=; expires=Thu, 01-Jan-1970 00:00:01 UTC; path=/;';
}

function saveCookie(name)
{
	var key,cookies = {};
	for(key in config.options) {
		var value = getOption(key);
		value = value == null ? 'false' : value;
		cookies[key] = value;
	}
	document.cookie = 'TiddlyWiki=' + String.encodeHashMap(cookies) + '; expires=Fri, 1 Jan 2038 12:00:00 UTC; path=/';
	cookies = getCookies();
	var c;
	for(c in cookies) {
		var optType = c.substr(0,3);
		if(config.optionHandlers[optType])
			removeCookie(c);
	}
}

var systemSettingSave;
function commitSystemSettings(storeWasDirty)
{
	if(systemSettingSave) {
		window.clearTimeout(systemSettingSave);
	}
	systemSettingSave = window.setTimeout(function() {
		var tiddler = store.getTiddler('SystemSettings');
		autoSaveChanges(null,[tiddler]);
	}, 1000);
}

function saveSystemSetting(name,saveFile)
{
	var title = 'SystemSettings';
	var slice = store.getTiddlerSlice(title,name);
	if(readOnly || slice === getOption(name)) {
		return; //# don't save if read-only or the option hasn't changed
	}
	var slices = store.calcAllSlices(title);
	var key;
	for(key in config.optionsSource) {
		var value = getOption(key) || '';
		if(slices[key] !== value) {
			slices[key] = value;
		}
	}
	var text = [];
	for(key in slices) {
		text.push('%0: %1'.format([key,slices[key]]));
	}
	text = text.sort().join('\n');
	var storeWasDirty = store.isDirty();
	var tiddler = store.getTiddler(title);
	if(tiddler) {
		tiddler.text = text;
		tiddler = store.saveTiddler(tiddler);
	} else {
		tiddler = store.saveTiddler(title,title,text,'System',new Date(),['excludeLists'],config.defaultCustomFields);
	}
	if(saveFile) {
		commitSystemSettings(storeWasDirty);
	}
}

function encodeCookie(s)
{
	return escape(convertUnicodeToHtmlEntities(s));
}

function decodeCookie(s)
{
	s = unescape(s);
	var re = /&#[0-9]{1,5};/g;
	return s.replace(re,function($0) {return String.fromCharCode(eval($0.replace(/[&#;]/g,'')));});
}

config.macros.option.genericCreate = function(place,type,opt,className,desc)
{
	var typeInfo = config.macros.option.types[type];
	var c = document.createElement(typeInfo.elementType);
	if(typeInfo.typeValue)
		c.setAttribute('type',typeInfo.typeValue);
	c[typeInfo.eventName] = typeInfo.onChange;
	c.setAttribute('option',opt);
	c.className = className || typeInfo.className;
	if(config.optionsDesc[opt])
		c.setAttribute('title',config.optionsDesc[opt]);
	place.appendChild(c);
	if(desc != 'no')
		createTiddlyText(place,config.optionsDesc[opt] || opt);
	c[typeInfo.valueField] = config.options[opt];
	return c;
};

config.macros.option.genericOnChange = function(e)
{
	var opt = this.getAttribute('option');
	if(opt) {
		var optType = opt.substr(0,3);
		var handler = config.macros.option.types[optType];
		if(handler.elementType && handler.valueField)
			config.macros.option.propagateOption(opt,handler.valueField,this[handler.valueField],handler.elementType,this);
	}
	return true;
};

config.macros.option.types = {
	'txt': {
		elementType: 'input',
		valueField: 'value',
		eventName: 'onchange',
		className: 'txtOptionInput',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	},
	'chk': {
		elementType: 'input',
		valueField: 'checked',
		eventName: 'onclick',
		className: 'chkOptionInput',
		typeValue: 'checkbox',
		create: config.macros.option.genericCreate,
		onChange: config.macros.option.genericOnChange
	}
};

config.macros.option.propagateOption = function(opt,valueField,value,elementType,elem)
{
	config.options[opt] = value;
	saveOption(opt);
	var t,nodes = document.getElementsByTagName(elementType);
	for(t=0; t<nodes.length; t++) {
		var optNode = nodes[t].getAttribute('option');
		if(opt == optNode && nodes[t]!=elem)
			nodes[t][valueField] = value;
	}
};

config.macros.option.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var opt = (params[1] && params[1].name == 'anon') ? params[1].value : getParam(params,'name',null);
	var className = (params[2] && params[2].name == 'anon') ? params[2].value : getParam(params,'class',null);
	var desc = getParam(params,'desc','no');
	var type = opt.substr(0,3);
	var h = config.macros.option.types[type];
	if(h && h.create)
		h.create(place,type,opt,className,desc);
};

config.macros.options.handler = function(place,macroName,params,wikifier,paramString)
{
	params = paramString.parseParams('anon',null,true,false,false);
	var showUnknown = getParam(params,'showUnknown','no');
	var wizard = new Wizard();
	wizard.createWizard(place,this.wizardTitle);
	wizard.addStep(this.step1Title,this.step1Html);
	var markList = wizard.getElement('markList');
	var chkUnknown = wizard.getElement('chkUnknown');
	chkUnknown.checked = showUnknown == 'yes';
	chkUnknown.onchange = this.onChangeUnknown;
	var listWrapper = document.createElement('div');
	markList.parentNode.insertBefore(listWrapper,markList);
	wizard.setValue('listWrapper',listWrapper);
	this.refreshOptions(listWrapper,showUnknown == 'yes');
};

config.macros.options.refreshOptions = function(listWrapper,showUnknown)
{
	var n,opts = [];
	for(n in config.options) {
		var opt = {};
		opt.option = '';
		opt.name = n;
		opt.lowlight = !config.optionsDesc[n];
		opt.description = opt.lowlight ? this.unknownDescription : config.optionsDesc[n];
		if(!opt.lowlight || showUnknown)
			opts.push(opt);
	}
	opts.sort(function(a,b) {return a.name.substr(3) < b.name.substr(3) ? -1 : (a.name.substr(3) == b.name.substr(3) ? 0 : +1);});
	ListView.create(listWrapper,opts,this.listViewTemplate);
	for(n=0; n<opts.length; n++) {
		var type = opts[n].name.substr(0,3);
		var h = config.macros.option.types[type];
		if(h && h.create) {
			h.create(opts[n].colElements['option'],type,opts[n].name,null,'no');
		}
	}
};

config.macros.options.onChangeUnknown = function(e)
{
	var wizard = new Wizard(this);
	var listWrapper = wizard.getValue('listWrapper');
	jQuery(listWrapper).empty();
	config.macros.options.refreshOptions(listWrapper,this.checked);
	return false;
};

//--
//-- Saving
//--

var saveUsingSafari = false;

var startSaveArea = '<div id="' + 'storeArea">'; // Split up into two so that indexOf() of this source doesn't find it
var startSaveAreaRE = /<((div)|(DIV)) ((id)|(ID))=["']?storeArea['"]?>/; // Used for IE6
var endSaveArea = '</d' + 'iv>';
var endSaveAreaCaps = '</D' + 'IV>';

// If there are unsaved changes, force the user to confirm before exitting
function confirmExit()
{
	hadConfirmExit = true;
	if((store && store.isDirty && store.isDirty()) || (story && story.areAnyDirty && story.areAnyDirty()))
		return config.messages.confirmExit;
}

// Give the user a chance to save changes before exitting
function checkUnsavedChanges()
{
	if(store && store.isDirty && store.isDirty() && window.hadConfirmExit === false) {
		if(confirm(config.messages.unsavedChangesWarning))
			saveChanges();
	}
}

function updateLanguageAttribute(s)
{
	if(config.locale) {
		var mRE = /(<html(?:.*?)?)(?: xml:lang\="([a-z]+)")?(?: lang\="([a-z]+)")?>/;
		var m = mRE.exec(s);
		if(m) {
			var t = m[1];
			if(m[2])
				t += ' xml:lang="' + config.locale + '"';
			if(m[3])
				t += ' lang="' + config.locale + '"';
			t += ">";
			s = s.substr(0,m.index) + t + s.substr(m.index+m[0].length);
		}
	}
	return s;
}

function updateMarkupBlock(s,blockName,tiddlerName)
{
	return s.replaceChunk(
			"<!--%0-START-->".format([blockName]),
			"<!--%0-END-->".format([blockName]),
			"\n" + convertUnicodeToFileFormat(store.getRecursiveTiddlerText(tiddlerName,"")) + "\n");
}

function updateOriginal(original,posDiv,localPath)
{
	if(!posDiv)
		posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(config.messages.invalidFileError.format([localPath]));
		return null;
	}
	var revised = original.substr(0,posDiv[0] + startSaveArea.length) + "\n" +
				convertUnicodeToFileFormat(store.allTiddlersAsHtml()) + "\n" +
				original.substr(posDiv[1]);
	var newSiteTitle = convertUnicodeToFileFormat(getPageTitle()).htmlEncode();
	revised = revised.replaceChunk("<title"+">","</title"+">"," " + newSiteTitle + " ");
	revised = updateLanguageAttribute(revised);
	revised = updateMarkupBlock(revised,"PRE-HEAD","MarkupPreHead");
	revised = updateMarkupBlock(revised,"POST-HEAD","MarkupPostHead");
	revised = updateMarkupBlock(revised,"PRE-BODY","MarkupPreBody");
	revised = updateMarkupBlock(revised,"POST-SCRIPT","MarkupPostBody");
	return revised;
}

function locateStoreArea(original)
{
	// Locate the storeArea divs
	if(!original)
		return null;
	var posOpeningDiv = original.search(startSaveAreaRE);
	var limitClosingDiv = original.indexOf("<"+"!--POST-STOREAREA--"+">");
	if(limitClosingDiv == -1)
		limitClosingDiv = original.indexOf("<"+"!--POST-BODY-START--"+">");
	var start = limitClosingDiv == -1 ? original.length : limitClosingDiv;
	var posClosingDiv = original.lastIndexOf(endSaveArea,start);
	if(posClosingDiv == -1)
		posClosingDiv = original.lastIndexOf(endSaveAreaCaps,start);
	return (posOpeningDiv != -1 && posClosingDiv != -1) ? [posOpeningDiv,posClosingDiv] : null;
}

function autoSaveChanges(onlyIfDirty,tiddlers)
{
	if(config.options.chkAutoSave)
		saveChanges(onlyIfDirty,tiddlers);
}

function loadOriginal(localPath)
{
	var content=loadFile(localPath);
	if (!content) content=window.originalHTML||recreateOriginal();
	return content;
}

function recreateOriginal()
{
	// construct doctype
	var content = "<!DOCTYPE ";
	var t=document.doctype;
	if (!t) 
		content+="html"
	else {
		content+=t.name;
		if  (t.publicId)		content+=' PUBLIC "'+t.publicId+'"';
		else if (t.systemId)		content+=' SYSTEM "'+t.systemId+'"';
	}
	content+=' "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"';
	content+='>\n';

	// append current document content
	content+=document.documentElement.outerHTML;

	content=content.replace(/<div id="saveTest">savetest<\/div>/,'<div id="saveTest"></div>');
	content=content.replace(/script><applet [^\>]*><\/applet>/g,'script>');
	content=content.replace(/><head>/,'>\n<head>');
	content=content.replace(/\n\n<\/body><\/html>$/,'</body>\n</html>\n');
	content=content.replace(/(<(meta) [^\>]*[^\/])>/g,'$1 />');
	content=content.replace(/<noscript>[^\<]*<\/noscript>/,
		function(m){return m.replace(/&lt;/g,'<').replace(/&gt;/g,'>');});
	content=content.replace(/<div id="copyright">[^\<]*<\/div>/,
		function(m){return m.replace(/\xA9/g,'&copy;');});

	return content;
}

// Save this tiddlywiki with the pending changes
function saveChanges(onlyIfDirty,tiddlers)
{
	if(onlyIfDirty && !store.isDirty())
		return;
	clearMessage();
	var t0 = new Date();
	var msg = config.messages;
	var originalPath = document.location.toString();
	if(!window.allowSave()) {
		alert(msg.notFileUrlError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var localPath = getLocalPath(originalPath);
	var original = loadOriginal(localPath);
	if(original == null) {
		alert(msg.cantSaveError);
		if(store.tiddlerExists(msg.saveInstructions))
			story.displayTiddler(null,msg.saveInstructions);
		return;
	}
	var posDiv = locateStoreArea(original);
	if(!posDiv) {
		alert(msg.invalidFileError.format([localPath]));
		return;
	}
	var co=config.options; //# abbreviation
	config.saveByDownload=false;
	config.saveByManualDownload=false;
	saveMain(localPath,original,posDiv);
	if (!config.saveByDownload && !config.saveByManualDownload) {
		if(co.chkSaveBackups)
			saveBackup(localPath,original);
		if(co.chkSaveEmptyTemplate)
			saveEmpty(localPath,original,posDiv);
		if(co.chkGenerateAnRssFeed && saveRss instanceof Function)
			saveRss(localPath);
	}
	if(co.chkDisplayInstrumentation)
		displayMessage("saveChanges " + (new Date()-t0) + " ms");
}


function saveMain(localPath,original,posDiv)
{
	var save;
	try {
		var revised = updateOriginal(original,posDiv,localPath);
		save = saveFile(localPath,revised);
	} catch (ex) {
		showException(ex);
	}
	if(save) {
		if (!config.saveByManualDownload) {
			if (config.saveByDownload) { //# set by HTML5DownloadSaveFile()
				var link = getDataURI(revised);
				var msg  = config.messages.mainDownload;
			} else {
				var link = "file://" + localPath;
				var msg  = config.messages.mainSaved;
			}
			displayMessage(msg,link);
		}
		store.setDirty(false);
	} else {
		alert(config.messages.mainFailed);
	}
}

function saveBackup(localPath,original)
{
	var backupPath = getBackupPath(localPath);
	var backup = copyFile(backupPath,localPath);
	if(!backup)
		backup = saveFile(backupPath,original);
	if(backup)
		displayMessage(config.messages.backupSaved,"file://" + backupPath);
	else
		alert(config.messages.backupFailed);
}

function saveEmpty(localPath,original,posDiv)
{
	var emptyPath,p;
	if((p = localPath.lastIndexOf("/")) != -1)
		emptyPath = localPath.substr(0,p) + "/";
	else if((p = localPath.lastIndexOf("\\")) != -1)
		emptyPath = localPath.substr(0,p) + "\\";
	else
		emptyPath = localPath + ".";
	emptyPath += "empty.html";
	var empty = original.substr(0,posDiv[0] + startSaveArea.length) + original.substr(posDiv[1]);
	var emptySave = saveFile(emptyPath,empty);
	if(emptySave)
		displayMessage(config.messages.emptySaved,"file://" + emptyPath);
	else
		alert(config.messages.emptyFailed);
}

// Translate URL to local path [Preemption]
window.getLocalPath = window.getLocalPath || function(origPath)
{
	var originalPath = convertUriToUTF8(origPath,config.options.txtFileSystemCharSet);
	// Remove any location or query part of the URL
	var argPos = originalPath.indexOf("?");
	if(argPos != -1)
		originalPath = originalPath.substr(0,argPos);
	var hashPos = originalPath.indexOf("#");
	if(hashPos != -1)
		originalPath = originalPath.substr(0,hashPos);
	// Convert file://localhost/ to file:///
	if(originalPath.indexOf("file://localhost/") == 0)
		originalPath = "file://" + originalPath.substr(16);
	// Convert to a native file format
	var localPath;
	if(originalPath.charAt(9) == ":") // pc local file
		localPath = unescape(originalPath.substr(8)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file://///") == 0) // FireFox pc network file
		localPath = "\\\\" + unescape(originalPath.substr(10)).replace(new RegExp("/","g"),"\\");
	else if(originalPath.indexOf("file:///") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(7));
	else if(originalPath.indexOf("file:/") == 0) // mac/unix local file
		localPath = unescape(originalPath.substr(5));
	else // pc network file
		localPath = "\\\\" + unescape(originalPath.substr(7)).replace(new RegExp("/","g"),"\\");
	return localPath;
}

function getBackupPath(localPath,title,extension)
{
	var slash = "\\";
	var dirPathPos = localPath.lastIndexOf("\\");
	if(dirPathPos == -1) {
		dirPathPos = localPath.lastIndexOf("/");
		slash = "/";
	}
	var backupFolder = config.options.txtBackupFolder;
	if(!backupFolder || backupFolder == "")
		backupFolder = ".";
	var backupPath = localPath.substr(0,dirPathPos) + slash + backupFolder + localPath.substr(dirPathPos);
	backupPath = backupPath.substr(0,backupPath.lastIndexOf(".")) + ".";
	if(title)
		backupPath += title.replace(/[\\\/\*\?\":<> ]/g,"_") + ".";
	backupPath += (new Date()).convertToYYYYMMDDHHMMSSMMM() + "." + (extension || "html");
	return backupPath;
}

//--
//-- RSS Saving
//--

function saveRss(localPath)
{
	var rssPath = localPath.substr(0,localPath.lastIndexOf(".")) + ".xml";
	if(saveFile(rssPath,convertUnicodeToFileFormat(generateRss())))
		displayMessage(config.messages.rssSaved,"file://" + rssPath);
	else
		alert(config.messages.rssFailed);
}

tiddlerToRssItem = function(tiddler,uri)
{
	var s = "<title" + ">" + tiddler.title.htmlEncode() + "</title" + ">\n";
	s += "<description>"+ wikifyStatic(tiddler.text,null,tiddler).htmlEncode() + "</description>\n";
	var i;
	for(i=0; i<tiddler.tags.length; i++)
		s += "<category>" + tiddler.tags[i] + "</category>\n";
	s += "<link>" + uri + "#" + encodeURIComponent(String.encodeTiddlyLink(tiddler.title)) + "</link>\n";
	s +="<pubDate>" + tiddler.modified.toGMTString() + "</pubDate>\n";
	return s;
};

function generateRss()
{
	var s = [];
	var d = new Date();
	var u = store.getTiddlerText("SiteUrl");
	// Assemble the header
	s.push("<" + "?xml version=\"1.0\"?" + ">");
	s.push("<rss version=\"2.0\">");
	s.push("<channel>");
	s.push("<title" + ">" + wikifyPlainText(store.getTiddlerText("SiteTitle",""),null,tiddler).htmlEncode() + "</title" + ">");
	if(u)
		s.push("<link>" + u.htmlEncode() + "</link>");
	s.push("<description>" + wikifyPlainText(store.getTiddlerText("SiteSubtitle",""),null,tiddler).htmlEncode() + "</description>");
	s.push("<language>" + config.locale + "</language>");
	s.push("<copyright>Copyright " + d.getFullYear() + " " + config.options.txtUserName.htmlEncode() + "</copyright>");
	s.push("<pubDate>" + d.toGMTString() + "</pubDate>");
	s.push("<lastBuildDate>" + d.toGMTString() + "</lastBuildDate>");
	s.push("<docs>http://blogs.law.harvard.edu/tech/rss</docs>");
	s.push("<generator>TiddlyWiki " + formatVersion() + "</generator>");
	// The body
	var tiddlers = store.getTiddlers("modified","excludeLists");
	var i,n = config.numRssItems > tiddlers.length ? 0 : tiddlers.length-config.numRssItems;
	for(i=tiddlers.length-1; i>=n; i--) {
		s.push("<item>\n" + tiddlerToRssItem(tiddlers[i],u) + "\n</item>");
	}
	// And footer
	s.push("</channel>");
	s.push("</rss>");
	// Save it all
	return s.join("\n");
}

//--
//-- Filesystem code
//--

// Copy a file in filesystem [Preemption]
window.copyFile = window.copyFile || function(dest,source)
{
	return config.browser.isIE ? ieCopyFile(dest,source) : false;
}


// Save a file in filesystem [Preemption]
window.saveFile = window.saveFile || function(fileUrl,content)
{
	var r = mozillaSaveFile(fileUrl,content);
	if(!r)
		r = ieSaveFile(fileUrl,content);
	if(!r)
		r = javaSaveFile(fileUrl,content);
	if(!r)
		r = HTML5DownloadSaveFile(fileUrl,content);
	if(!r)
		r = manualSaveFile(fileUrl,content);
	return r;
}

// Load a file from filesystem [Preemption]
window.loadFile = window.loadFile || function(fileUrl)
{
	var r = mozillaLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = ieLoadFile(fileUrl);
	if((r == null) || (r == false))
		r = javaLoadFile(fileUrl);
	return r;
}

function ieCreatePath(path)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}

	var pos = path.lastIndexOf("\\");
	if(pos==-1)
		pos = path.lastIndexOf("/");
	if(pos!=-1)
		path = path.substring(0,pos+1);

	var scan = [path];
	var parent = fso.GetParentFolderName(path);
	while(parent && !fso.FolderExists(parent)) {
		scan.push(parent);
		parent = fso.GetParentFolderName(parent);
	}

	for(i=scan.length-1;i>=0;i--) {
		if(!fso.FolderExists(scan[i])) {
			fso.CreateFolder(scan[i]);
		}
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function ieSaveFile(filePath,content)
{
	ieCreatePath(filePath);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
	} catch(ex) {
		return null;
	}
	var file = fso.OpenTextFile(filePath,2,-1,0);
	file.Write(content);
	file.Close();
	return true;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function ieLoadFile(filePath)
{
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		var file = fso.OpenTextFile(filePath,1);
		var content = file.ReadAll();
		file.Close();
	} catch(ex) {
		return null;
	}
	return content;
}

function ieCopyFile(dest,source)
{
	ieCreatePath(dest);
	try {
		var fso = new ActiveXObject("Scripting.FileSystemObject");
		fso.GetFile(source).Copy(dest);
	} catch(ex) {
		return false;
	}
	return true;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function mozillaSaveFile(filePath,content)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				file.create(0,0x01B4);// 0x01B4 = 0664
			var out = Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);
			out.init(file,0x22,0x04,null);
			out.write(content,content.length);
			out.flush();
			out.close();
			return true;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, or a string of the content if successful
function mozillaLoadFile(filePath)
{
	if(window.Components) {
		try {
			netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
			var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);
			file.initWithPath(filePath);
			if(!file.exists())
				return null;
			var inputStream = Components.classes["@mozilla.org/network/file-input-stream;1"].createInstance(Components.interfaces.nsIFileInputStream);
			inputStream.init(file,0x01,0x04,null);
			var sInputStream = Components.classes["@mozilla.org/scriptableinputstream;1"].createInstance(Components.interfaces.nsIScriptableInputStream);
			sInputStream.init(inputStream);
			var contents = sInputStream.read(sInputStream.available());
			sInputStream.close();
			inputStream.close();
			return contents;
		} catch(ex) {
			return false;
		}
	}
	return null;
}

function javaUrlToFilename(url)
{
	var f = "//localhost";
	if(url.indexOf(f) == 0)
		return url.substring(f.length);
	var i = url.indexOf(":");
	return i > 0 ? url.substring(i-1) : url;
}

/*
 *
 * in between when the applet has been started
 * and the user has given permission to run the applet
 * we get an applet object, but it doesn't have the methods
 * we expect yet.
 *
 */
var LOG_TIDDLYSAVER = true;
function logTiddlySaverException(msg, ex) {
	var applet = document.applets['TiddlySaver'];
	console.log(msg + ": " + ex);
	if (LOG_TIDDLYSAVER && applet) {
		try {
			console.log(msg + ": " + applet.getLastErrorMsg());
			console.log(msg + ": " + applet.getLastErrorStackTrace());
		} catch (ex) {}
	}
}

function javaDebugInformation () {
	var applet = document.applets['TiddlySaver'];
	var what = [
		["Java Version", applet.getJavaVersion],
		["Last Exception", applet.getLastErrorMessage],
		["Last Exception Stack Trace", applet.getLastErrorStackTrace],
		["System Properties", applet.getSystemProperties] ];

	function formatItem (description, method) {
		try {
			 result = String(method.call(applet));
		} catch (ex) {
			 result = String(ex)
		}
		return description + ": " + result
	}

	return jQuery.map(what, function (item) { return formatItem.apply(this, item) })
			.join('\n\n')
}

function javaSaveFile(filePath,content)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) 
			return applet.saveFile(javaUrlToFilename(filePath), "UTF-8", content);
	} catch(ex) {
		logTiddlySaverException("javaSaveFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	try {
		var s = new java.io.PrintStream(new java.io.FileOutputStream(javaUrlToFilename(filePath)));
		s.print(content);
		s.close();
	} catch(ex2) {
		return null;
	}
	return true;
}

function javaLoadFile(filePath)
{
	var applet = document.applets['TiddlySaver'];
	try {
		if (applet && filePath) {
			var ret = applet.loadFile(javaUrlToFilename(filePath),"UTF-8");
			if(!ret)
				return null;
			return String(ret);
		}
	} catch(ex) {
		logTiddlySaverException("javaLoadFile", ex);
	}
	// is this next block working anywhere ? -- grmble
	var content = [];
	try {
		var r = new java.io.BufferedReader(new java.io.FileReader(javaUrlToFilename(filePath)));
		var line;
		while((line = r.readLine()) != null)
			content.push(String(line));
		r.close();
	} catch(ex2) {
		return null;
	}
	return content.join("\n");
}

function HTML5DownloadSaveFile(filePath,content)
{
	if(document.createElement("a").download !== undefined) {
		config.saveByDownload=true;
		var slashpos=filePath.lastIndexOf("/");
		if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
		var filename=filePath.substr(slashpos+1);
		var uri = getDataURI(content);
		var link = document.createElement("a");
		link.setAttribute("target","_blank");
		link.setAttribute("href",uri);
		link.setAttribute("download",filename);
		document.body.appendChild(link); link.click(); document.body.removeChild(link);
		return true;
	}
	return null;
}

// Returns null if it can't do it, false if there's an error, true if it saved OK
function manualSaveFile(filePath,content)
{
	// FALLBACK for showing a link to data: URI
	config.saveByManualDownload=true;
	var slashpos=filePath.lastIndexOf("/");
	if (slashpos==-1) slashpos=filePath.lastIndexOf("\\"); 
	var filename=filePath.substr(slashpos+1);
	var uri = getDataURI(content);
	displayMessage(config.messages.mainDownloadManual,uri);
	return true;
}

// construct data URI (using base64 encoding to preserve multi-byte encodings)
function getDataURI(data) {
	if (config.browser.isIE)
		return "data:text/html,"+encodeURIComponent(data);
	else
		return "data:text/html;base64,"+encodeBase64(data);
}

function encodeBase64(data) {
	if (!data) return "";
	var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
	var out = "";
	var chr1,chr2,chr3="";
	var enc1,enc2,enc3,enc4="";
	for (var count=0,i=0; i<data.length; ) {
		chr1=data.charCodeAt(i++);
		chr2=data.charCodeAt(i++);
		chr3=data.charCodeAt(i++);
		enc1=chr1 >> 2;
		enc2=((chr1 & 3) << 4) | (chr2 >> 4);
		enc3=((chr2 & 15) << 2) | (chr3 >> 6);
		enc4=chr3 & 63;
		if (isNaN(chr2)) enc3=enc4=64;
		else if (isNaN(chr3)) enc4=64;
		out+=keyStr.charAt(enc1)+keyStr.charAt(enc2)+keyStr.charAt(enc3)+keyStr.charAt(enc4);
		chr1=chr2=chr3=enc1=enc2=enc3=enc4="";
	}
	return out;
}//--
//-- Filesystem utilities
//--

function convertUTF8ToUnicode(u)
{
	return config.browser.isOpera || !window.netscape ? manualConvertUTF8ToUnicode(u) : mozConvertUTF8ToUnicode(u);
}


function manualConvertUTF8ToUnicode(utf)
{
	var uni = utf;
	var src = 0;
	var dst = 0;
	var b1, b2, b3;
	var c;
	while(src < utf.length) {
		b1 = utf.charCodeAt(src++);
		if(b1 < 0x80) {
			dst++;
		} else if(b1 < 0xE0) {
			b2 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0x1F) << 6) | (b2 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		} else {
			b2 = utf.charCodeAt(src++);
			b3 = utf.charCodeAt(src++);
			c = String.fromCharCode(((b1 & 0xF) << 12) | ((b2 & 0x3F) << 6) | (b3 & 0x3F));
			uni = uni.substring(0,dst++).concat(c,utf.substr(src));
		}
	}
	return uni;
}

function mozConvertUTF8ToUnicode(u)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUTF8ToUnicode(u);
	} // fallback
	var s = converter.ConvertToUnicode(u);
	var fin = converter.Finish();
	return fin.length > 0 ? s+fin : s;
}

function convertUnicodeToFileFormat(s)
{
	return config.browser.isOpera || !window.netscape ? (config.browser.isIE ? convertUnicodeToHtmlEntities(s) : s) : mozConvertUnicodeToUTF8(s);
}

function convertUnicodeToHtmlEntities(s)
{
	var re = /[^\u0000-\u007F]/g;
	return s.replace(re,function($0) {return "&#" + $0.charCodeAt(0).toString() + ";";});
}

function convertUnicodeToUTF8(s)
{
// return convertUnicodeToFileFormat to allow plugin migration
	return convertUnicodeToFileFormat(s);
}

function manualConvertUnicodeToUTF8(s)
{
	return unescape(encodeURIComponent(s));
}

function mozConvertUnicodeToUTF8(s)
{
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
		converter.charset = "UTF-8";
	} catch(ex) {
		return manualConvertUnicodeToUTF8(s);
	} // fallback
	var u = converter.ConvertFromUnicode(s);
	var fin = converter.Finish();
	return fin.length > 0 ? u + fin : u;
}

function convertUriToUTF8(uri,charSet)
{
	if(window.netscape == undefined || charSet == undefined || charSet == "")
		return uri;
	try {
		netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
		var converter = Components.classes["@mozilla.org/intl/utf8converterservice;1"].getService(Components.interfaces.nsIUTF8ConverterService);
	} catch(ex) {
		return uri;
	}
	return converter.convertURISpecToUTF8(uri,charSet);
}
//--
//-- Server adaptor base class
//--

function AdaptorBase()
{
	this.host = null;
	this.store = null;
	return this;
}

AdaptorBase.prototype.close = function()
{
	return true;
};

AdaptorBase.prototype.fullHostName = function(host)
{
	if(!host)
		return '';
	host = host.trim();
	if(!host.match(/:\/\//))
		host = 'http://' + host;
	if(host.substr(host.length-1) == '/')
		host = host.substr(0,host.length-1);
	return host;
};

AdaptorBase.minHostName = function(host)
{
	return host;
};

AdaptorBase.prototype.setContext = function(context,userParams,callback)
{
	if(!context) context = {};
	context.userParams = userParams;
	if(callback) context.callback = callback;
	context.adaptor = this;
	if(!context.host)
		context.host = this.host;
	context.host = this.fullHostName(context.host);
	if(!context.workspace)
		context.workspace = this.workspace;
	return context;
};

// Open the specified host
AdaptorBase.prototype.openHost = function(host,context,userParams,callback)
{
	this.host = host;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {context.callback(context,userParams);},10);
	return true;
};

// Open the specified workspace
AdaptorBase.prototype.openWorkspace = function(workspace,context,userParams,callback)
{
	this.workspace = workspace;
	context = this.setContext(context,userParams,callback);
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

//--
//-- Server adaptor for talking to static TiddlyWiki files
//--

function FileAdaptor()
{
}

FileAdaptor.prototype = new AdaptorBase();

FileAdaptor.serverType = 'file';
FileAdaptor.serverLabel = 'TiddlyWiki';

FileAdaptor.loadTiddlyWikiSuccess = function(context,jqXHR)
{
	context.status = true;
	context.adaptor.store = new TiddlyWiki();
	if(!context.adaptor.store.importTiddlyWiki(jqXHR.responseText)) {
		context.statusText = config.messages.invalidFileError.format([context.host]);
		context.status = false;
	}
	context.complete(context,context.userParams);
};

FileAdaptor.loadTiddlyWikiError = function(context,jqXHR)
{
	context.status = false;
	context.statusText = jqXHR.message;
	context.complete(context,context.userParams);
};

// Get the list of workspaces on a given server
FileAdaptor.prototype.getWorkspaceList = function(context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.workspaces = [{title:"(default)"}];
	context.status = true;
	if(callback)
		window.setTimeout(function() {callback(context,userParams);},10);
	return true;
};

// Gets the list of tiddlers within a given workspace
FileAdaptor.prototype.getTiddlerList = function(context,userParams,callback,filter)
{
	context = this.setContext(context,userParams,callback);
	if(!context.filter)
		context.filter = filter;
	context.complete = FileAdaptor.getTiddlerListComplete;
	if(this.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		file:context.file, // for HTML5 FileReader
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			context.xhr = jqXHR;
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerListComplete = function(context,userParams)
{
	if(context.status) {
		if(context.filter) {
			context.tiddlers = context.adaptor.store.filterTiddlers(context.filter);
		} else {
			context.tiddlers = [];
			context.adaptor.store.forEachTiddler(function(title,tiddler) {context.tiddlers.push(tiddler);});
		}
		var i;
		for(i=0; i<context.tiddlers.length; i++) {
			context.tiddlers[i].fields['server.type'] = FileAdaptor.serverType;
			context.tiddlers[i].fields['server.host'] = AdaptorBase.minHostName(context.host);
			context.tiddlers[i].fields['server.page.revision'] = context.tiddlers[i].modified.convertToYYYYMMDDHHMM();
		}
		context.status = true;
	}
	if(context.callback) {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.generateTiddlerInfo = function(tiddler)
{
	var info = {};
	info.uri = tiddler.fields['server.host'] + "#" + tiddler.title;
	return info;
};

// Retrieve a tiddler from a given workspace on a given server
FileAdaptor.prototype.getTiddler = function(title,context,userParams,callback)
{
	context = this.setContext(context,userParams,callback);
	context.title = title;
	context.complete = FileAdaptor.getTiddlerComplete;
	if(context.adaptor.store) {
		return context.complete(context,context.userParams);
	}
	var options = {
		type:"GET",
		url:context.host,
		processData:false,
		success:function(data,textStatus,jqXHR) {
			FileAdaptor.loadTiddlyWikiSuccess(context,jqXHR);
		},
		error:function(jqXHR,textStatus,errorThrown) {
			FileAdaptor.loadTiddlyWikiError(context,jqXHR);
		}
	};
	return ajaxReq(options);
};

FileAdaptor.getTiddlerComplete = function(context,userParams)
{
	var t = context.adaptor.store.fetchTiddler(context.title);
	if(t) {
		t.fields['server.type'] = FileAdaptor.serverType;
		t.fields['server.host'] = AdaptorBase.minHostName(context.host);
		t.fields['server.page.revision'] = t.modified.convertToYYYYMMDDHHMM();
		context.tiddler = t;
		context.status = true;
	} else { //# tiddler does not exist in document
		context.status = false;
	}
	if(context.allowSynchronous) {
		context.isSynchronous = true;
		context.callback(context,userParams);
	} else {
		window.setTimeout(function() {context.callback(context,userParams);},10);
	}
	return true;
};

FileAdaptor.prototype.close = function()
{
	this.store = null;
};

config.adaptors[FileAdaptor.serverType] = FileAdaptor;

config.defaultAdaptor = FileAdaptor.serverType;

//--
//-- HTTP request code
//--

function ajaxReq(args)
{
	if (args.file || args.url.startsWith("file"))  // LOCAL FILE
		return localAjax(args);
	return jQuery.ajax(args);
}

function localAjax(args)
{
	var success=function(data)
		{ args.success(data,"success",{ responseText:data }); }
	var failure=function(who)
		{ args.error({ message:who+": cannot read local file" },"error",0); }

	if (args.file) try { // HTML5 FileReader (Chrome, FF20+, Safari, etc.)
		var reader=new FileReader();
		reader.onload=function(e)  { success(e.target.result); }
		reader.onerror=function(e) { failure("FileReader"); }
		reader.readAsText(args.file);
		return true;
	} catch (ex) { ; }

	try { // local file I/O (IE, FF with TiddlyFox, Chrome/Safari with TiddlySaver, etc.)
		var data=loadFile(getLocalPath(args.url));
		if (data) success(data);
		else failure("loadFile");
		return true;
	} catch (ex) { ; }

	return true;
}

function httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache)
{
	var httpSuccess = function(xhr) {
		try {
			// IE error sometimes returns 1223 when it should be 204 so treat it as success, see #1450
			return (!xhr.status && location.protocol === "file:") ||
				(xhr.status >= 200 && xhr.status < 300) ||
				xhr.status === 304 || xhr.status === 1223;
		} catch(e) {}
		return false;
	};

	var options = {
		type:type,
		url:url,
		processData:false,
		data:data,
		cache:!!allowCache,
		beforeSend: function(xhr) {
			var i;
			for(i in headers)
				xhr.setRequestHeader(i,headers[i]);
		}
	};

	if(callback) {
		options.complete = function(xhr,textStatus) {
			if(httpSuccess(xhr))
				callback(true,params,xhr.responseText,url,xhr);
			else
				callback(false,params,null,url,xhr);
		};
	}
	if(contentType)
		options.contentType = contentType;
	if(username)
		options.username = username;
	if(password)
		options.password = password;
	try {
		if(window.Components && window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1)
			window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
	} catch (ex) {
	}
	return jQuery.ajax(options);
}
//--
//-- TiddlyWiki-specific utility functions
//--

// Returns TiddlyWiki version string
function formatVersion(v)
{
	v = v || version;
	return v.major + "." + v.minor + "." + v.revision +
		(v.alpha ? " (alpha " + v.alpha + ")" : "") +
		(v.beta ? " (beta " + v.beta + ")" : "");
}

function compareVersions(v1,v2)
{
	var x1,x2,i,a = ["major","minor","revision"];
	for(i = 0; i<a.length; i++) {
		x1 = v1[a[i]] || 0;
		x2 = v2[a[i]] || 0;
		if(x1<x2)
			return 1;
		if(x1>x2)
			return -1;
	}
	x1 = v1.beta || 9999;
	x2 = v2.beta || 9999;
	if(x1<x2)
		return 1;
	return x1 > x2 ? -1 : 0;
}

function merge(dst,src,preserveExisting)
{
	var i;
	for(i in src) {
		if(!preserveExisting || dst[i] === undefined)
			dst[i] = src[i];
	}
	return dst;
}

// Resolve the target object of an event
function resolveTarget(e)
{
	var obj;
	if(e.target)
		obj = e.target;
	else if(e.srcElement)
		obj = e.srcElement;
	if(obj.nodeType == 3) // defeat Safari bug
		obj = obj.parentNode;
	return obj;
}

// Returns a string containing the description of an exception, optionally prepended by a message
function exceptionText(e,message)
{
	var s = e.description || e.toString();
	return message ? "%0:\n%1".format([message,s]) : s;
}

// Displays an alert of an exception description with optional message
function showException(e,message)
{
	alert(exceptionText(e,message));
}

function alertAndThrow(m)
{
	alert(m);
	throw(m);
}

function glyph(name)
{
	var g = config.glyphs;
	var b = g.currBrowser;
	if(b == null) {
		b = 0;
		while(b < g.browsers.length-1 && !g.browsers[b]())
			b++;
		g.currBrowser = b;
	}
	if(!g.codes[name])
		return "";
	return g.codes[name][b];
}

function createTiddlyText(parent,text)
{
	return parent.appendChild(document.createTextNode(text));
}

function createTiddlyCheckbox(parent,caption,checked,onChange)
{
	var cb = document.createElement("input");
	cb.setAttribute("type","checkbox");
	cb.onclick = onChange;
	parent.appendChild(cb);
	cb.checked = checked;
	cb.className = "chkOptionInput";
	if(caption)
		wikify(caption,parent);
	return cb;
}

function createTiddlyElement(parent,element,id,className,text,attribs)
{
	var n,e = document.createElement(element);
	if(className != null)
		e.className = className;
	if(id != null)
		e.setAttribute("id",id);
	if(text != null)
		e.appendChild(document.createTextNode(text));
	if(attribs) {
		for(n in attribs) {
			e.setAttribute(n,attribs[n]);
		}
	}
	if(parent != null)
		parent.appendChild(e);
	return e;
}

function createTiddlyButton(parent,text,tooltip,action,className,id,accessKey,attribs)
{
	var i,btn = document.createElement("a");
	btn.setAttribute("href","javascript:;");
	if(action) {
		btn.onclick = action;
	}
	if(tooltip)
		btn.setAttribute("title",tooltip);
	if(text)
		btn.appendChild(document.createTextNode(text));
	btn.className = className || "button";
	if(id)
		btn.id = id;
	if(attribs) {
		for(i in attribs) {
			btn.setAttribute(i,attribs[i]);
		}
	}
	if(parent)
		parent.appendChild(btn);
	if(accessKey)
		btn.setAttribute("accessKey",accessKey);
	return btn;
}

function createExternalLink(place,url,label)
{
	var link = document.createElement("a");
	link.className = "externalLink";
	link.href = url;
	var f = config.messages.externalLinkTooltip;
	link.title = f ? f.format([url]) : url;
	if(config.options.chkOpenInNewWindow)
		link.target = "_blank";
	place.appendChild(link);
	if(label)
		createTiddlyText(link, label);
	return link;
}

function getTiddlyLinkInfo(title,currClasses)
{
	var classes = currClasses ? currClasses.split(" ") : [];
	classes.pushUnique("tiddlyLink");
	var tiddler = store.fetchTiddler(title);
	var subTitle;
	if(tiddler) {
		subTitle = tiddler.getSubtitle();
		classes.pushUnique("tiddlyLinkExisting");
		classes.remove("tiddlyLinkNonExisting");
		classes.remove("shadow");
	} else {
	var f;
		classes.remove("tiddlyLinkExisting");
		classes.pushUnique("tiddlyLinkNonExisting");
		if(store.isShadowTiddler(title)) {
			f = config.messages.shadowedTiddlerToolTip;
			classes.pushUnique("shadow");
		} else {
			f = config.messages.undefinedTiddlerToolTip;
			classes.remove("shadow");
		}
		subTitle = f ? f.format([title]) : "";
	}
	if(typeof config.annotations[title]=="string")
		subTitle = config.annotations[title];
	return {classes: classes.join(" "),subTitle: subTitle};
}

// Event handler for clicking on a tiddly link
function onClickTiddlerLink(ev)
{
	var e = ev || window.event;
	var target = resolveTarget(e);
	var link = target;
	var title = null;
	var fields = null;
	var noToggle = null;
	do {
		title = link.getAttribute("tiddlyLink");
		fields = link.getAttribute("tiddlyFields");
		noToggle = link.getAttribute("noToggle");
		link = link.parentNode;
	} while(title == null && link != null);
	if(!store.isShadowTiddler(title)) {
		var f = fields ? fields.decodeHashMap() : {};
		fields = String.encodeHashMap(merge(f,config.defaultCustomFields,true));
	}
	if(title) {
		var toggling = e.metaKey || e.ctrlKey;
		if(config.options.chkToggleLinks)
			toggling = !toggling;
		if(noToggle)
			toggling = false;
		if(store.getTiddler(title))
			fields = null;
		story.displayTiddler(target,title,null,true,null,fields,toggling);
	}
	clearMessage();
	return false;
}

function createTiddlyLink(place,title,includeText,className,isStatic,linkedFromTiddler,noToggle)
{
	var title = jQuery.trim(title);
	var text = includeText ? title : null;
	var i = getTiddlyLinkInfo(title,className);
	var btn = isStatic ? createExternalLink(place,store.getTiddlerText("SiteUrl",null) + "#" + title) : createTiddlyButton(place,text,i.subTitle,onClickTiddlerLink,i.classes);
	if(isStatic)
		btn.className += ' ' + className;
	btn.setAttribute("refresh","link");
	btn.setAttribute("tiddlyLink",title);
	if(noToggle)
		btn.setAttribute("noToggle","true");
	if(linkedFromTiddler) {
		var fields = linkedFromTiddler.getInheritedFields();
		if(fields)
			btn.setAttribute("tiddlyFields",fields);
	}
	return btn;
}

function refreshTiddlyLink(e,title)
{
	var i = getTiddlyLinkInfo(title,e.className);
	e.className = i.classes;
	e.title = i.subTitle;
}

function createTiddlyDropDown(place,onchange,options,defaultValue)
{
	var sel = createTiddlyElement(place,"select");
	sel.onchange = onchange;
	var t;
	for(t=0; t<options.length; t++) {
		var e = createTiddlyElement(sel,"option",null,null,options[t].caption);
		e.value = options[t].name;
		if(options[t].name == defaultValue)
			e.selected = true;
	}
	return sel;
}

//--
//-- TiddlyWiki-specific popup utility functions
//--

// Event handler for 'open all' on a tiddler popup
function onClickTagOpenAll(ev)
{
	var tiddlers = store.getTaggedTiddlers(this.getAttribute("tag"));
	var sortby = this.getAttribute("sortby");
	if(sortby&&sortby.length) {
		store.sortTiddlers(tiddlers,sortby);
	}
	story.displayTiddlers(this,tiddlers);
	return false;
}

// Event handler for clicking on a tiddler tag
function onClickTag(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	jQuery(popup).addClass("taggedTiddlerList");
	var tag = this.getAttribute("tag");
	var title = this.getAttribute("tiddler");
	if(popup && tag) {
		var tagged = tag.indexOf("[")==-1 ? store.getTaggedTiddlers(tag) : store.filterTiddlers(tag);
		var sortby = this.getAttribute("sortby");
		if(sortby&&sortby.length) {
			store.sortTiddlers(tagged,sortby);
		}
		var titles = [];
		var r;
		for(r=0;r<tagged.length;r++) {
			if(tagged[r].title != title)
				titles.push(tagged[r].title);
		}
		var lingo = config.views.wikified.tag;
		if(titles.length > 0) {
			var openAll = createTiddlyButton(createTiddlyElement(popup,"li"),lingo.openAllText.format([tag]),lingo.openAllTooltip,onClickTagOpenAll);
			openAll.setAttribute("tag",tag);
			openAll.setAttribute("sortby",sortby);
			createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
			for(r=0; r<titles.length; r++) {
				createTiddlyLink(createTiddlyElement(popup,"li"),titles[r],true);
			}
		} else {
			createTiddlyElement(popup,"li",null,"disabled",lingo.popupNone.format([tag]));
		}
		createTiddlyElement(createTiddlyElement(popup,"li",null,"listBreak"),"div");
		var h = createTiddlyLink(createTiddlyElement(popup,"li"),tag,false);
		createTiddlyText(h,lingo.openTag.format([tag]));
	}
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

// Create a button for a tag with a popup listing all the tiddlers that it tags
function createTagButton(place,tag,excludeTiddler,title,tooltip)
{
	var btn = createTiddlyButton(place,title||tag,(tooltip||config.views.wikified.tag.tooltip).format([tag]),onClickTag);
	btn.setAttribute("tag",tag);
	if(excludeTiddler)
		btn.setAttribute("tiddler",excludeTiddler);
	return btn;
}

function onClickTiddlyPopup(ev)
{
	var e = ev || window.event;
	var tiddler = this.tiddler;
	if(tiddler.text) {
		var popup = Popup.create(this,"div","popupTiddler");
		wikify(tiddler.text,popup,null,tiddler);
		Popup.show();
	}
	if(e) e.cancelBubble = true;
	if(e && e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyPopup(place,caption,tooltip,tiddler)
{
	if(tiddler.text) {
		createTiddlyLink(place,caption,true);
		var btn = createTiddlyButton(place,glyph("downArrow"),tooltip,onClickTiddlyPopup,"tiddlerPopupButton");
		btn.tiddler = tiddler;
	} else {
		createTiddlyText(place,caption);
	}
}

function onClickError(ev)
{
	var e = ev || window.event;
	var popup = Popup.create(this);
	var lines = this.getAttribute("errorText").split("\n");
	var t;
	for(t=0; t<lines.length; t++)
		createTiddlyElement(popup,"li",null,null,lines[t]);
	Popup.show();
	e.cancelBubble = true;
	if(e.stopPropagation) e.stopPropagation();
	return false;
}

function createTiddlyError(place,title,text)
{
	var btn = createTiddlyButton(place,title,null,onClickError,"errorButton");
	if(text) btn.setAttribute("errorText",text);
}
//-
//- Animation engine
//-

function Animator()
{
	this.running = 0; // Incremented at start of each animation, decremented afterwards. If zero, the interval timer is disabled
	this.timerID = 0; // ID of the timer used for animating
	this.animations = []; // List of animations in progress
	return this;
}

// Start animation engine
Animator.prototype.startAnimating = function() //# Variable number of arguments
{
	var t;
	for(t=0; t<arguments.length; t++)
		this.animations.push(arguments[t]);
	if(this.running == 0) {
		var me = this;
		this.timerID = window.setInterval(function() {me.doAnimate(me);},10);
	}
	this.running += arguments.length;
};

// Perform an animation engine tick, calling each of the known animation modules
Animator.prototype.doAnimate = function(me)
{
	var a = 0;
	while(a < me.animations.length) {
		var animation = me.animations[a];
		if(animation.tick()) {
			a++;
		} else {
			me.animations.splice(a,1);
			if(--me.running == 0)
				window.clearInterval(me.timerID);
		}
	}
};

Animator.slowInSlowOut = function(progress)
{
	return(1-((Math.cos(progress * Math.PI)+1)/2));
};

//--
//-- Morpher animation
//--

// Animate a set of properties of an element
function Morpher(element,duration,properties,callback)
{
	this.element = element;
	this.duration = duration;
	this.properties = properties;
	this.startTime = new Date();
	this.endTime = Number(this.startTime) + duration;
	this.callback = callback;
	this.tick();
	return this;
}

Morpher.prototype.assignStyle = function(element,style,value)
{
	switch(style) {
	case "-tw-vertScroll":
		window.scrollTo(findScrollX(),value);
		break;
	case "-tw-horizScroll":
		window.scrollTo(value,findScrollY());
		break;
	default:
		element.style[style] = value;
		break;
	}
};

Morpher.prototype.stop = function()
{
	var t;
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.atEnd !== undefined) {
			this.assignStyle(this.element,p.style,p.atEnd);
		}
	}
	if(this.callback)
		this.callback(this.element,this.properties);
};

Morpher.prototype.tick = function()
{
	var currTime = Number(new Date());
	var t,progress = Animator.slowInSlowOut(Math.min(1,(currTime-this.startTime)/this.duration));
	for(t=0; t<this.properties.length; t++) {
		var p = this.properties[t];
		if(p.start !== undefined && p.end !== undefined) {
			var template = p.template || "%0";
			switch(p.format) {
			case undefined:
			case "style":
				var v = p.start + (p.end-p.start) * progress;
				this.assignStyle(this.element,p.style,template.format([v]));
				break;
			case "color":
				break;
			}
		}
	}
	if(currTime >= this.endTime) {
		this.stop();
		return false;
	}
	return true;
};

//--
//-- Zoomer animation
//--

function Zoomer(text,startElement,targetElement,unused)
{
	var e = createTiddlyElement(document.body,"div",null,"zoomer");
	createTiddlyElement(e,"div",null,null,text);
	var winWidth = findWindowWidth();
	var winHeight = findWindowHeight();
	var p = [
		{style: 'left', start: findPosX(startElement), end: findPosX(targetElement), template: '%0px'},
		{style: 'top', start: findPosY(startElement), end: findPosY(targetElement), template: '%0px'},
		{style: 'width', start: Math.min(startElement.scrollWidth,winWidth), end: Math.min(targetElement.scrollWidth,winWidth), template: '%0px', atEnd: 'auto'},
		{style: 'height', start: Math.min(startElement.scrollHeight,winHeight), end: Math.min(targetElement.scrollHeight,winHeight), template: '%0px', atEnd: 'auto'},
		{style: 'fontSize', start: 8, end: 24, template: '%0pt'}
	];
	var c = function(element,properties) {jQuery(element).remove();};
	return new Morpher(e,config.animDuration,p,c);
}

//--
//-- Scroller animation
//--

function Scroller(targetElement)
{
	var p = [{style: '-tw-vertScroll', start: findScrollY(), end: ensureVisible(targetElement)}];
	return new Morpher(targetElement,config.animDuration,p);
}

//--
//-- Slider animation
//--

// deleteMode - "none", "all" [delete target element and it's children], [only] "children" [but not the target element]
function Slider(element,opening,unused,deleteMode)
{
	element.style.overflow = 'hidden';
	if(opening)
		element.style.height = '0px'; // Resolves a Firefox flashing bug
	element.style.display = 'block';
	var height = element.scrollHeight;
	var p = [];
	var c = null;
	if(opening) {
		p.push({style: 'height', start: 0, end: height, template: '%0px', atEnd: 'auto'});
		p.push({style: 'opacity', start: 0, end: 1, template: '%0'});
		p.push({style: 'filter', start: 0, end: 100, template: 'alpha(opacity:%0)'});
	} else {
		p.push({style: 'height', start: height, end: 0, template: '%0px'});
		p.push({style: 'display', atEnd: 'none'});
		p.push({style: 'opacity', start: 1, end: 0, template: '%0'});
		p.push({style: 'filter', start: 100, end: 0, template: 'alpha(opacity:%0)'});
		switch(deleteMode) {
		case "all":
			c = function(element,properties) {jQuery(element).remove();};
			break;
		case "children":
			c = function(element,properties) {jQuery(element).empty();};
			break;
		}
	}
	return new Morpher(element,config.animDuration,p,c);
}

//--
//-- Popup menu
//--

var Popup = {
	stack: [] // Array of objects with members root: and popup:
	};

Popup.create = function(root,elem,className)
{
	var stackPosition = this.find(root,"popup");
	Popup.remove(stackPosition+1);
	var popup = createTiddlyElement(document.body,elem || "ol","popup",className || "popup");
	popup.stackPosition = stackPosition;
	Popup.stack.push({root: root, popup: popup});
	return popup;
};

Popup.onDocumentClick = function(ev)
{
	var e = ev || window.event;
	if(e.eventPhase == undefined)
		Popup.remove();
	else if(e.eventPhase == Event.BUBBLING_PHASE || e.eventPhase == Event.AT_TARGET)
		Popup.remove();
	return true;
};

Popup.show = function(valign,halign,offset)
{
	var curr = Popup.stack[Popup.stack.length-1];
	this.place(curr.root,curr.popup,valign,halign,offset);
	jQuery(curr.root).addClass("highlight");
	if(config.options.chkAnimate && anim && typeof Scroller == "function")
		anim.startAnimating(new Scroller(curr.popup));
	else
		window.scrollTo(0,ensureVisible(curr.popup));
};

Popup.place = function(root,popup,valign,halign,offset)
{
	if(!offset)
		offset = {x:0,y:0};
	if(popup.stackPosition >= 0 && !valign && !halign) {
		offset.x = offset.x + root.offsetWidth;
	} else {
		offset.x = (halign == "right") ? offset.x + root.offsetWidth : offset.x;
		offset.y = (valign == "top") ? offset.y : offset.y + root.offsetHeight;
	}
	var rootLeft = findPosX(root);
	var rootTop = findPosY(root);
	var popupLeft = rootLeft + offset.x;
	var popupTop = rootTop + offset.y;
	var winWidth = findWindowWidth();
	if(popup.offsetWidth > winWidth*0.75)
		popup.style.width = winWidth*0.75 + "px";
	var popupWidth = popup.offsetWidth;
	var scrollWidth = winWidth - document.body.offsetWidth;
	if(popupLeft + popupWidth > winWidth - scrollWidth - 1) {
		if(halign == "right")
			popupLeft = popupLeft - root.offsetWidth - popupWidth;
		else
			popupLeft = winWidth - popupWidth - scrollWidth - 1;
	}
	popup.style.left = popupLeft + "px";
	popup.style.top = popupTop + "px";
	popup.style.display = "block";
};

Popup.find = function(e)
{
	var t,pos = -1;
	for(t=this.stack.length-1; t>=0; t--) {
		if(isDescendant(e,this.stack[t].popup))
			pos = t;
	}
	return pos;
};

Popup.remove = function(pos)
{
	if(!pos) pos = 0;
	if(Popup.stack.length > pos) {
		Popup.removeFrom(pos);
	}
};

Popup.removeFrom = function(from)
{
	var t;
	for(t=Popup.stack.length-1; t>=from; t--) {
		var p = Popup.stack[t];
		jQuery(p.root).removeClass("highlight");
		jQuery(p.popup).remove();
	}
	Popup.stack = Popup.stack.slice(0,from);
};

//--
//-- Wizard support
//--

function Wizard(elem)
{
	if(elem) {
		this.formElem = findRelated(elem,"wizard","className");
		this.bodyElem = findRelated(this.formElem.firstChild,"wizardBody","className","nextSibling");
		this.footElem = findRelated(this.formElem.firstChild,"wizardFooter","className","nextSibling");
	} else {
		this.formElem = null;
		this.bodyElem = null;
		this.footElem = null;
	}
}

Wizard.prototype.setValue = function(name,value)
{
	jQuery(this.formElem).data(name, value);
};

Wizard.prototype.getValue = function(name)
{
	return this.formElem ? jQuery(this.formElem).data(name) : null;
};

Wizard.prototype.createWizard = function(place,title)
{
	this.formElem = createTiddlyElement(place,"form",null,"wizard");
	createTiddlyElement(this.formElem,"h1",null,null,title);
	this.bodyElem = createTiddlyElement(this.formElem,"div",null,"wizardBody");
	this.footElem = createTiddlyElement(this.formElem,"div",null,"wizardFooter");
	return this.formElem;
};

Wizard.prototype.clear = function()
{
	jQuery(this.bodyElem).empty();
};

Wizard.prototype.setButtons = function(buttonInfo,status)
{
	jQuery(this.footElem).empty();
	var t;
	for(t=0; t<buttonInfo.length; t++) {
		createTiddlyButton(this.footElem,buttonInfo[t].caption,buttonInfo[t].tooltip,buttonInfo[t].onClick);
		insertSpacer(this.footElem);
		}
	if(typeof status == "string") {
		createTiddlyElement(this.footElem,"span",null,"status",status);
	}
};

Wizard.prototype.addStep = function(stepTitle,html)
{
	jQuery(this.bodyElem).empty();
	var w = createTiddlyElement(this.bodyElem,"div");
	createTiddlyElement(w,"h2",null,null,stepTitle);
	var step = createTiddlyElement(w,"div",null,"wizardStep");
	step.innerHTML = html;
	applyHtmlMacros(step,tiddler);
};

Wizard.prototype.getElement = function(name)
{
	return this.formElem.elements[name];
};

//--
//-- ListView gadget
//--

var ListView = {};

// Create a listview
ListView.create = function(place,listObject,listTemplate,callback,className)
{
	var table = createTiddlyElement(place,"table",null,className || "listView twtable");
	var thead = createTiddlyElement(table,"thead");
	var t,r = createTiddlyElement(thead,"tr");
	for(t=0; t<listTemplate.columns.length; t++) {
		var columnTemplate = listTemplate.columns[t];
		var c = createTiddlyElement(r,"th");
		var colType = ListView.columnTypes[columnTemplate.type];
		if(colType && colType.createHeader) {
			colType.createHeader(c,columnTemplate,t);
			if(columnTemplate.className)
				jQuery(c).addClass(columnTemplate.className);
		}
	}
	var rc,tbody = createTiddlyElement(table,"tbody");
	for(rc=0; rc<listObject.length; rc++) {
		var rowObject = listObject[rc];
		r = createTiddlyElement(tbody,"tr");
		for(c=0; c<listTemplate.rowClasses.length; c++) {
			if(rowObject[listTemplate.rowClasses[c].field])
				jQuery(r).addClass(listTemplate.rowClasses[c].className);
		}
		rowObject.rowElement = r;
		rowObject.colElements = {};
		var cc;
		for(cc=0; cc<listTemplate.columns.length; cc++) {
			c = createTiddlyElement(r,"td");
			columnTemplate = listTemplate.columns[cc];
			var field = columnTemplate.field;
			colType = ListView.columnTypes[columnTemplate.type];
			if(colType && colType.createItem) {
				colType.createItem(c,rowObject,field,columnTemplate,cc,rc);
				if(columnTemplate.className)
					jQuery(c).addClass(columnTemplate.className);
			}
			rowObject.colElements[field] = c;
		}
	}
	if(callback && listTemplate.actions)
		createTiddlyDropDown(place,ListView.getCommandHandler(callback),listTemplate.actions);
	if(callback && listTemplate.buttons) {
		for(t=0; t<listTemplate.buttons.length; t++) {
			var a = listTemplate.buttons[t];
			if(a && a.name != "")
				createTiddlyButton(place,a.caption,null,ListView.getCommandHandler(callback,a.name,a.allowEmptySelection));
		}
	}
	return table;
};

ListView.getCommandHandler = function(callback,name,allowEmptySelection)
{
	return function(e) {
		var view = findRelated(this,"TABLE",null,"previousSibling");
		var tiddlers = [];
		ListView.forEachSelector(view,function(e,rowName) {
					if(e.checked)
						tiddlers.push(rowName);
					});
		if(tiddlers.length == 0 && !allowEmptySelection) {
			alert(config.messages.nothingSelected);
		} else {
			if(this.nodeName.toLowerCase() == "select") {
				callback(view,this.value,tiddlers);
				this.selectedIndex = 0;
			} else {
				callback(view,name,tiddlers);
			}
		}
	};
};

// Invoke a callback for each selector checkbox in the listview
ListView.forEachSelector = function(view,callback)
{
	var checkboxes = view.getElementsByTagName("input");
	var t,hadOne = false;
	for(t=0; t<checkboxes.length; t++) {
		var cb = checkboxes[t];
		if(cb.getAttribute("type") == "checkbox") {
			var rn = cb.getAttribute("rowName");
			if(rn) {
				callback(cb,rn);
				hadOne = true;
			}
		}
	}
	return hadOne;
};

ListView.getSelectedRows = function(view)
{
	var rowNames = [];
	ListView.forEachSelector(view,function(e,rowName) {
				if(e.checked)
					rowNames.push(rowName);
				});
	return rowNames;
};

ListView.columnTypes = {};

ListView.columnTypes.String = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyText(place,columnTemplate.title);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v);
		}
};

ListView.columnTypes.WikiText = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				wikify(v,place,null,null);
		}
};

ListView.columnTypes.Tiddler = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined && v.title)
				createTiddlyPopup(place,v.title,config.messages.listView.tiddlerTooltip,v);
		}
};

ListView.columnTypes.Size = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var msg = config.messages.sizeTemplates;
			var v = listObject[field];
			if(v != undefined) {
				var t = 0;
				while(t<msg.length-1 && v<msg[t].unit)
					t++;
				createTiddlyText(place,msg[t].template.format([Math.round(v/msg[t].unit)]));
			}
		}
};

ListView.columnTypes.Link = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			var c = columnTemplate.text;
			if(v != undefined)
				createExternalLink(place,v,c || v);
		}
};

ListView.columnTypes.Date = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined)
				createTiddlyText(place,v.formatString(columnTemplate.dateFormat));
		}
};

ListView.columnTypes.StringList = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var t;
				for(t=0; t<v.length; t++) {
					createTiddlyText(place,v[t]);
					createTiddlyElement(place,"br");
				}
			}
		}
};

ListView.columnTypes.Selector = {
	createHeader: function(place,columnTemplate,col)
		{
			createTiddlyCheckbox(place,null,false,this.onHeaderChange);
		},
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],null);
			e.setAttribute("rowName",listObject[columnTemplate.rowName]);
		},
	onHeaderChange: function(e)
		{
			var state = this.checked;
			var view = findRelated(this,"TABLE");
			if(!view)
				return;
			ListView.forEachSelector(view,function(e,rowName) {
								e.checked = state;
							});
		}
};

ListView.columnTypes.Tags = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var tags = listObject[field];
			createTiddlyText(place,String.encodeTiddlyLinkList(tags));
		}
};

ListView.columnTypes.Boolean = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			if(listObject[field] == true)
				createTiddlyText(place,columnTemplate.trueText);
			if(listObject[field] == false)
				createTiddlyText(place,columnTemplate.falseText);
		}
};

ListView.columnTypes.TagCheckbox = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var e = createTiddlyCheckbox(place,null,listObject[field],this.onChange);
			e.setAttribute("tiddler",listObject.title);
			e.setAttribute("tag",columnTemplate.tag);
		},
	onChange : function(e)
		{
			var tag = this.getAttribute("tag");
			var tiddler = this.getAttribute("tiddler");
			store.setTiddlerTag(tiddler,this.checked,tag);
		}
};

ListView.columnTypes.TiddlerLink = {
	createHeader: ListView.columnTypes.String.createHeader,
	createItem: function(place,listObject,field,columnTemplate,col,row)
		{
			var v = listObject[field];
			if(v != undefined) {
				var link = createTiddlyLink(place,listObject[columnTemplate.tiddlerLink],false,null);
				createTiddlyText(link,listObject[field]);
			}
		}
};

//--
//-- Augmented methods for the JavaScript Array() object
//--

// Add indexOf function if browser does not support it
if(!Array.indexOf) {
Array.prototype.indexOf = function(item,from)
{
	if(!from)
		from = 0;
	var i;
	for(i=from; i<this.length; i++) {
		if(this[i] === item)
			return i;
	}
	return -1;
};}

// Find an entry in a given field of the members of an array
Array.prototype.findByField = function(field,value)
{
	var t;
	for(t=0; t<this.length; t++) {
		if(this[t][field] === value)
			return t;
	}
	return null;
};

// Return whether an entry exists in an array
Array.prototype.contains = function(item)
{
	return this.indexOf(item) != -1;
};

// Adds, removes or toggles a particular value within an array
//  value - value to add
//  mode - +1 to add value, -1 to remove value, 0 to toggle it
Array.prototype.setItem = function(value,mode)
{
	var p = this.indexOf(value);
	if(mode == 0)
		mode = (p == -1) ? +1 : -1;
	if(mode == +1) {
		if(p == -1)
			this.push(value);
	} else if(mode == -1) {
		if(p != -1)
			this.splice(p,1);
	}
};

// Return whether one of a list of values exists in an array
Array.prototype.containsAny = function(items)
{
	var i;
	for(i=0; i<items.length; i++) {
		if(this.indexOf(items[i]) != -1)
			return true;
	}
	return false;
};

// Return whether all of a list of values exists in an array
Array.prototype.containsAll = function(items)
{
	var i;
	for(i = 0; i<items.length; i++) {
		if(this.indexOf(items[i]) == -1)
			return false;
	}
	return true;
};

// Push a new value into an array only if it is not already present in the array. If the optional unique parameter is false, it reverts to a normal push
Array.prototype.pushUnique = function(item,unique)
{
	if(unique === false) {
		this.push(item);
	} else {
		if(this.indexOf(item) == -1)
			this.push(item);
	}
};

Array.prototype.remove = function(item)
{
	var p = this.indexOf(item);
	if(p != -1)
		this.splice(p,1);
};

if(!Array.prototype.map) {
Array.prototype.map = function(fn,thisObj)
{
	var scope = thisObj || window;
	var i,j,a = [];
	for(i=0, j=this.length; i < j; ++i) {
		a.push(fn.call(scope,this[i],i,this));
	}
	return a;
};}

//--
//-- Augmented methods for the JavaScript String() object
//--

// Get characters from the right end of a string
String.prototype.right = function(n)
{
	return n < this.length ? this.slice(this.length-n) : this;
};

// Trim whitespace from both ends of a string
String.prototype.trim = function()
{
	return this.replace(/^\s*|\s*$/g,"");
};

// Convert a string from a CSS style property name to a JavaScript style name ("background-color" -> "backgroundColor")
String.prototype.unDash = function()
{
	var t,s = this.split("-");
	if(s.length > 1) {
		for(t=1; t<s.length; t++)
			s[t] = s[t].substr(0,1).toUpperCase() + s[t].substr(1);
	}
	return s.join("");
};

// Substitute substrings from an array into a format string that includes '%1'-type specifiers
String.prototype.format = function(s)
{
	var substrings = s && s.constructor == Array ? s : arguments;
	var subRegExp = /(?:%(\d+))/mg;
	var currPos = 0;
	var match,r = [];
	do {
		match = subRegExp.exec(this);
		if(match && match[1]) {
			if(match.index > currPos)
				r.push(this.substring(currPos,match.index));
			r.push(substrings[parseInt(match[1],10)]);
			currPos = subRegExp.lastIndex;
		}
	} while(match);
	if(currPos < this.length)
		r.push(this.substring(currPos,this.length));
	return r.join("");
};

// Escape any special RegExp characters with that character preceded by a backslash
String.prototype.escapeRegExp = function()
{
	var s = "\\^$*+?()=!|,{}[].";
	var t,c = this;
	for(t=0; t<s.length; t++)
		c = c.replace(new RegExp("\\" + s.substr(t,1),"g"),"\\" + s.substr(t,1));
	return c;
};

// Convert "\" to "\s", newlines to "\n" (and remove carriage returns)
String.prototype.escapeLineBreaks = function()
{
	return this.replace(/\\/mg,"\\s").replace(/\n/mg,"\\n").replace(/\r/mg,"");
};

// Convert "\n" to newlines, "\b" to " ", "\s" to "\" (and remove carriage returns)
String.prototype.unescapeLineBreaks = function()
{
	return this.replace(/\\n/mg,"\n").replace(/\\b/mg," ").replace(/\\s/mg,"\\").replace(/\r/mg,"");
};

// Convert & to "&amp;", < to "&lt;", > to "&gt;" and " to "&quot;"
String.prototype.htmlEncode = function()
{
	return this.replace(/&/mg,"&amp;").replace(/</mg,"&lt;").replace(/>/mg,"&gt;").replace(/\"/mg,"&quot;");
};

// Convert "&amp;" to &, "&lt;" to <, "&gt;" to > and "&quot;" to "
String.prototype.htmlDecode = function()
{
	return this.replace(/&lt;/mg,"<").replace(/&gt;/mg,">").replace(/&quot;/mg,"\"").replace(/&amp;/mg,"&");
};

// Parse a space-separated string of name:value parameters
// The result is an array of objects:
//   result[0] = object with a member for each parameter name, value of that member being an array of values
//   result[1..n] = one object for each parameter, with 'name' and 'value' members
String.prototype.parseParams = function(defaultName,defaultValue,allowEval,noNames,cascadeDefaults)
{
	var parseToken = function(match,p) {
		var n;
		if(match[p]) // Double quoted
			n = match[p];
		else if(match[p+1]) // Single quoted
			n = match[p+1];
		else if(match[p+2]) // Double-square-bracket quoted
			n = match[p+2];
		else if(match[p+3]) // Double-brace quoted
			try {
				n = match[p+3];
				if(allowEval && config.evaluateMacroParameters != "none") {
					if(config.evaluateMacroParameters == "restricted") {
						if(window.restrictedEval) {
							n = window.restrictedEval(n);
						}
					} else {
						n = window.eval(n);
					}
				}
			} catch(ex) {
				throw "Unable to evaluate {{" + match[p+3] + "}}: " + exceptionText(ex);
			}
		else if(match[p+4]) // Unquoted
			n = match[p+4];
		else if(match[p+5]) // empty quote
			n = "";
		return n;
	};
	var r = [{}];
	var dblQuote = "(?:\"((?:(?:\\\\\")|[^\"])+)\")";
	var sngQuote = "(?:'((?:(?:\\\\\')|[^'])+)')";
	var dblSquare = "(?:\\[\\[((?:\\s|\\S)*?)\\]\\])";
	var dblBrace = "(?:\\{\\{((?:\\s|\\S)*?)\\}\\})";
	var unQuoted = noNames ? "([^\"'\\s]\\S*)" : "([^\"':\\s][^\\s:]*)";
	var emptyQuote = "((?:\"\")|(?:''))";
	var skipSpace = "(?:\\s*)";
	var token = "(?:" + dblQuote + "|" + sngQuote + "|" + dblSquare + "|" + dblBrace + "|" + unQuoted + "|" + emptyQuote + ")";
	var re = noNames ? new RegExp(token,"mg") : new RegExp(skipSpace + token + skipSpace + "(?:(\\:)" + skipSpace + token + ")?","mg");
	var match;
	do {
		match = re.exec(this);
		if(match) {
			var n = parseToken(match,1);
			if(noNames) {
				r.push({name:"",value:n});
			} else {
				var v = parseToken(match,8);
				if(v == null && defaultName) {
					v = n;
					n = defaultName;
				} else if(v == null && defaultValue) {
					v = defaultValue;
				}
				r.push({name:n,value:v});
				if(cascadeDefaults) {
					defaultName = n;
					defaultValue = v;
				}
			}
		}
	} while(match);
	// Summarise parameters into first element
	var t;
	for(t=1; t<r.length; t++) {
		if(r[0][r[t].name])
			r[0][r[t].name].push(r[t].value);
		else
			r[0][r[t].name] = [r[t].value];
	}
	return r;
};

// Process a string list of macro parameters into an array. Parameters can be quoted with "", '',
// [[]], {{ }} or left unquoted (and therefore space-separated). Double-braces {{}} results in
// an *evaluated* parameter: e.g. {{config.options.txtUserName}} results in the current user's name.
String.prototype.readMacroParams = function(notAllowEval)
{
	var p = this.parseParams("list",null,!notAllowEval,true);
	var t,n = [];
	for(t=1; t<p.length; t++)
		n.push(p[t].value);
	return n;
};

// Process a string list of unique tiddler names into an array. Tiddler names that have spaces in them must be [[bracketed]]
String.prototype.readBracketedList = function(unique)
{
	var p = this.parseParams("list",null,false,true);
	var t,n = [];
	for(t=1; t<p.length; t++) {
		if(p[t].value)
			n.pushUnique(p[t].value,unique);
	}
	return n;
};

// Returns array with start and end index of chunk between given start and end marker, or undefined.
String.prototype.getChunkRange = function(start,end)
{
	var s = this.indexOf(start);
	if(s != -1) {
		s += start.length;
		var e = this.indexOf(end,s);
		if(e != -1)
			return [s,e];
	}
};

// Replace a chunk of a string given start and end markers
String.prototype.replaceChunk = function(start,end,sub)
{
	var r = this.getChunkRange(start,end);
	return r ? this.substring(0,r[0]) + sub + this.substring(r[1]) : this;
};

// Returns a chunk of a string between start and end markers, or undefined
String.prototype.getChunk = function(start,end)
{
	var r = this.getChunkRange(start,end);
	if(r)
		return this.substring(r[0],r[1]);
};


// Static method to bracket a string with double square brackets if it contains a space
String.encodeTiddlyLink = function(title)
{
	return title.indexOf(" ") == -1 ? title : "[[" + title + "]]";
};

// Static method to encodeTiddlyLink for every item in an array and join them with spaces
String.encodeTiddlyLinkList = function(list)
{
	if(list) {
		var t,results = [];
		for(t=0; t<list.length; t++)
			results.push(String.encodeTiddlyLink(list[t]));
		return results.join(" ");
	} else {
		return "";
	}
};

// Convert a string as a sequence of name:"value" pairs into a hashmap
String.prototype.decodeHashMap = function()
{
	var fields = this.parseParams("anon","",false);
	var t,r = {};
	for(t=1; t<fields.length; t++)
		r[fields[t].name] = fields[t].value;
	return r;
};

// Static method to encode a hashmap into a name:"value"... string
String.encodeHashMap = function(hashmap)
{
	var t,r = [];
	for(t in hashmap)
		r.push(t + ':"' + hashmap[t] + '"');
	return r.join(" ");
};

// Static method to left-pad a string with 0s to a certain width
String.zeroPad = function(n,d)
{
	var s = n.toString();
	if(s.length < d)
		s = "000000000000000000000000000".substr(0,d-s.length) + s;
	return s;
};

String.prototype.startsWith = function(prefix)
{
	return !prefix || this.substring(0,prefix.length) == prefix;
};

// Returns the first value of the given named parameter.
function getParam(params,name,defaultValue)
{
	if(!params)
		return defaultValue;
	var p = params[0][name];
	return p ? p[0] : defaultValue;
}

// Returns the first value of the given boolean named parameter.
function getFlag(params,name,defaultValue)
{
	return !!getParam(params,name,defaultValue);
}

//--
//-- Augmented methods for the JavaScript Date() object
//--

// Substitute date components into a string
Date.prototype.formatString = function(template)
{
	var t = template.replace(/0hh12/g,String.zeroPad(this.getHours12(),2));
	t = t.replace(/hh12/g,this.getHours12());
	t = t.replace(/0hh/g,String.zeroPad(this.getHours(),2));
	t = t.replace(/hh/g,this.getHours());
	t = t.replace(/mmm/g,config.messages.dates.shortMonths[this.getMonth()]);
	t = t.replace(/0mm/g,String.zeroPad(this.getMinutes(),2));
	t = t.replace(/mm/g,this.getMinutes());
	t = t.replace(/0ss/g,String.zeroPad(this.getSeconds(),2));
	t = t.replace(/ss/g,this.getSeconds());
	t = t.replace(/[ap]m/g,this.getAmPm().toLowerCase());
	t = t.replace(/[AP]M/g,this.getAmPm().toUpperCase());
	t = t.replace(/wYYYY/g,this.getYearForWeekNo());
	t = t.replace(/wYY/g,String.zeroPad(this.getYearForWeekNo()-2000,2));
	t = t.replace(/YYYY/g,this.getFullYear());
	t = t.replace(/YY/g,String.zeroPad(this.getFullYear()-2000,2));
	t = t.replace(/MMM/g,config.messages.dates.months[this.getMonth()]);
	t = t.replace(/0MM/g,String.zeroPad(this.getMonth()+1,2));
	t = t.replace(/MM/g,this.getMonth()+1);
	t = t.replace(/0WW/g,String.zeroPad(this.getWeek(),2));
	t = t.replace(/WW/g,this.getWeek());
	t = t.replace(/DDD/g,config.messages.dates.days[this.getDay()]);
	t = t.replace(/ddd/g,config.messages.dates.shortDays[this.getDay()]);
	t = t.replace(/0DD/g,String.zeroPad(this.getDate(),2));
	t = t.replace(/DDth/g,this.getDate()+this.daySuffix());
	t = t.replace(/DD/g,this.getDate());
	var tz = this.getTimezoneOffset();
	var atz = Math.abs(tz);
	t = t.replace(/TZD/g,(tz < 0 ? '+' : '-') + String.zeroPad(Math.floor(atz / 60),2) + ':' + String.zeroPad(atz % 60,2));
	t = t.replace(/\\/g,"");
	return t;
};

Date.prototype.getWeek = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week to calculate weekNo
	var n = Math.floor((dt.getTime()-new Date(dt.getFullYear(),0,1)+3600000)/86400000);
	return Math.floor(n/7)+1;
};

Date.prototype.getYearForWeekNo = function()
{
	var dt = new Date(this.getTime());
	var d = dt.getDay();
	if(d==0) d=7;// JavaScript Sun=0, ISO Sun=7
	dt.setTime(dt.getTime()+(4-d)*86400000);// shift day to Thurs of same week
	return dt.getFullYear();
};

Date.prototype.getHours12 = function()
{
	var h = this.getHours();
	return h > 12 ? h-12 : ( h > 0 ? h : 12 );
};

Date.prototype.getAmPm = function()
{
	return this.getHours() >= 12 ? config.messages.dates.pm : config.messages.dates.am;
};

Date.prototype.daySuffix = function()
{
	return config.messages.dates.daySuffixes[this.getDate()-1];
};

// Convert a date to local YYYYMMDDHHMM string format
Date.prototype.convertToLocalYYYYMMDDHHMM = function()
{
	return this.getFullYear() + String.zeroPad(this.getMonth()+1,2) + String.zeroPad(this.getDate(),2) + String.zeroPad(this.getHours(),2) + String.zeroPad(this.getMinutes(),2);
};

// Convert a date to UTC YYYYMMDDHHMM string format
Date.prototype.convertToYYYYMMDDHHMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2);
};

// Convert a date to UTC YYYYMMDD.HHMMSSMMM string format
Date.prototype.convertToYYYYMMDDHHMMSSMMM = function()
{
	return this.getUTCFullYear() + String.zeroPad(this.getUTCMonth()+1,2) + String.zeroPad(this.getUTCDate(),2) + "." + String.zeroPad(this.getUTCHours(),2) + String.zeroPad(this.getUTCMinutes(),2) + String.zeroPad(this.getUTCSeconds(),2) + String.zeroPad(this.getUTCMilliseconds(),3) +"0";
};

// Static method to create a date from a UTC YYYYMMDDHHMM format string
Date.convertFromYYYYMMDDHHMM = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,12));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSS format string
Date.convertFromYYYYMMDDHHMMSS = function(d)
{
	d = d?d.replace(/[^0-9]/g, ""):"";
	return Date.convertFromYYYYMMDDHHMMSSMMM(d.substr(0,14));
};

// Static method to create a date from a UTC YYYYMMDDHHMMSSMMM format string
Date.convertFromYYYYMMDDHHMMSSMMM = function(d)
{
	d = d ? d.replace(/[^0-9]/g, "") : "";
	return new Date(Date.UTC(parseInt(d.substr(0,4),10),
			parseInt(d.substr(4,2),10)-1,
			parseInt(d.substr(6,2),10),
			parseInt(d.substr(8,2)||"00",10),
			parseInt(d.substr(10,2)||"00",10),
			parseInt(d.substr(12,2)||"00",10),
			parseInt(d.substr(14,3)||"000",10)));
};

//--
//-- RGB colour object
//--

// Construct an RGB colour object from a '#rrggbb', '#rgb' or 'rgb(n,n,n)' string or from separate r,g,b values
function RGB(r,g,b)
{
	this.r = 0;
	this.g = 0;
	this.b = 0;
	if(typeof r == "string") {
		if(r.substr(0,1) == "#") {
			if(r.length == 7) {
				this.r = parseInt(r.substr(1,2),16)/255;
				this.g = parseInt(r.substr(3,2),16)/255;
				this.b = parseInt(r.substr(5,2),16)/255;
			} else {
				this.r = parseInt(r.substr(1,1),16)/15;
				this.g = parseInt(r.substr(2,1),16)/15;
				this.b = parseInt(r.substr(3,1),16)/15;
			}
		} else {
			var rgbPattern = /rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/;
			var c = r.match(rgbPattern);
			if(c) {
				this.r = parseInt(c[1],10)/255;
				this.g = parseInt(c[2],10)/255;
				this.b = parseInt(c[3],10)/255;
			}
		}
	} else {
		this.r = r;
		this.g = g;
		this.b = b;
	}
	return this;
}

// Mixes this colour with another in a specified proportion
// c = other colour to mix
// f = 0..1 where 0 is this colour and 1 is the new colour
// Returns an RGB object
RGB.prototype.mix = function(c,f)
{
	return new RGB(this.r + (c.r-this.r) * f,this.g + (c.g-this.g) * f,this.b + (c.b-this.b) * f);
};

// Return an rgb colour as a #rrggbb format hex string
RGB.prototype.toString = function()
{
	var clamp = function(x,min,max) {
		return x < min ? min : (x > max ? max : x);
	};
	return "#" +
			("0" + Math.floor(clamp(this.r,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.g,0,1) * 255).toString(16)).right(2) +
			("0" + Math.floor(clamp(this.b,0,1) * 255).toString(16)).right(2);
};

//--
//-- DOM utilities - many derived from www.quirksmode.org
//--

function drawGradient(place,horiz,locolors,hicolors)
{
	if(!hicolors)
		hicolors = locolors;
	var t;
	for(t=0; t<= 100; t+=2) {
		var bar = document.createElement("div");
		place.appendChild(bar);
		bar.style.position = "absolute";
		bar.style.left = horiz ? t + "%" : 0;
		bar.style.top = horiz ? 0 : t + "%";
		bar.style.width = horiz ? (101-t) + "%" : "100%";
		bar.style.height = horiz ? "100%" : (101-t) + "%";
		bar.style.zIndex = -1;
		var p = t/100*(locolors.length-1);
		var hc = hicolors[Math.floor(p)];
		if(typeof hc == "string")
			hc = new RGB(hc);
		var lc = locolors[Math.ceil(p)];
		if(typeof lc == "string")
			lc = new RGB(lc);
		bar.style.backgroundColor = hc.mix(lc,p-Math.floor(p)).toString();
	}
}

function addEvent(obj,type,fn)
{
	if(obj.attachEvent) {
		obj["e"+type+fn] = fn;
		obj[type+fn] = function(){obj["e"+type+fn](window.event);};
		obj.attachEvent("on"+type,obj[type+fn]);
	} else {
		obj.addEventListener(type,fn,false);
	}
}

function removeEvent(obj,type,fn)
{
	if(obj.detachEvent) {
		obj.detachEvent("on"+type,obj[type+fn]);
		obj[type+fn] = null;
	} else {
		obj.removeEventListener(type,fn,false);
	}
}

// Find the closest relative with a given property value (property defaults to tagName, relative defaults to parentNode)
function findRelated(e,value,name,relative)
{
	name = name || "tagName";
	relative = relative || "parentNode";
	if(name == "className") {
		while(e && !jQuery(e).hasClass(value)) {
			e = e[relative];
		}
	} else {
		while(e && e[name] != value) {
			e = e[relative];
		}
	}
	return e;
}

// Get the scroll position for window.scrollTo necessary to scroll a given element into view
function ensureVisible(e)
{
	var posTop = findPosY(e);
	var posBot = posTop + e.offsetHeight;
	var winTop = findScrollY();
	var winHeight = findWindowHeight();
	var winBot = winTop + winHeight;
	if(posTop < winTop) {
		return posTop;
	} else if(posBot > winBot) {
		if(e.offsetHeight < winHeight)
			return posTop - (winHeight - e.offsetHeight);
		else
			return posTop;
	} else {
		return winTop;
	}
}

// Get the current width of the display window
function findWindowWidth()
{
	return window.innerWidth || document.documentElement.clientWidth;
}

// Get the current height of the display window
function findWindowHeight()
{
	return window.innerHeight || document.documentElement.clientHeight;
}

// Get the current height of the document
function findDocHeight() {
var D = document;
return Math.max(
Math.max(D.body.scrollHeight, D.documentElement.scrollHeight),
Math.max(D.body.offsetHeight, D.documentElement.offsetHeight),
Math.max(D.body.clientHeight, D.documentElement.clientHeight)
);
}

// Get the current horizontal page scroll position
function findScrollX()
{
	return window.scrollX || document.documentElement.scrollLeft;
}

// Get the current vertical page scroll position
function findScrollY()
{
	return window.scrollY || document.documentElement.scrollTop;
}

function findPosX(obj)
{
	var curleft = 0;
	while(obj.offsetParent) {
		curleft += obj.offsetLeft;
		obj = obj.offsetParent;
	}
	return curleft;
}

function findPosY(obj)
{
	var curtop = 0;
	while(obj.offsetParent) {
		curtop += obj.offsetTop;
		obj = obj.offsetParent;
	}
	return curtop;
}

// Blur a particular element
function blurElement(e)
{
	if(e && e.focus && e.blur) {
		e.focus();
		e.blur();
	}
}

// Create a non-breaking space
function insertSpacer(place)
{
	var e = document.createTextNode(String.fromCharCode(160));
	if(place)
		place.appendChild(e);
	return e;
}

// Replace the current selection of a textarea or text input and scroll it into view
function replaceSelection(e,text)
{
	if(e.setSelectionRange) {
		var oldpos = e.selectionStart;
		var isRange = e.selectionEnd > e.selectionStart;
		e.value = e.value.substr(0,e.selectionStart) + text + e.value.substr(e.selectionEnd);
		e.setSelectionRange(isRange ? oldpos : oldpos + text.length,oldpos + text.length);
		var linecount = e.value.split("\n").length;
		var thisline = e.value.substr(0,e.selectionStart).split("\n").length-1;
		e.scrollTop = Math.floor((thisline - e.rows / 2) * e.scrollHeight / linecount);
	} else if(document.selection) {
		var range = document.selection.createRange();
		if(range.parentElement() == e) {
			var isCollapsed = range.text == "";
			range.text = text;
			if(!isCollapsed) {
				range.moveStart("character", -text.length);
				range.select();
			}
		}
	}
}

// Set the caret position in a text area
function setCaretPosition(e,pos)
{
	if(e.selectionStart || e.selectionStart == '0') {
		e.selectionStart = pos;
		e.selectionEnd = pos;
		e.focus();
	} else if(document.selection) {
		// IE support
		e.focus ();
		var sel = document.selection.createRange();
		sel.moveStart('character', -e.value.length);
		sel.moveStart('character',pos);
		sel.moveEnd('character',0);
		sel.select();
	}
}

// Returns the text of the given (text) node, possibly merging subsequent text nodes
function getNodeText(e)
{
	var t = "";
	while(e && e.nodeName == "#text") {
		t += e.nodeValue;
		e = e.nextSibling;
	}
	return t;
}

// Returns true if the element e has a given ancestor element
function isDescendant(e,ancestor)
{
	while(e) {
		if(e === ancestor)
			return true;
		e = e.parentNode;
	}
	return false;
}


// deprecate the following...

// Prevent an event from bubbling
function stopEvent(e)
{
	var ev = e || window.event;
	ev.cancelBubble = true;
	if(ev.stopPropagation) ev.stopPropagation();
	return false;
}

// Remove any event handlers or non-primitve custom attributes
function scrubNode(e)
{
	if(!config.browser.isIE)
		return;
	var att = e.attributes;
	if(att) {
		var t;
		for(t=0; t<att.length; t++) {
			var n = att[t].name;
			if(n !== "style" && (typeof e[n] === "function" || (typeof e[n] === "object" && e[n] != null))) {
				try {
					e[n] = null;
				} catch(ex) {
				}
			}
		}
	}
	var c = e.firstChild;
	while(c) {
		scrubNode(c);
		c = c.nextSibling;
	}
}

function setStylesheet(s,id,doc)
{
	jQuery.twStylesheet(s,{id:id,doc:doc});
}

function removeStyleSheet(id)
{
	jQuery.twStylesheet.remove({id:id});
}

//--
//-- LoaderBase and SaverBase
//--

function LoaderBase() {}

LoaderBase.prototype.loadTiddler = function(store,node,tiddlers)
{
	var title = this.getTitle(store,node);
	if(safeMode && store.isShadowTiddler(title))
		return;
	if(title) {
		var tiddler = store.createTiddler(title);
		this.internalizeTiddler(store,tiddler,title,node);
		tiddlers.push(tiddler);
	}
};

LoaderBase.prototype.loadTiddlers = function(store,nodes)
{
	var t,tiddlers = [];
	for(t = 0; t < nodes.length; t++) {
		try {
			this.loadTiddler(store,nodes[t],tiddlers);
		} catch(ex) {
			showException(ex,config.messages.tiddlerLoadError.format([this.getTitle(store,nodes[t])]));
		}
	}
	return tiddlers;
};

function SaverBase() {}

SaverBase.prototype.externalize = function(store)
{
	var results = [];
	var t,tiddlers = store.getTiddlers("title");
	for(t = 0; t < tiddlers.length; t++) {
		if(!tiddlers[t].doNotSave())
			results.push(this.externalizeTiddler(store, tiddlers[t]));
	}
	return results.join("\n");
};

//--
//-- TW21Loader (inherits from LoaderBase)
//--

function TW21Loader() {}

TW21Loader.prototype = new LoaderBase();

TW21Loader.prototype.getTitle = function(store,node)
{
	var title = null;
	if(node.getAttribute) {
		title = node.getAttribute("title");
		if(!title)
			title = node.getAttribute("tiddler");
	}
	if(!title && node.id) {
		var lenPrefix = store.idPrefix.length;
		if(node.id.substr(0,lenPrefix) == store.idPrefix)
			title = node.id.substr(lenPrefix);
	}
	return title;
};

TW21Loader.prototype.internalizeTiddler = function(store,tiddler,title,node)
{
	var e = node.firstChild;
	var text = null;
	if(node.getAttribute("tiddler")) {
		text = getNodeText(e).unescapeLineBreaks();
	} else {
		while(e.nodeName!="PRE" && e.nodeName!="pre") {
			e = e.nextSibling;
		}
		text = e.innerHTML.replace(/\r/mg,"").htmlDecode();
	}
	var creator = node.getAttribute("creator");
	var modifier = node.getAttribute("modifier");
	var c = node.getAttribute("created");
	var m = node.getAttribute("modified");
	var created = c ? Date.convertFromYYYYMMDDHHMMSS(c) : version.date;
	var modified = m ? Date.convertFromYYYYMMDDHHMMSS(m) : created;
	var tags = node.getAttribute("tags");
	var fields = {};
	var i,attrs = node.attributes;
	for(i = attrs.length-1; i >= 0; i--) {
		var name = attrs[i].name;
		if(attrs[i].specified && !TiddlyWiki.isStandardField(name)) {
			fields[name] = attrs[i].value.unescapeLineBreaks();
		}
	}
	tiddler.assign(title,text,modifier,modified,tags,created,fields,creator);
	return tiddler;
};

//--
//-- TW21Saver (inherits from SaverBase)
//--

function TW21Saver() {}

TW21Saver.prototype = new SaverBase();

TW21Saver.prototype.externalizeTiddler = function(store,tiddler)
{
	try {
		var extendedAttributes = "";
		var usePre = config.options.chkUsePreForStorage;
		store.forEachField(tiddler,
			function(tiddler,fieldName,value) {
				// don't store stuff from the temp namespace
				if(typeof value != "string")
					value = "";
				if(!fieldName.match(/^temp\./))
					extendedAttributes += ' %0="%1"'.format([fieldName,value.escapeLineBreaks().htmlEncode()]);
			},true);
		var created = tiddler.created;
		var modified = tiddler.modified;
		var attributes = tiddler.creator ? ' creator="' + tiddler.creator.htmlEncode() + '"' : "";
		attributes += tiddler.modifier ? ' modifier="' + tiddler.modifier.htmlEncode() + '"' : "";
		attributes += (usePre && created == version.date) ? "" :' created="' + created.convertToYYYYMMDDHHMM() + '"';
		attributes += (usePre && modified == created) ? "" : ' modified="' + modified.convertToYYYYMMDDHHMM() +'"';
		var tags = tiddler.getTags();
		if(!usePre || tags)
			attributes += ' tags="' + tags.htmlEncode() + '"';
		return ('<div %0="%1"%2%3>%4</'+'div>').format([
				usePre ? "title" : "tiddler",
				tiddler.title.htmlEncode(),
				attributes,
				extendedAttributes,
				usePre ? "\n<pre>" + tiddler.text.htmlEncode() + "</pre>\n" : tiddler.text.escapeLineBreaks().htmlEncode()
			]);
	} catch (ex) {
		throw exceptionText(ex,config.messages.tiddlerSaveError.format([tiddler.title]));
	}
};



//]]>
</script>

<script id="jsdeprecatedArea" type="text/javascript">
//<![CDATA[
//--
//-- Deprecated Crypto functions and associated conversion routines.
//-- Use the jQuery.encoding functions directly instead.
//--

// Crypto 'namespace'
function Crypto() {}

// Convert a string to an array of big-endian 32-bit words
Crypto.strToBe32s = function(str)
{
	return jQuery.encoding.strToBe32s(str);
};

// Convert an array of big-endian 32-bit words to a string
Crypto.be32sToStr = function(be)
{
	return jQuery.encoding.be32sToStr(be);
};

// Convert an array of big-endian 32-bit words to a hex string
Crypto.be32sToHex = function(be)
{
	return jQuery.encoding.be32sToHex(be);
};

// Return, in hex, the SHA-1 hash of a string
Crypto.hexSha1Str = function(str)
{
	return jQuery.encoding.digests.hexSha1Str(str);
};

// Return the SHA-1 hash of a string
Crypto.sha1Str = function(str)
{
	return jQuery.encoding.digests.sha1Str(str);
};

// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
Crypto.sha1 = function(x,blen)
{
	return jQuery.encoding.digests.sha1(x,blen);
};

//--
//-- Deprecated code
//--

// @Deprecated: Use createElementAndWikify and this.termRegExp instead
config.formatterHelpers.charFormatHelper = function(w)
{
	w.subWikify(createTiddlyElement(w.output,this.element),this.terminator);
};

// @Deprecated: Use enclosedTextHelper and this.lookaheadRegExp instead
config.formatterHelpers.monospacedByLineHelper = function(w)
{
	var lookaheadRegExp = new RegExp(this.lookahead,"mg");
	lookaheadRegExp.lastIndex = w.matchStart;
	var lookaheadMatch = lookaheadRegExp.exec(w.source);
	if(lookaheadMatch && lookaheadMatch.index == w.matchStart) {
		var text = lookaheadMatch[1];
		if(config.browser.isIE)
			text = text.replace(/\n/g,"\r");
		createTiddlyElement(w.output,"pre",null,null,text);
		w.nextMatch = lookaheadRegExp.lastIndex;
	}
};

// @Deprecated: Use <br> or <br /> instead of <<br>>
config.macros.br = {};
config.macros.br.handler = function(place)
{
	createTiddlyElement(place,"br");
};

// Find an entry in an array. Returns the array index or null
// @Deprecated: Use indexOf instead
Array.prototype.find = function(item)
{
	var i = this.indexOf(item);
	return i == -1 ? null : i;
};

// Load a tiddler from an HTML DIV. The caller should make sure to later call Tiddler.changed()
// @Deprecated: Use store.getLoader().internalizeTiddler instead
Tiddler.prototype.loadFromDiv = function(divRef,title)
{
	return store.getLoader().internalizeTiddler(store,this,title,divRef);
};

// Format the text for storage in an HTML DIV
// @Deprecated Use store.getSaver().externalizeTiddler instead.
Tiddler.prototype.saveToDiv = function()
{
	return store.getSaver().externalizeTiddler(store,this);
};

// @Deprecated: Use store.allTiddlersAsHtml() instead
function allTiddlersAsHtml()
{
	return store.allTiddlersAsHtml();
}

// @Deprecated: Use refreshPageTemplate instead
function applyPageTemplate(title)
{
	refreshPageTemplate(title);
}

// @Deprecated: Use story.displayTiddlers instead
function displayTiddlers(srcElement,titles,template,unused1,unused2,animate,unused3)
{
	story.displayTiddlers(srcElement,titles,template,animate);
}

// @Deprecated: Use story.displayTiddler instead
function displayTiddler(srcElement,title,template,unused1,unused2,animate,unused3)
{
	story.displayTiddler(srcElement,title,template,animate);
}

// @Deprecated: Use functions on right hand side directly instead
var createTiddlerPopup = Popup.create;
var scrollToTiddlerPopup = Popup.show;
var hideTiddlerPopup = Popup.remove;

// @Deprecated: Use right hand side directly instead
var regexpBackSlashEn = new RegExp("\\\\n","mg");
var regexpBackSlash = new RegExp("\\\\","mg");
var regexpBackSlashEss = new RegExp("\\\\s","mg");
var regexpNewLine = new RegExp("\n","mg");
var regexpCarriageReturn = new RegExp("\r","mg");

//--
//-- Deprecated FileAdaptor functions
//--

FileAdaptor.loadTiddlyWikiCallback = function(status,context,responseText,url,xhr)
{
	context.status = status;
	if(!status) {
		context.statusText = "Error reading file";
	} else {
		context.adaptor.store = new TiddlyWiki();
		if(!context.adaptor.store.importTiddlyWiki(responseText)) {
			context.statusText = config.messages.invalidFileError.format([url]);
			context.status = false;
		}
	}
	context.complete(context,context.userParams);
};

//--
//-- Deprecated HTTP request code
//-- Use the jQuery ajax functions directly instead
//--

function loadRemoteFile(url,callback,params)
{
	return httpReq("GET",url,callback,params);
}

function doHttp(type,url,data,contentType,username,password,callback,params,headers,allowCache)
{
	return httpReq(type,url,callback,params,headers,data,contentType,username,password,allowCache);
}

//--
//-- Deprecated String functions
//--

// @Deprecated: no direct replacement, since not used in core code
String.prototype.toJSONString = function()
{
	// Convert a string to it's JSON representation by encoding control characters, double quotes and backslash. See json.org
	var m = {
		'\b': '\\b',
		'\f': '\\f',
		'\n': '\\n',
		'\r': '\\r',
		'\t': '\\t',
		'"' : '\\"',
		'\\': '\\\\'
		};
	var replaceFn = function(a,b) {
		var c = m[b];
		if(c)
			return c;
		c = b.charCodeAt();
		return '\\u00' + Math.floor(c / 16).toString(16) + (c % 16).toString(16);
		};
	if(/["\\\x00-\x1f]/.test(this))
		return '"' + this.replace(/([\x00-\x1f\\"])/g,replaceFn) + '"';
	return '"' + this + '"';
};

//--
//-- Deprecated Tiddler code
//--

// @Deprecated: Use tiddlerToRssItem(tiddler,uri) instead
Tiddler.prototype.toRssItem = function(uri)
{
	return tiddlerToRssItem(this,uri);
};

// @Deprecated: Use "<item>\n" + tiddlerToRssItem(tiddler,uri)  + "\n</item>" instead
Tiddler.prototype.saveToRss = function(uri)
{
	return "<item>\n" + tiddlerToRssItem(this,uri) + "\n</item>";
};

// @Deprecated: Use jQuery.encoding.digests.hexSha1Str instead
Tiddler.prototype.generateFingerprint = function()
{
	return "0x" + Crypto.hexSha1Str(this.text);
};

//--
//-- Deprecated Number functions
//--

// @Deprecated: no direct replacement, since not used in core code
// Clamp a number to a range
Number.prototype.clamp = function(min,max)
{
	var c = this;
	if(c < min)
		c = min;
	if(c > max)
		c = max;
	return Number(c);
};

//--
//-- Deprecated utility functions
//-- Use the jQuery functions directly instead
//--

// Remove all children of a node
function removeChildren(e)
{
	jQuery(e).empty();
}

// Remove a node and all it's children
function removeNode(e)
{
	jQuery(e).remove();
}

// Return the content of an element as plain text with no formatting
function getPlainText(e)
{
	return jQuery(e).text();
}

function addClass(e,className)
{
	jQuery(e).addClass(className);
}

function removeClass(e,className)
{
	jQuery(e).removeClass(className);
}

function hasClass(e,className)
{
	return jQuery(e).hasClass(className);
}

//--
//-- Deprecated Wikifier code
//--

function wikifyPlain(title,theStore,limit)
{
	if(!theStore)
		theStore = store;
	if(theStore.tiddlerExists(title) || theStore.isShadowTiddler(title)) {
		return wikifyPlainText(theStore.getTiddlerText(title),limit,tiddler);
	} else {
		return "";
	}
}


//]]>
</script>
<script id="jslibArea" type="text/javascript">
//<![CDATA[
/*! jQuery v1.8.3 jquery.com | jquery.org/license */
(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+$t[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)):(s+=parseFloat(Dt(e,"padding"+$t[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0));return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,"fx"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,"fx").length||l.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?p.display="inline-block":p.zoom=1)),n.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s==="toggle";if(s===(g?"hide":"show"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),"hidden"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i==="width"||i==="height"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent("onreadystatechange",A),v.ready())},O={};v.fn
=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("\ufeff\u00a0")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!r||!n.length)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on"
,optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML="",r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=v._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,"optgroup"))){t=v(n).val();if(s)return
t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var
t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j," ");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var
p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join("");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment("")),!e.getElementsByTagName("*").length}),G=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t==="!=":t?(s+="",t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);return r[d]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var
n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+" "];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=new RegExp(i.join("|")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e),(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c),c="[id='"+c+"'] ",f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r,p=a.join(",")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),s.push("!=",H)}catch(n){}}),s=new RegExp(s.join("|")),nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[":"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof
e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement("div"),y.appendChild(c),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={BODY:"block"},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var
r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a"),cn.href="",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S)),e===304?(T="notmodified",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do
a=a||".5",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);
//]]>
</script>
<script id="jqueryArea" type="text/javascript">
//<![CDATA[
/*
jQuery.encoding.digests.sha1.js

SHA-1 digest and associated utility functions

Copyright (c) UnaMesa Association 2009

Dual licensed under the MIT and GPL licenses:
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

if(!$.encoding)
	$.encoding = {};
	$.extend($.encoding,{
		strToBe32s: function(str) {
			// Convert a string to an array of big-endian 32-bit words
			var be=[];
			var len=Math.floor(str.length/4);
			var i, j;
			for(i=0, j=0; i<len; i++, j+=4) {
				be[i]=((str.charCodeAt(j)&0xff) << 24)|((str.charCodeAt(j+1)&0xff) << 16)|((str.charCodeAt(j+2)&0xff) << 8)|(str.charCodeAt(j+3)&0xff);
			}
			while(j<str.length) {
				be[j>>2] |= (str.charCodeAt(j)&0xff)<<(24-(j*8)%32);
				j++;
			}
			return be;
		},
		be32sToStr: function(be) {
			// Convert an array of big-endian 32-bit words to a string
			var str='';
			for(var i=0;i<be.length*32;i+=8) {
				str += String.fromCharCode((be[i>>5]>>>(24-i%32)) & 0xff);
			}
			return str;
		},
		be32sToHex: function(be) {
			// Convert an array of big-endian 32-bit words to a hex string
			var hex='0123456789ABCDEF';
			var str='';
			for(var i=0;i<be.length*4;i++) {
				str += hex.charAt((be[i>>2]>>((3-i%4)*8+4))&0xF) + hex.charAt((be[i>>2]>>((3-i%4)*8))&0xF);
			}
			return str;
		}
	});
})(jQuery);


(function($) {

if(!$.encoding.digests)
	$.encoding.digests = {};
	$.extend($.encoding.digests,{
		hexSha1Str: function(str) {
			// Return, in hex, the SHA-1 hash of a string
			return $.encoding.be32sToHex($.encoding.digests.sha1Str(str));
		},
		sha1Str: function(str) {
			// Return the SHA-1 hash of a string
			return sha1($.encoding.strToBe32s(str),str.length);
		},
		sha1: function(x,blen) {
			// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
			return sha1($.encoding.strToBe32s(str),str.length);
		}
	});

	// Private functions.
	function sha1(x,blen) {
		// Calculate the SHA-1 hash of an array of blen bytes of big-endian 32-bit words
		function add32(a,b) {
			// Add 32-bit integers, wrapping at 32 bits
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			var lsw=(a&0xFFFF)+(b&0xFFFF);
			var msw=(a>>16)+(b>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function AA(a,b,c,d,e) {
			// Cryptographic round helper function. Add five 32-bit integers, wrapping at 32 bits, second parameter is rotated left 5 bits before the addition
			// Uses 16-bit operations internally to work around bugs in some JavaScript interpreters.
			b=(b>>>27)|(b<<5);
			var lsw=(a&0xFFFF)+(b&0xFFFF)+(c&0xFFFF)+(d&0xFFFF)+(e&0xFFFF);
			var msw=(a>>16)+(b>>16)+(c>>16)+(d>>16)+(e>>16)+(lsw>>16);
			return (msw<<16)|(lsw&0xFFFF);
		}
		function RR(w,j) {
			// Cryptographic round helper function.
			var n=w[j-3]^w[j-8]^w[j-14]^w[j-16];
			return (n>>>31)|(n<<1);
		}

		var len=blen*8;
		x[len>>5] |= 0x80 << (24-len%32);
		x[((len+64>>9)<<4)+15]=len;
		var w=new Array(80);

		var k1=0x5A827999;
		var k2=0x6ED9EBA1;
		var k3=0x8F1BBCDC;
		var k4=0xCA62C1D6;

		var h0=0x67452301;
		var h1=0xEFCDAB89;
		var h2=0x98BADCFE;
		var h3=0x10325476;
		var h4=0xC3D2E1F0;

		for(var i=0;i<x.length;i+=16) {
			var j=0;
			var t;
			var a=h0;
			var b=h1;
			var c=h2;
			var d=h3;
			var e=h4;
			while(j<16) {
				w[j]=x[i+j];
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<20) {
				w[j]=RR(w,j);
				t=AA(e,a,d^(b&(c^d)),w[j],k1);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<40) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k2);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<60) {
				w[j]=RR(w,j);
				t=AA(e,a,(b&c)|(d&(b|c)),w[j],k3);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			while(j<80) {
				w[j]=RR(w,j);
				t=AA(e,a,b^c^d,w[j],k4);
				e=d; d=c; c=(b>>>2)|(b<<30); b=a; a=t; j++;
			}
			h0=add32(h0,a);
			h1=add32(h1,b);
			h2=add32(h2,c);
			h3=add32(h3,d);
			h4=add32(h4,e);
		}
		return [h0,h1,h2,h3,h4];
	}
})(jQuery);
/*
jQuery.twStylesheet.js

jQuery plugin to dynamically insert CSS rules into a document

Usage:
  jQuery.twStylesheet applies style definitions
  jQuery.twStylesheet.remove neutralizes style definitions

Copyright (c) UnaMesa Association 2009

Triple licensed under the BSD, MIT and GPL licenses:
  http://www.opensource.org/licenses/bsd-license.php
  http://www.opensource.org/licenses/mit-license.php
  http://www.gnu.org/licenses/gpl.html
*/

(function($) {

var defaultId = "customStyleSheet"; // XXX: rename to dynamicStyleSheet?

// Add or replace a style sheet
// css argument is a string of CSS rule sets
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
// N.B.: Uses DOM methods instead of jQuery to ensure cross-browser comaptibility.
$.twStylesheet = function(css, options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(doc.createStyleSheet) { // IE-specific handling
		if(el) {
			el.parentNode.removeChild(el);
		}
		doc.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd",
			'&nbsp;<style id="' + id + '" type="text/css">' + css + '</style>'); // fails without &nbsp;
	} else { // modern browsers
		if(el) {
			el.replaceChild(doc.createTextNode(css), el.firstChild);
		} else {
			el = doc.createElement("style");
			el.type = "text/css";
			el.id = id;
			el.appendChild(doc.createTextNode(css));
			doc.getElementsByTagName("head")[0].appendChild(el);
		}
	}
};

// Remove existing style sheet
// options.id is an optional name identifying the style sheet
// options.doc is an optional document reference
$.twStylesheet.remove = function(options) {
	options = options || {};
	var id = options.id || defaultId;
	var doc = options.doc || document;
	var el = doc.getElementById(id);
	if(el) {
		el.parentNode.removeChild(el);
	}
};

})(jQuery);

//]]>
</script>
<script type="text/javascript">
//<![CDATA[
if(useJavaSaver)
	document.write("<applet style='position:absolute;left:-1px' name='TiddlySaver' code='TiddlySaver.class' archive='TiddlySaver.jar' width='1' height='1'></applet>");
//]]>
</script>
<!--POST-SCRIPT-START-->

<!--POST-SCRIPT-END-->

<body>
<html>
<dd>
fonto: <a href="/http://bonalingvo.net">http://bonalingvo.net</a><br> 

</body>
</html>
