<html>
<head>
	<title></title>
	<script type="text/javascript" src="datumo.json"></script>
	<style media="screen">
	#traduko {
		position: fixed;
		top: 0;
		width: 100%;
		background-color: yellow;
	}
	</style>
</head>
<body>
	<h1>Vortar'o por Siam'an'o'j</h1>
	<p>ทุกสิ่งที่เขียนด้วยภาษาสากลนี้ ท่านสามารถทำความเข้าใจได้ด้วยพนานุกรมเล่มนี้ คำศัพท์ที่ให้ความหมายจะเขียนอยู่ด้วยกัน แต่จะแบ่งด้วยสัญลักษณ์ขีดเล็ก ๆ ตัวอย่าง frat’in’o คำนี้จะให้ความหมาย 1 ความหมาย แต่ประกอบด้วย 3 คำย่อย ซึ่งท่านจะต้องค้นหาแยกต่างหาก</p>
	<p id="vortaro"></p>
	<p id="tempo"></p>
</body>
<script type="text/javascript" src="th-vortaro.js"></script>
<script>
//preni variablon de th-vortaro.js kaj konverti al Array (tabeltipo) pere de <br>
vortaro_HTML = vortaro_HTML.split(/<br>/g)

//serĉi nur array kiuj enhavas "{UL}"
let sxablono_regex = / \{UL\}/;
let rezulto = vortaro_HTML.filter(function(str) {
	return sxablono_regex.test(str);
});
//konverti ĝin al string kaj aldoni ĉe la fino <br>
rezulto = rezulto.toString().replace(/,(?!\s)/g, "<br>");

//STRING
//forrigi informojn de la datumo
//forigi {UL}
rezulto = rezulto.replace(/\{UL\}/g, "")
//forigi - ĉe sufiksoj
rezulto = rezulto.replace(/-/g, "")
//forigi informojn pri fako
rezulto = rezulto.replace(/\{\w{3}\}/g, "")
//forigi informojn pri BRO
rezulto = rezulto.replace(/\[\d+\]/g, "")
rezulto = rezulto.replace(/\[\w+\]/g, "")
//forigi informojn pri trajto de vortoj.
rezulto = rezulto.replace(/\/\/(.+?)\/\//g, "")

// rezulto = rezulto.replace(/i /g, "' ")
// rezulto = rezulto.replace(/a /g, "' ")
rezulto = rezulto.replace(/(\w{2,3})(o )/g, "$1'$2")
rezulto = rezulto.replace(/(\w{2,3})(i )/g, "$1'$2")
rezulto = rezulto.replace(/(\w{2,3})(a )/g, "$1'$2")

rezulto = rezulto.replace(/'o/g, "'")
rezulto = rezulto.replace(/'i/g, "'")
rezulto = rezulto.replace(/'a/g, "'")

//ARRAY
//forigi tag <br> kaj konverti al Array
rezulto = rezulto.split(/<br>/g)
//forigi la unuan signon ; → kaj  kaj postaĵojn
rezulto = rezulto.map(arr => arr.replace(/;.*/, ""))
rezulto = rezulto.map(arr => arr.replace(/→.*/, ""))

//aranĝi laŭ esperanta ordo.
rezulto = rezulto.sort((a,b) => a.localeCompare(b, 'eo'))

//STRING
document.getElementById("vortaro").innerHTML = rezulto.toString().replace(/,(?!\s)/g, "<br>");
</script>
<script type="text/javascript" src="tago.js"></script>
</html>
